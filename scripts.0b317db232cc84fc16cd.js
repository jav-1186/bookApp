!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},s=n.push,a=n.indexOf,u={},c=u.toString,l=u.hasOwnProperty,h=l.toString,f=h.call(Object),p={},d=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},v=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function m(t,e,n){var r,i,o=(n=n||v).createElement("script");if(o.text=t,e)for(r in y)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[c.call(t)]||"object":typeof t}var _="3.5.1",w=function(t,e){return new w.fn.init(t,e)};function E(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!d(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return i.call(this)},get:function(t){return null==t?i.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||d(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,s[e]=w.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==c.call(t)||(e=r(t))&&("function"!=typeof(n=l.call(e,"constructor")&&e.constructor)||h.call(n)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){m(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(E(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?w.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,s=0,a=[];if(E(t))for(r=t.length;s<r;s++)null!=(i=e(t[s],s,n))&&a.push(i);else for(s in t)null!=(i=e(t[s],s,n))&&a.push(i);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,n,r,i,o,s,a,u,c,l,h,f,p,d,g,v,y,m,b,_="sizzle"+1*new Date,w=t.document,E=0,T=0,I=ut(),S=ut(),C=ut(),A=ut(),N=function(t,e){return t===e&&(h=!0),0},k={}.hasOwnProperty,x=[],O=x.pop,D=x.push,P=x.push,R=x.slice,L=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+F+"*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(F+"+","g"),B=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),K=new RegExp(F+"|>"),z=new RegExp(q),G=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=_t((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(x=R.call(w.childNodes),w.childNodes)}catch(e){P={apply:x.length?function(t,e){D.apply(t,R.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,r,i){var o,a,c,l,h,d,y,m=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&(f(e),e=e||p,g)){if(11!==w&&(h=Z.exec(t)))if(o=h[1]){if(9===w){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(m&&(c=m.getElementById(o))&&b(e,c)&&c.id===o)return r.push(c),r}else{if(h[2])return P.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(y=t,m=e,1===w&&(K.test(t)||W.test(t))){for((m=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((l=e.getAttribute("id"))?l=l.replace(rt,it):e.setAttribute("id",l=_)),a=(d=s(t)).length;a--;)d[a]=(l?"#"+l:":scope")+" "+bt(d[a]);y=d.join(",")}try{return P.apply(r,m.querySelectorAll(y)),r}catch(e){A(t,!0)}finally{l===_&&e.removeAttribute("id")}}}return u(t.replace(B,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ct(t){return t[_]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ft(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ct((function(e){return e=+e,ct((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!Y.test(t.namespaceURI||e&&e.nodeName||"HTML")},f=at.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:w;return s!=p&&9===s.nodeType&&s.documentElement&&(d=(p=s).documentElement,g=!o(p),w!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=lt((function(t){return d.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=lt((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=lt((function(t){return d.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=J.test(p.querySelectorAll))&&(lt((function(t){var e;d.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=J.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&lt((function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),y.push("!=",q)})),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=J.test(d.compareDocumentPosition),b=e||J.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==p||t.ownerDocument==w&&b(w,t)?-1:e==p||e.ownerDocument==w&&b(w,e)?1:l?L(l,t)-L(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==p?-1:e==p?1:i?-1:o?1:l?L(l,t)-L(l,e):0;if(i===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ft(s[r],a[r]):s[r]==w?-1:a[r]==w?1:0}),p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(f(t),n.matchesSelector&&g&&!A[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var r=m.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){A(e,!0)}return 0<at(e,p,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&f(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&f(t);var i=r.attrHandle[e.toLowerCase()],o=i&&k.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(rt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(N),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=at.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=at.selectors={cacheLength:50,createPseudo:ct,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=I[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&I(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=at.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&-1<i.indexOf(n):"$="===e?n&&i.slice(-n.length)===n:"~="===e?-1<(" "+i.replace(V," ")+" ").indexOf(n):"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,b=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&m){for(b=(p=(c=(l=(h=(f=v)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===E&&c[1])&&c[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){l[t]=[E,p,b];break}}else if(m&&(b=p=(c=(l=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===E&&c[1]),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++b||(m&&((l=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[E,b]),f!==e)););return(b-=i)===r||b%r==0&&0<=b/r}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[_]?i(e):1<i.length?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=L(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ct((function(t){var e=[],n=[],r=a(t.replace(B,"$1"));return r[_]?ct((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return 0<at(t,e).length}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return-1<(e.textContent||i(e)).indexOf(t)}})),lang:ct((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,n){return[n<0?n+e:n]})),even:vt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:vt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:vt((function(t,e,n){for(var r=n<0?n+e:e<n?e:n;0<=--r;)t.push(r);return t})),gt:vt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=dt(e);function mt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function _t(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=T++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var c,l,h,f=[E,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(l=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===E&&c[1]===a)return f[2]=c[2];if((l[o]=f)[2]=t(e,n,u))return!0}return!1}}function wt(t){return 1<t.length?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function Et(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function Tt(t,e,n,r,i,o){return r&&!r[_]&&(r=Tt(r)),i&&!i[_]&&(i=Tt(i,o)),ct((function(o,s,a,u){var c,l,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:Et(g,f,t,a,u),y=n?i||(o?t:d||r)?[]:s:v;if(n&&n(v,y,a,u),r)for(c=Et(y,p),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(y[p[l]]=!(v[p[l]]=h));if(o){if(i||t){if(i){for(c=[],l=y.length;l--;)(h=y[l])&&c.push(v[l]=h);i(null,y=[],c,u)}for(l=y.length;l--;)(h=y[l])&&-1<(c=i?L(o,h):f[l])&&(o[c]=!(s[c]=h))}}else y=Et(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):P.apply(s,y)}))}function It(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,l=_t((function(t){return t===e}),a,!0),h=_t((function(t){return-1<L(e,t)}),a,!0),f=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?l(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])f=[_t(wt(f),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[_]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Tt(1<u&&wt(f),1<u&&bt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&It(t.slice(u,i)),i<o&&It(t=t.slice(i)),i<o&&bt(t))}f.push(n)}return wt(f)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=at.tokenize=function(t,e){var n,i,o,s,a,u,c,l=S[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=r.preFilter;a;){for(s in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),r.filter)!(i=Q[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):S(t,u).slice(0)},a=at.compile=function(t,e){var n,i,o,a,u,l,h=[],d=[],v=C[t+" "];if(!v){for(e||(e=s(t)),n=e.length;n--;)(v=It(e[n]))[_]?h.push(v):d.push(v);(v=C(t,(i=d,a=0<(o=h).length,u=0<i.length,l=function(t,e,n,s,l){var h,d,v,y=0,m="0",b=t&&[],_=[],w=c,T=t||u&&r.find.TAG("*",l),I=E+=null==w?1:Math.random()||.1,S=T.length;for(l&&(c=e==p||e||l);m!==S&&null!=(h=T[m]);m++){if(u&&h){for(d=0,e||h.ownerDocument==p||(f(h),n=!g);v=i[d++];)if(v(h,e||p,n)){s.push(h);break}l&&(E=I)}a&&((h=!v&&h)&&y--,t&&b.push(h))}if(y+=m,a&&m!==y){for(d=0;v=o[d++];)v(b,_,e,n);if(t){if(0<y)for(;m--;)b[m]||_[m]||(_[m]=O.call(s));_=Et(_)}P.apply(s,_),l&&!t&&0<_.length&&1<y+o.length&&at.uniqueSort(s)}return l&&(E=I,c=w),b},a?ct(l):l))).selector=t}return v},u=at.select=function(t,e,n,i){var o,u,c,l,h,f="function"==typeof t&&t,p=!i&&s(t=f.selector||t);if(n=n||[],1===p.length){if(2<(u=p[0]=p[0].slice(0)).length&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Q.needsContext.test(t)?0:u.length;o--&&!r.relative[l=(c=u[o]).type];)if((h=r.find[l])&&(i=h(c.matches[0].replace(et,nt),tt.test(u[0].type)&&yt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&bt(u)))return P.apply(n,i),n;break}}return(f||a(t,p))(i,e,!g,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split("").sort(N).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ht(M,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),at}(t);w.find=T,w.expr=T.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=T.uniqueSort,w.text=T.getText,w.isXMLDoc=T.isXML,w.contains=T.contains,w.escapeSelector=T.escape;var I=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&w(t).is(n))break;r.push(t)}return r},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=w.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(t,e,n){return d(e)?w.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?w.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?w.grep(t,(function(t){return-1<a.call(e,t)!==n})):w.filter(e,t,n)}w.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?w.find.matchesSelector(r,t)?[r]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<r;e++)if(w.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)w.find(t,i[e],n);return 1<r?w.uniqueSort(n):n},filter:function(t){return this.pushStack(k(this,t||[],!1))},not:function(t){return this.pushStack(k(this,t||[],!0))},is:function(t){return!!k(this,"string"==typeof t&&C.test(t)?w(t):t||[],!1).length}});var x,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||x,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:O.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(w.merge(this,w.parseHTML(r[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:v,!0)),N.test(r[1])&&w.isPlainObject(e))for(r in e)d(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=v.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):d(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,x=w(v);var D=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&w(t);if(!C.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?a.call(w(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return null!=t.contentDocument&&r(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(n,r){var i=w.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),1<this.length&&(P[t]||w.uniqueSort(i),D.test(t)&&i.reverse()),this.pushStack(i)}}));var L=/[^\x20\t\r\n\f]+/g;function M(t){return t}function F(t){throw t}function j(t,e,n,r){var i;try{t&&d(i=t.promise)?i.call(t).done(e).fail(n):t&&d(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){var e;t="string"==typeof t?(e={},w.each(t.match(L)||[],(function(t,n){e[n]=!0})),e):w.extend({},t);var n,r,i,o,s=[],a=[],u=-1,c=function(){for(o=o||t.once,i=n=!0;a.length;u=-1)for(r=a.shift();++u<s.length;)!1===s[u].apply(r[0],r[1])&&t.stopOnFalse&&(u=s.length,r=!1);t.memory||(r=!1),n=!1,o&&(s=r?[]:"")},l={add:function(){return s&&(r&&!n&&(u=s.length-1,a.push(r)),function e(n){w.each(n,(function(n,r){d(r)?t.unique&&l.has(r)||s.push(r):r&&r.length&&"string"!==b(r)&&e(r)}))}(arguments),r&&!n&&c()),this},remove:function(){return w.each(arguments,(function(t,e){for(var n;-1<(n=w.inArray(e,s,n));)s.splice(n,1),n<=u&&u--})),this},has:function(t){return t?-1<w.inArray(t,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=r="",this},disabled:function(){return!s},lock:function(){return o=a=[],r||n||(s=r=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),n||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(e){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(e){w.each(n,(function(n,r){var i=d(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&d(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(e,r,i){var o=0;function s(e,n,r,i){return function(){var a=this,u=arguments,c=function(){var t,c;if(!(e<o)){if((t=r.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");d(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?i?c.call(t,s(o,n,M,i),s(o,n,F,i)):(o++,c.call(t,s(o,n,M,i),s(o,n,F,i),s(o,n,M,n.notifyWith))):(r!==M&&(a=void 0,u=[t]),(i||n.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(c){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(c,l.stackTrace),o<=e+1&&(r!==F&&(a=void 0,u=[c]),n.rejectWith(a,u))}};e?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),t.setTimeout(l))}}return w.Deferred((function(t){n[0][3].add(s(0,t,d(i)?i:M,t.notifyWith)),n[1][3].add(s(0,t,d(e)?e:M)),n[2][3].add(s(0,t,d(r)?r:F))})).promise()},promise:function(t){return null!=t?w.extend(t,i):i}},o={};return w.each(n,(function(t,e){var s=e[2],a=e[5];i[e[1]]=s.add,a&&s.add((function(){r=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),o=i.call(arguments),s=w.Deferred(),a=function(t){return function(n){r[t]=this,o[t]=1<arguments.length?i.call(arguments):n,--e||s.resolveWith(r,o)}};if(e<=1&&(j(t,s.done(a(n)).resolve,s.reject,!e),"pending"===s.state()||d(o[n]&&o[n].then)))return s.then();for(;n--;)j(o[n],a(n),s.reject);return s.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&U.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},w.readyException=function(e){t.setTimeout((function(){throw e}))};var q=w.Deferred();function V(){v.removeEventListener("DOMContentLoaded",V),t.removeEventListener("load",V),w.ready()}w.fn.ready=function(t){return q.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0)!==t&&0<--w.readyWait||q.resolveWith(v,[w])}}),w.ready.then=q.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?t.setTimeout(w.ready):(v.addEventListener("DOMContentLoaded",V),t.addEventListener("load",V));var B=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===b(n))for(a in i=!0,n)B(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,d(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(w(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},H=/^-ms-/,W=/-([a-z])/g;function K(t,e){return e.toUpperCase()}function z(t){return t.replace(H,"ms-").replace(W,K)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[z(e)]=n;else for(r in e)i[z(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(z):(e=z(e))in r?[e]:e.match(L)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||w.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Y=new Q,X=new Q,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(t,e,n){var r,i;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:$.test(i)?JSON.parse(i):i)}catch(t){}X.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return X.hasData(t)||Y.hasData(t)},data:function(t,e,n){return X.access(t,e,n)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=X.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=z(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){X.set(this,t)})):B(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=X.get(o,t))||void 0!==(n=Z(o,t))?n:void 0;this.each((function(){X.set(this,t,e)}))}),null,e,1<arguments.length,null,!0)},removeData:function(t){return this.each((function(){X.remove(this,t)}))}}),w.extend({queue:function(t,e,n){var r;if(t)return r=Y.get(t,e=(e||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Y.access(t,e,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=w.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=w._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){w.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Y.get(t,n)||Y.access(t,n,{empty:w.Callbacks("once memory").add((function(){Y.remove(t,[e+"queue",n])}))})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each((function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=w.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Y.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=v.documentElement,it=function(t){return w.contains(t.ownerDocument,t)},ot={composed:!0};rt.getRootNode&&(it=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(ot)===t.ownerDocument});var st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&it(t)&&"none"===w.css(t,"display")};function at(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return w.css(t,e,"")},u=a(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),l=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+u)&&et.exec(w.css(t,e));if(l&&l[3]!==c){for(c=c||l[3],l=+(u/=2)||1;s--;)w.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;w.style(t,e,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ut={};function ct(t,e){for(var n,r,i,o,s,a,u,c=[],l=0,h=t.length;l<h;l++)(r=t[l]).style&&(n=r.style.display,e?("none"===n&&(c[l]=Y.get(r,"display")||null,c[l]||(r.style.display="")),""===r.style.display&&st(r)&&(c[l]=(u=s=o=void 0,s=(i=r).ownerDocument,(u=ut[a=i.nodeName])||(o=s.body.appendChild(s.createElement(a)),u=w.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ut[a]=u)))):"none"!==n&&(c[l]="none",Y.set(r,"display",n)));for(l=0;l<h;l++)null!=c[l]&&(t[l].style.display=c[l]);return t}w.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){st(this)?w(this).show():w(this).hide()}))}});var lt,ht,ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,dt=/^$|^module$|\/(?:java|ecma)script/i;lt=v.createDocumentFragment().appendChild(v.createElement("div")),(ht=v.createElement("input")).setAttribute("type","radio"),ht.setAttribute("checked","checked"),ht.setAttribute("name","t"),lt.appendChild(ht),p.checkClone=lt.cloneNode(!0).cloneNode(!0).lastChild.checked,lt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!lt.cloneNode(!0).lastChild.defaultValue,lt.innerHTML="<option></option>",p.option=!!lt.lastChild;var gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?w.merge([t],n):n}function yt(t,e){for(var n=0,r=t.length;n<r;n++)Y.set(t[n],"globalEval",!e||Y.get(e[n],"globalEval"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function bt(t,e,n,r,i){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===b(o))w.merge(f,o.nodeType?[o]:o);else if(mt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(u=gt[a]||gt._default)[1]+w.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;w.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(r&&-1<w.inArray(o,r))i&&i.push(o);else if(c=it(o),s=vt(h.appendChild(o),"script"),c&&yt(s),n)for(l=0;o=s[l++];)dt.test(o.type||"")&&n.push(o);return h}var _t=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function It(){return!1}function St(t,e){return t===function(){try{return v.activeElement}catch(t){}}()==("focus"===e)}function Ct(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)Ct(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=It;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each((function(){w.event.add(this,e,i,r,n)}))}function At(t,e,n){n?(Y.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var r,o,s=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=i.call(arguments),Y.set(this,e,s),r=n(this,e),this[e](),s!==(o=Y.get(this,e))||r?Y.set(this,e,!1):o={},s!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else s.length&&(Y.set(this,e,{value:w.event.trigger(w.extend(s[0],w.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&w.event.add(t,e,Tt)}w.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,g,v=Y.get(t);if(G(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(rt,i),n.guid||(n.guid=w.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)p=g=(a=Et.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=w.event.special[p]||{},h=w.event.special[p=(i?h.delegateType:h.bindType)||p]||{},l=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,g,v=Y.hasData(t)&&Y.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(L)||[""]).length;c--;)if(p=g=(a=Et.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=w.event.special[p]||{},f=u[p=(r?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||w.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)w.event.remove(t,p+e[c],n,r,!0);w.isEmptyObject(u)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),u=w.event.fix(t),c=(Y.get(this,"events")||Object.create(null))[u.type]||[],l=w.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(s=w.event.handlers.call(this,u,c),e=0;(i=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?-1<w(i,this).index(c):w.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:d(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ft.test(e.type)&&e.click&&A(e,"input")&&At(e,"click",Tt),!1},trigger:function(t){var e=this||t;return ft.test(e.type)&&e.click&&A(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return ft.test(e.type)&&e.click&&A(e,"input")&&Y.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:It,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:It,isPropagationStopped:It,isImmediatePropagationStopped:It,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&_t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return At(this,t,St),!1},trigger:function(){return At(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||w.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),w.fn.extend({on:function(t,e,n,r){return Ct(this,t,e,n,r)},one:function(t,e,n,r){return Ct(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,w(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=It),this.each((function(){w.event.remove(this,t,n,e)}))}});var Nt=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(i in Y.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)w.event.add(e,i,a[i][n]);X.hasData(t)&&(o=X.access(t),s=w.extend({},o),X.set(e,s))}}function Lt(t,e,n,r){e=o(e);var i,s,a,u,c,l,h=0,f=t.length,g=f-1,v=e[0],y=d(v);if(y||1<f&&"string"==typeof v&&!p.checkClone&&kt.test(v))return t.each((function(i){var o=t.eq(i);y&&(e[0]=v.call(this,i,o.html())),Lt(o,e,n,r)}));if(f&&(s=(i=bt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(u=(a=w.map(vt(i,"script"),Dt)).length;h<f;h++)c=i,h!==g&&(c=w.clone(c,!0,!0),u&&w.merge(a,vt(c,"script"))),n.call(t[h],c,h);if(u)for(l=a[a.length-1].ownerDocument,w.map(a,Pt),h=0;h<u;h++)dt.test((c=a[h]).type||"")&&!Y.access(c,"globalEval")&&w.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):m(c.textContent.replace(xt,""),c,l))}return t}function Mt(t,e,n){for(var r,i=e?w.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(vt(r)),r.parentNode&&(n&&it(r)&&yt(vt(r,"script")),r.parentNode.removeChild(r));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a,u,c,l=t.cloneNode(!0),h=it(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=vt(l),r=0,i=(o=vt(t)).length;r<i;r++)a=o[r],"input"===(c=(u=s[r]).nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||vt(t),s=s||vt(l),r=0,i=o.length;r<i;r++)Rt(o[r],s[r]);else Rt(t,l);return 0<(s=vt(l,"script")).length&&yt(s,!h&&vt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=w.event.special,o=0;void 0!==(n=t[o]);o++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(r in e.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,e.handle);n[Y.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Mt(this,t,!0)},remove:function(t){return Mt(this,t)},text:function(t){return B(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Lt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)}))},prepend:function(){return Lt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return B(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,(function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(vt(this)),n&&n.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var n,r=[],i=w(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[e](n),s.apply(r,n.get());return this.pushStack(r)}}));var Ft=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),jt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Ut=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},qt=new RegExp(nt.join("|"),"i");function Vt(t,e,n){var r,i,o,s,a=t.style;return(n=n||jt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||it(t)||(s=w.style(t,e)),!p.pixelBoxStyles()&&Ft.test(s)&&qt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Bt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(c).appendChild(l);var e=t.getComputedStyle(l);r="1%"!==e.top,u=12===n(e.marginLeft),l.style.right="60%",s=36===n(e.right),i=36===n(e.width),l.style.position="absolute",o=12===n(l.offsetWidth/3),rt.removeChild(c),l=null}}function n(t){return Math.round(parseFloat(t))}var r,i,o,s,a,u,c=v.createElement("div"),l=v.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,r,i;return null==a&&(e=v.createElement("table"),n=v.createElement("tr"),r=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",rt.appendChild(e).appendChild(n).appendChild(r),i=t.getComputedStyle(n),a=3<parseInt(i.height),rt.removeChild(e)),a}}))}();var Ht=["Webkit","Moz","ms"],Wt=v.createElement("div").style,Kt={};function zt(t){return w.cssProps[t]||Kt[t]||(t in Wt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ht.length;n--;)if((t=Ht[n]+e)in Wt)return t}(t)||t)}var Gt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"};function $t(t,e,n){var r=et.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Jt(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=w.css(t,n+nt[s],!0,i)),r?("content"===n&&(u-=w.css(t,"padding"+nt[s],!0,i)),"margin"!==n&&(u-=w.css(t,"border"+nt[s]+"Width",!0,i))):(u+=w.css(t,"padding"+nt[s],!0,i),"padding"!==n?u+=w.css(t,"border"+nt[s]+"Width",!0,i):a+=w.css(t,"border"+nt[s]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function Zt(t,e,n){var r=jt(t),i=(!p.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,r),o=i,s=Vt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ft.test(s)){if(!n)return s;s="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&A(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===w.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+Jt(t,e,n||(i?"border":"content"),o,r,s)+"px"}function te(t,e,n,r,i){return new te.prototype.init(t,e,n,r,i)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Vt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=z(e),u=Qt.test(e),c=t.style;if(u||(e=zt(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=et.exec(n))&&i[1]&&(n=at(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=z(e);return Qt.test(e)||(e=zt(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Vt(t,e,r)),"normal"===i&&e in Xt&&(i=Xt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,n,r){if(n)return!Gt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,r):Ut(t,Yt,(function(){return Zt(t,e,r)}))},set:function(t,n,r){var i,o=jt(t),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===w.css(t,"boxSizing",!1,o),u=r?Jt(t,e,r,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),u&&(i=et.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),$t(0,n,u)}}})),w.cssHooks.marginLeft=Bt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+nt[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(w.cssHooks[t+e].set=$t)})),w.fn.extend({css:function(t,e){return B(this,(function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=jt(t),i=e.length;s<i;s++)o[e[s]]=w.css(t,e[s],!1,r);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)}),t,e,1<arguments.length)}}),((w.Tween=te).prototype={constructor:te,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,n=te.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):te.propHooks._default.set(this),this}}).init.prototype=te.prototype,(te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[zt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=te.prototype.init,w.fx.step={};var ee,ne,re,ie,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ae(){ne&&(!1===v.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,w.fx.interval),w.fx.tick())}function ue(){return t.setTimeout((function(){ee=void 0})),ee=Date.now()}function ce(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=nt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,n){for(var r,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function he(t,e,n){var r,i,o=0,s=he.prefilters.length,a=w.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=ee||ue(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ee||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var r=w.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=z(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=w.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<s;o++)if(r=he.prefilters[o].call(c,t,l,c.opts))return d(r.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return w.map(l,le,c),d(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){d(t)?(e=t,t=["*"]):t=t.match(L);for(var n,r=0,i=t.length;r<i;r++)(he.tweeners[n=t[r]]=he.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&st(t),v=Y.get(t,"fxshow");for(r in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()}))}))),e)if(oe.test(i=e[r])){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}p[r]=v&&v[r]||w.style(t,r)}if((u=!w.isEmptyObject(e))||!w.isEmptyObject(p))for(r in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=v&&v.display)&&(c=Y.get(t,"display")),"none"===(l=w.css(t,"display"))&&(c?l=c:(ct([t],!0),c=t.style.display||c,l=w.css(t,"display"),ct([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===w.css(t,"float")&&(u||(f.done((function(){d.display=c})),null==c&&(c="none"===(l=d.display)?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&ct([t],!0),f.done((function(){for(r in g||ct([t]),Y.remove(t,"fxshow"),p)w.style(t,r,p[r])}))),u=le(g?v[r]:0,r,f),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),w.speed=function(t,e,n){var r=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||d(t)&&t,duration:t,easing:n&&e||e&&!d(e)&&e};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){d(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(t,e,n,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=w.isEmptyObject(t),o=w.speed(e,n,r),s=function(){var e=he(this,w.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=w.timers,s=Y.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&se.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Y.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=w.timers,s=r?r.length:0;for(n.finish=!0,w.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var n=w.fn[e];w.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,r,i)}})),w.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ee=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ee=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ne||(ne=!0,ae())},w.fx.stop=function(){ne=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,n){return e=w.fx&&w.fx.speeds[e]||e,this.queue(n=n||"fx",(function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}}))},re=v.createElement("input"),ie=v.createElement("select").appendChild(v.createElement("option")),re.type="checkbox",p.checkOn=""!==re.value,p.optSelected=ie.selected,(re=v.createElement("input")).value="t",re.type="radio",p.radioValue="t"===re.value;var fe,pe=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return B(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(i=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=w.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(L);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=pe[e]||w.find.attr;pe[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=pe[s],pe[s]=i,i=null!=n(t,e,r)?s:null,pe[s]=o),i}}));var de=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function ve(t){return(t.match(L)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}w.fn.extend({prop:function(t,e){return B(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(i=w.propHooks[e=w.propFix[e]||e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(d(t))return this.each((function(e){w(this).addClass(t.call(this,e,ye(this)))}));if((e=me(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+ve(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=ve(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(d(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+ve(i)+" "){for(s=0;o=e[s++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(a=ve(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):d(t)?this.each((function(n){w(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,i,o,s;if(r)for(i=0,o=w(this),s=me(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+ve(ye(n))+" ").indexOf(e))return!0;return!1}});var be=/\r/g;w.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=d(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,w(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:ve(w.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=w(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=w.makeArray(e),s=i.length;s--;)((r=i[s]).selected=-1<w.inArray(w.valHooks.option.get(r),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},p.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),p.focusin="onfocusin"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,n,r,i){var o,s,a,u,c,h,f,p,y=[r||v],m=l.call(e,"type")?e.type:e,b=l.call(e,"namespace")?e.namespace.split("."):[];if(s=p=a=r=r||v,3!==r.nodeType&&8!==r.nodeType&&!_e.test(m+w.event.triggered)&&(-1<m.indexOf(".")&&(m=(b=m.split(".")).shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[w.expando]?e:new w.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:w.makeArray(n,[e]),f=w.event.special[m]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!g(r)){for(_e.test((u=f.delegateType||m)+m)||(s=s.parentNode);s;s=s.parentNode)y.push(s),a=s;a===(r.ownerDocument||v)&&y.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=y[o++])&&!e.isPropagationStopped();)p=s,e.type=1<o?u:f.bindType||m,(h=(Y.get(s,"events")||Object.create(null))[e.type]&&Y.get(s,"handle"))&&h.apply(s,n),(h=c&&s[c])&&h.apply&&G(s)&&(e.result=h.apply(s,n),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(y.pop(),n)||!G(r)||c&&d(r[m])&&!g(r)&&((a=r[c])&&(r[c]=null),w.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,we),r[m](),e.isPropagationStopped()&&p.removeEventListener(m,we),w.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(t,e,n){var r=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(r,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=Y.access(r,e);i||r.addEventListener(t,n,!0),Y.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Y.access(r,e)-1;i?Y.access(r,e,i):(r.removeEventListener(t,n,!0),Y.remove(r,e))}}}));var Ee=t.location,Te={guid:Date.now()},Ie=/\?/;w.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),n};var Se=/\[\]$/,Ce=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;function ke(t,e,n,r){var i;if(Array.isArray(e))w.each(e,(function(e,i){n||Se.test(t)?r(t,i):ke(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==b(e))r(t,e);else for(i in e)ke(t+"["+i+"]",e[i],n,r)}w.param=function(t,e){var n,r=[],i=function(t,e){var n=d(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){i(this.name,this.value)}));else for(n in t)ke(n,t[n],e,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Ne.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ft.test(t))})).map((function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}})):{name:e.name,value:n.replace(Ce,"\r\n")}})).get()}});var xe=/%20/g,Oe=/#.*$/,De=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,Le=/^\/\//,Me={},Fe={},je="*/".concat("*"),Ue=v.createElement("a");function qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(L)||[];if(d(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ve(t,e,n,r){var i={},o=t===Fe;function s(a){var u;return i[a]=!0,w.each(t[a]||[],(function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function Be(t,e){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&w.extend(!0,t,r),t}Ue.href=Ee.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,w.ajaxSettings),e):Be(w.ajaxSettings,t)},ajaxPrefilter:qe(Me),ajaxTransport:qe(Fe),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0);var r,i,o,s,a,u,c,l,h,f,p=w.ajaxSetup({},n=n||{}),d=p.context||p,g=p.context&&(d.nodeType||d.jquery)?w(d):w.event,y=w.Deferred(),m=w.Callbacks("once memory"),b=p.statusCode||{},_={},E={},T="canceled",I={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Pe.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)I.always(t[I.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||T;return r&&r.abort(e),S(0,e),this}};if(y.promise(I),p.url=((e||p.url||Ee.href)+"").replace(Le,Ee.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){u=v.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ve(Me,p,n,I),c)return I;for(h in(l=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),i=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xe,"+")):(f=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Ie.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(De,"$1"),f=(Ie.test(i)?"&":"?")+"_="+Te.guid+++f),p.url=i+f),p.ifModified&&(w.lastModified[i]&&I.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&I.setRequestHeader("If-None-Match",w.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&I.setRequestHeader("Content-Type",p.contentType),I.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]),p.headers)I.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(d,I,p)||c))return I.abort();if(T="abort",m.add(p.complete),I.done(p.success),I.fail(p.error),r=Ve(Fe,p,n,I)){if(I.readyState=1,l&&g.trigger("ajaxSend",[I,p]),c)return I;p.async&&0<p.timeout&&(a=t.setTimeout((function(){I.abort("timeout")}),p.timeout));try{c=!1,r.send(_,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,n,s,u){var h,f,v,_,E,T=n;c||(c=!0,a&&t.clearTimeout(a),r=void 0,o=u||"",I.readyState=0<e?4:0,h=200<=e&&e<300||304===e,s&&(_=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,I,s)),!h&&-1<w.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),_=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,_,I,h),h?(p.ifModified&&((E=I.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=E),(E=I.getResponseHeader("etag"))&&(w.etag[i]=E)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=_.state,f=_.data,h=!(v=_.error))):(v=T,!e&&T||(T="error",e<0&&(e=0))),I.status=e,I.statusText=(n||T)+"",h?y.resolveWith(d,[f,T,I]):y.rejectWith(d,[I,T,v]),I.statusCode(b),b=void 0,l&&g.trigger(h?"ajaxSuccess":"ajaxError",[I,p,h?f:v]),m.fireWith(d,[I,T]),l&&(g.trigger("ajaxComplete",[I,p]),--w.active||w.event.trigger("ajaxStop")))}return I},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,n,r,i){return d(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:i,data:n,success:r},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(d(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return d(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=d(t);return this.each((function(n){w(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var He={0:200,1223:204},We=w.ajaxSettings.xhr();p.cors=!!We&&"withCredentials"in We,p.ajax=We=!!We,w.ajaxTransport((function(e){var n,r;if(p.cors||We&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);n=function(t){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(He[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&r()}))},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(i){if(n)throw i}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),v.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ke,ze=[],Ge=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||w.expando+"_"+Te.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(e,n,r){var i,o,s,a=!1!==e.jsonp&&(Ge.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=d(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,"$1"+i):!1!==e.jsonp&&(e.url+=(Ie.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||w.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always((function(){void 0===o?w(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,ze.push(i)),s&&d(o)&&o(s[0]),s=o=void 0})),"script"})),p.createHTMLDocument=((Ke=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ke.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((r=(e=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,e.head.appendChild(r)):e=v),o=!n&&[],(i=N.exec(t))?[e.createElement(i[1])]:(i=bt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],i.childNodes)));var r,i,o},w.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return-1<a&&(r=ve(t.slice(a)),t=t.slice(0,a)),d(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),0<s.length&&w.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?w("<div>").append(w.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=w.css(t,"position"),l=w(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=w.css(t,"top"),u=w.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),d(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),l.css(h))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?{top:(e=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),i.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-w.css(r,"marginTop",!0),left:e.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||rt}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;w.fn[t]=function(r){return B(this,(function(t,r,i){var o;if(g(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Bt(p.pixelPosition,(function(t,n){if(n)return n=Vt(t,e),Ft.test(n)?w(t).position()[e]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){w.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return B(this,(function(e,n,i){var o;return g(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?w.css(e,n,a):w.style(e,n,i,a)}),e,s?i:void 0,s)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,n){return 0<arguments.length?this.on(e,null,t,n):this.trigger(e)}}));var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),d(t))return r=i.call(arguments,2),(o=function(){return t.apply(e||this,r.concat(i.call(arguments)))}).guid=t.guid=t.guid||w.guid++,o},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=d,w.isWindow=g,w.camelCase=z,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Ye=t.jQuery,Xe=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Xe),e&&t.jQuery===w&&(t.jQuery=Ye),w},void 0===e&&(t.jQuery=t.$=w),w})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,(function(){"use strict";function t(t){return t&&"[object Function]"==={}.toString.call(t)}function e(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function n(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function r(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var i=e(t);return/(auto|scroll|overlay)/.test(i.overflow+i.overflowY+i.overflowX)?t:r(n(t))}function i(t){return t&&t.referenceNode?t.referenceNode:t}function o(t){return 11===t?G:10===t?Q:G||Q}function s(t){if(!t)return document.documentElement;for(var n=o(10)?document.body:null,r=t.offsetParent||null;r===n&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===e(r,"position")?s(r):r:t?t.ownerDocument.documentElement:document.documentElement}function a(t){return null===t.parentNode?t:a(t.parentNode)}function u(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var c=o.commonAncestorContainer;if(t!==c&&e!==c||r.contains(i))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||s(t.firstElementChild)===t)}(c)?c:s(c);var l=a(t);return l.host?u(l.host,e):u(t,a(e).host)}function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function l(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=c(e,"top"),i=c(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function h(t,e){var n="x"===e?"Left":"Top",r="Left"==n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function f(t,e,n,r){return H(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],o(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function p(t){var e=t.body,n=t.documentElement,r=o(10)&&getComputedStyle(n);return{height:f("Height",e,n,r),width:f("Width",e,n,r)}}function d(t){return J({},t,{right:t.left+t.width,bottom:t.top+t.height})}function g(t){var n={};try{if(o(10)){n=t.getBoundingClientRect();var r=c(t,"top"),i=c(t,"left");n.top+=r,n.left+=i,n.bottom+=r,n.right+=i}else n=t.getBoundingClientRect()}catch(e){}var s={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a="HTML"===t.nodeName?p(t.ownerDocument):{},u=t.offsetWidth-(a.width||t.clientWidth||s.width),l=t.offsetHeight-(a.height||t.clientHeight||s.height);if(u||l){var f=e(t);u-=h(f,"x"),l-=h(f,"y"),s.width-=u,s.height-=l}return d(s)}function v(t,n){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=o(10),a="HTML"===n.nodeName,u=g(t),c=g(n),h=r(t),f=e(n),p=parseFloat(f.borderTopWidth),v=parseFloat(f.borderLeftWidth);i&&a&&(c.top=H(c.top,0),c.left=H(c.left,0));var y=d({top:u.top-c.top-p,left:u.left-c.left-v,width:u.width,height:u.height});if(y.marginTop=0,y.marginLeft=0,!s&&a){var m=parseFloat(f.marginTop),b=parseFloat(f.marginLeft);y.top-=p-m,y.bottom-=p-m,y.left-=v-b,y.right-=v-b,y.marginTop=m,y.marginLeft=b}return(s&&!i?n.contains(h):n===h&&"BODY"!==h.nodeName)&&(y=l(y,n)),y}function y(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=v(t,n),i=H(n.clientWidth,window.innerWidth||0),o=H(n.clientHeight,window.innerHeight||0),s=e?0:c(n),a=e?0:c(n,"left"),u={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return d(u)}function m(t){var r=t.nodeName;if("BODY"===r||"HTML"===r)return!1;if("fixed"===e(t,"position"))return!0;var i=n(t);return!!i&&m(i)}function b(t){if(!t||!t.parentElement||o())return document.documentElement;for(var n=t.parentElement;n&&"none"===e(n,"transform");)n=n.parentElement;return n||document.documentElement}function _(t,e,o,s){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],c={top:0,left:0},l=a?b(t):u(t,i(e));if("viewport"===s)c=y(l,a);else{var h;"scrollParent"===s?"BODY"===(h=r(n(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===s?t.ownerDocument.documentElement:s;var f=v(h,l,a);if("HTML"!==h.nodeName||m(l))c=f;else{var d=p(t.ownerDocument),g=d.height,_=d.width;c.top+=f.top-f.marginTop,c.bottom=g+f.top,c.left+=f.left-f.marginLeft,c.right=_+f.left}}var w="number"==typeof(o=o||0);return c.left+=w?o:o.left||0,c.top+=w?o:o.top||0,c.right-=w?o:o.right||0,c.bottom-=w?o:o.bottom||0,c}function w(t){return t.width*t.height}function E(t,e,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=_(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map((function(t){return J({key:t},a[t],{area:w(a[t])})})).sort((function(t,e){return e.area-t.area})),c=u.filter((function(t){return t.width>=n.clientWidth&&t.height>=n.clientHeight})),l=0<c.length?c[0].key:u[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function T(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=r?b(e):u(e,i(n));return v(n,o,r)}function I(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function S(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function C(t,e,n){n=n.split("-")[0];var r=I(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[s]=e[s]+e[u]/2-r[u]/2,i[a]=n===a?e[a]-r[c]:e[S(a)],i}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function N(e,n,r){return(void 0===r?e:e.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=A(t,(function(t){return t[e]===n}));return t.indexOf(r)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&t(r)&&(n.offsets.popper=d(n.offsets.popper),n.offsets.reference=d(n.offsets.reference),n=r(n,e))})),n}function k(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=E(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=C(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=N(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function x(t,e){return t.some((function(t){return t.enabled&&t.name===e}))}function O(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function D(){return this.state.isDestroyed=!0,x(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function P(t){var e=t.ownerDocument;return e?e.defaultView:window}function R(){this.state.eventsEnabled||(this.state=function(t,e,n,i){n.updateBound=i,P(t).addEventListener("resize",n.updateBound,{passive:!0});var o=r(t);return function t(e,n,i,o){var s="BODY"===e.nodeName,a=s?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),s||t(r(a.parentNode),n,i,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}(this.reference,0,this.state,this.scheduleUpdate))}function L(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return P(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function M(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function F(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&M(e[n])&&(r="px"),t.style[n]=e[n]+r}))}function j(t,e,n){var r=A(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function U(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=et.indexOf(t),r=et.slice(n+1).concat(et.slice(0,n));return e?r.reverse():r}var q=Math.min,V=Math.floor,B=Math.round,H=Math.max,W="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,K=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(W&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),z=W&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),K))}},G=W&&!(!window.MSInputMethodContext||!document.documentMode),Q=W&&/MSIE 10/.test(navigator.userAgent),Y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},X=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},J=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Z=W&&/Firefox/i.test(navigator.userAgent),tt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],et=tt.slice(3),nt=function(){function e(n,r){var i=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=z(this.update.bind(this)),this.options=J({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(J({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){i.options.modifiers[t]=J({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return J({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(e){e.enabled&&t(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return X(e,[{key:"update",value:function(){return k.call(this)}},{key:"destroy",value:function(){return D.call(this)}},{key:"enableEventListeners",value:function(){return R.call(this)}},{key:"disableEventListeners",value:function(){return L.call(this)}}]),e}();return nt.Utils=("undefined"==typeof window?global:window).PopperUtils,nt.placements=tt,nt.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",c=a?"width":"height",l={start:$({},u,o[u]),end:$({},u,o[u]+o[c]-s[c])};t.offsets.popper=J({},s,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,r=e.offset,i=t.offsets,o=i.popper,s=i.reference,a=t.placement.split("-")[0];return n=M(+r)?[+r,0]:function(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(A(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1===a?[s]:[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))];return(c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(0===s.indexOf("%")){var a;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}return d(a)[e]/100*o}return"vh"===s||"vw"===s?("vh"===s?H(document.documentElement.clientHeight,window.innerHeight||0):H(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){M(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}(r,o,s,a),"left"===a?(o.top+=n[0],o.left-=n[1]):"right"===a?(o.top+=n[0],o.left+=n[1]):"top"===a?(o.left+=n[0],o.top-=n[1]):"bottom"===a&&(o.left+=n[0],o.top+=n[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||s(t.instance.popper);t.instance.reference===n&&(n=s(n));var r=O("transform"),i=t.instance.popper.style,o=i.top,a=i.left,u=i[r];i.top="",i.left="",i[r]="";var c=_(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=u,e.boundaries=c;var l=t.offsets.popper,h={primary:function(t){var n=l[t];return l[t]<c[t]&&!e.escapeWithReference&&(n=H(l[t],c[t])),$({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>c[t]&&!e.escapeWithReference&&(r=q(l[n],c[t]-("right"===t?l.width:l.height))),$({},n,r)}};return e.priority.forEach((function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";l=J({},l,h[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=V,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",u=s?"left":"top",c=s?"width":"height";return n[a]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[a])&&(t.offsets.popper[u]=o(r[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,n){var r;if(!j(t.instance.modifiers,"arrow","keepTogether"))return t;var i=n.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],s=t.offsets,a=s.popper,u=s.reference,c=-1!==["left","right"].indexOf(o),l=c?"height":"width",h=c?"Top":"Left",f=h.toLowerCase(),p=c?"left":"top",g=c?"bottom":"right",v=I(i)[l];u[g]-v<a[f]&&(t.offsets.popper[f]-=a[f]-(u[g]-v)),u[f]+v>a[g]&&(t.offsets.popper[f]+=u[f]+v-a[g]),t.offsets.popper=d(t.offsets.popper);var y=u[f]+u[l]/2-v/2,m=e(t.instance.popper),b=parseFloat(m["margin"+h]),_=parseFloat(m["border"+h+"Width"]),w=y-t.offsets.popper[f]-b-_;return w=H(q(a[l]-v,w),0),t.arrowElement=i,t.offsets.arrow=($(r={},f,B(w)),$(r,p,""),r),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(x(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=_(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=S(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case"flip":s=[r,i];break;case"clockwise":s=U(r);break;case"counterclockwise":s=U(r,!0);break;default:s=e.behavior}return s.forEach((function(a,u){if(r!==a||s.length===u+1)return t;r=t.placement.split("-")[0],i=S(r);var c=t.offsets.popper,l=t.offsets.reference,h=V,f="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),p=h(c.left)<h(n.left),d=h(c.right)>h(n.right),g=h(c.top)<h(n.top),v=h(c.bottom)>h(n.bottom),y="left"===r&&p||"right"===r&&d||"top"===r&&g||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&d||!m&&"start"===o&&g||!m&&"end"===o&&v)||!!e.flipVariationsByContent&&(m&&"start"===o&&d||m&&"end"===o&&p||!m&&"start"===o&&v||!m&&"end"===o&&g);(f||y||b)&&(t.flipped=!0,(f||y)&&(r=s[u+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=J({},t.offsets.popper,C(t.instance.popper,t.offsets.reference,t.placement)),t=N(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=S(e),t.offsets.popper=d(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!j(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=A(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=A(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,u,c=void 0===o?e.gpuAcceleration:o,l=s(t.instance.popper),h=g(l),f={position:i.position},p=function(t,e){var n=t.offsets,r=n.popper,i=B,o=function(t){return t},s=i(n.reference.width),a=i(r.width),u=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),l=e?u||c||s%2==a%2?i:V:o,h=e?i:o;return{left:l(1==s%2&&1==a%2&&!c&&e?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:l(r.right)}}(t,2>window.devicePixelRatio||!Z),d="bottom"===n?"top":"bottom",v="right"===r?"left":"right",y=O("transform");if(u="bottom"==d?"HTML"===l.nodeName?-l.clientHeight+p.bottom:-h.height+p.bottom:p.top,a="right"==v?"HTML"===l.nodeName?-l.clientWidth+p.right:-h.width+p.right:p.left,c&&y)f[y]="translate3d("+a+"px, "+u+"px, 0)",f[d]=0,f[v]=0,f.willChange="transform";else{var m="right"==v?-1:1;f[d]=u*("bottom"==d?-1:1),f[v]=a*m,f.willChange=d+", "+v}return t.attributes=J({},{"x-placement":t.placement},t.attributes),t.styles=J({},f,t.styles),t.arrowStyles=J({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return F(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach((function(n){!1===e[n]?t.removeAttribute(n):t.setAttribute(n,e[n])}))}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&F(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=T(i,e,t,n.positionFixed),s=E(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),F(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},nt})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap={},t.jQuery,t.Popper)}(this,(function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e),o=r(n);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=i.default(t).css("transition-duration"),n=i.default(t).css("transition-delay"),r=parseFloat(e),o=parseFloat(n);return r||o?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){i.default(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r],o=e[r],s=o&&c.isElement(o)?"element":null===(a=o)||void 0===a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(s))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+i+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===i.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=i.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};c.jQueryDetection(),i.default.fn.emulateTransitionEnd=function(t){var e=this,n=!1;return i.default(this).one(c.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||c.triggerTransitionEnd(e)}),t),this},i.default.event.special[c.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(i.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var l="alert",h=i.default.fn[l],f=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){i.default.removeData(this._element,"bs.alert"),this._element=null},e._getRootElement=function(t){var e=c.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=i.default(t).closest(".alert")[0]),n},e._triggerCloseEvent=function(t){var e=i.default.Event("close.bs.alert");return i.default(t).trigger(e),e},e._removeElement=function(t){var e=this;if(i.default(t).removeClass("show"),i.default(t).hasClass("fade")){var n=c.getTransitionDurationFromElement(t);i.default(t).one(c.TRANSITION_END,(function(n){return e._destroyElement(t,n)})).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){i.default(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),r=n.data("bs.alert");r||(r=new t(this),n.data("bs.alert",r)),"close"===e&&r[e](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),t}();i.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f)),i.default.fn[l]=f._jQueryInterface,i.default.fn[l].Constructor=f,i.default.fn[l].noConflict=function(){return i.default.fn[l]=h,f._jQueryInterface};var p=i.default.fn.button,d=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=i.default(this._element).closest('[data-toggle="buttons"]')[0];if(n){var r=this._element.querySelector('input:not([type="hidden"])');if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains("active"))t=!1;else{var o=n.querySelector(".active");o&&i.default(o).removeClass("active")}t&&("checkbox"!==r.type&&"radio"!==r.type||(r.checked=!this._element.classList.contains("active")),this.shouldAvoidTriggerChange||i.default(r).trigger("change")),r.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&i.default(this._element).toggleClass("active"))},e.dispose=function(){i.default.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(e,n){return this.each((function(){var r=i.default(this),o=r.data("bs.button");o||(o=new t(this),r.data("bs.button",o)),o.shouldAvoidTriggerChange=n,"toggle"===e&&o[e]()}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),t}();i.default(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var e=t.target,n=e;if(i.default(e).hasClass("btn")||(e=i.default(e).closest(".btn")[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var r=e.querySelector('input:not([type="hidden"])');if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==n.tagName&&"LABEL"===e.tagName||d._jQueryInterface.call(i.default(e),"toggle","INPUT"===n.tagName)}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var e=i.default(t.target).closest(".btn")[0];i.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))})),i.default(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var r=t[e],i=r.querySelector('input:not([type="hidden"])');i.checked||i.hasAttribute("checked")?r.classList.add("active"):r.classList.remove("active")}for(var o=0,s=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<s;o++){var a=t[o];"true"===a.getAttribute("aria-pressed")?a.classList.add("active"):a.classList.remove("active")}})),i.default.fn.button=d._jQueryInterface,i.default.fn.button.Constructor=d,i.default.fn.button.noConflict=function(){return i.default.fn.button=p,d._jQueryInterface};var g="carousel",v=i.default.fn[g],y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},m={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},b={TOUCH:"touch",PEN:"pen"},_=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide("next")},e.nextWhenVisible=function(){var t=i.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide("prev")},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(".active.carousel-item");var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)i.default(this._element).one("slid.bs.carousel",(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();this._slide(t>n?"next":"prev",this._items[t])}},e.dispose=function(){i.default(this._element).off(".bs.carousel"),i.default.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=u({},y,t),c.typeCheckConfig(g,t,m),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&i.default(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&i.default(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&b[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(i.default(this._element).on("pointerdown.bs.carousel",(function(t){return e(t)})),i.default(this._element).on("pointerup.bs.carousel",(function(t){return n(t)})),this._element.classList.add("pointer-event")):(i.default(this._element).on("touchstart.bs.carousel",(function(t){return e(t)})),i.default(this._element).on("touchmove.bs.carousel",(function(e){return function(e){t.touchDeltaX=e.originalEvent.touches&&e.originalEvent.touches.length>1?0:e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),i.default(this._element).on("touchend.bs.carousel",(function(t){return n(t)})))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n="next"===t,r="prev"===t,i=this._getItemIndex(e);if((r&&0===i||n&&i===this._items.length-1)&&!this._config.wrap)return e;var o=(i+("prev"===t?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(".active.carousel-item")),o=i.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:r,to:n});return i.default(this._element).trigger(o),o},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));i.default(e).removeClass("active");var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&i.default(n).addClass("active")}},e._slide=function(t,e){var n,r,o,s=this,a=this._element.querySelector(".active.carousel-item"),u=this._getItemIndex(a),l=e||a&&this._getItemByDirection(t,a),h=this._getItemIndex(l),f=Boolean(this._interval);if("next"===t?(n="carousel-item-left",r="carousel-item-next",o="left"):(n="carousel-item-right",r="carousel-item-prev",o="right"),l&&i.default(l).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&a&&l){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(l);var p=i.default.Event("slid.bs.carousel",{relatedTarget:l,direction:o,from:u,to:h});if(i.default(this._element).hasClass("slide")){i.default(l).addClass(r),c.reflow(l),i.default(a).addClass(n),i.default(l).addClass(n);var d=parseInt(l.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var g=c.getTransitionDurationFromElement(a);i.default(a).one(c.TRANSITION_END,(function(){i.default(l).removeClass(n+" "+r).addClass("active"),i.default(a).removeClass("active "+r+" "+n),s._isSliding=!1,setTimeout((function(){return i.default(s._element).trigger(p)}),0)})).emulateTransitionEnd(g)}else i.default(a).removeClass("active"),i.default(l).addClass("active"),this._isSliding=!1,i.default(this._element).trigger(p);f&&this.cycle()}},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data("bs.carousel"),r=u({},y,i.default(this).data());"object"==typeof e&&(r=u({},r,e));var o="string"==typeof e?e:r.slide;if(n||(n=new t(this,r),i.default(this).data("bs.carousel",n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(e){var n=c.getSelectorFromElement(this);if(n){var r=i.default(n)[0];if(r&&i.default(r).hasClass("carousel")){var o=u({},i.default(r).data(),i.default(this).data()),s=this.getAttribute("data-slide-to");s&&(o.interval=!1),t._jQueryInterface.call(i.default(r),o),s&&i.default(r).data("bs.carousel").to(s),e.preventDefault()}}},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return y}}]),t}();i.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",_._dataApiClickHandler),i.default(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var r=i.default(t[e]);_._jQueryInterface.call(r,r.data())}})),i.default.fn[g]=_._jQueryInterface,i.default.fn[g].Constructor=_,i.default.fn[g].noConflict=function(){return i.default.fn[g]=v,_._jQueryInterface};var w="collapse",E=i.default.fn[w],T={toggle:!0,parent:""},I={toggle:"boolean",parent:"(string|element)"},S=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),r=0,i=n.length;r<i;r++){var o=n[r],s=c.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter((function(e){return e===t}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){i.default(this._element).hasClass("show")?this.hide():this.show()},e.show=function(){var e,n,r=this;if(!(this._isTransitioning||i.default(this._element).hasClass("show")||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains("collapse")}))).length&&(e=null),e&&(n=i.default(e).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var o=i.default.Event("show.bs.collapse");if(i.default(this._element).trigger(o),!o.isDefaultPrevented()){e&&(t._jQueryInterface.call(i.default(e).not(this._selector),"hide"),n||i.default(e).data("bs.collapse",null));var s=this._getDimension();i.default(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),u=c.getTransitionDurationFromElement(this._element);i.default(this._element).one(c.TRANSITION_END,(function(){i.default(r._element).removeClass("collapsing").addClass("collapse show"),r._element.style[s]="",r.setTransitioning(!1),i.default(r._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(u),this._element.style[s]=this._element[a]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&i.default(this._element).hasClass("show")){var e=i.default.Event("hide.bs.collapse");if(i.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",c.reflow(this._element),i.default(this._element).addClass("collapsing").removeClass("collapse show");var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=c.getSelectorFromElement(s);null!==a&&(i.default([].slice.call(document.querySelectorAll(a))).hasClass("show")||i.default(s).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var u=c.getTransitionDurationFromElement(this._element);i.default(this._element).one(c.TRANSITION_END,(function(){t.setTransitioning(!1),i.default(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(u)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){i.default.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=u({},T,t)).toggle=Boolean(t.toggle),c.typeCheckConfig(w,t,I),t},e._getDimension=function(){return i.default(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var e,n=this;c.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var r=[].slice.call(e.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return i.default(r).each((function(e,r){n._addAriaAndCollapsedClass(t._getTargetFromElement(r),[r])})),e},e._addAriaAndCollapsedClass=function(t,e){var n=i.default(t).hasClass("show");e.length&&i.default(e).toggleClass("collapsed",!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=c.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),r=n.data("bs.collapse"),o=u({},T,n.data(),"object"==typeof e&&e?e:{});if(!r&&o.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new t(this,o),n.data("bs.collapse",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return T}}]),t}();i.default(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=i.default(this),n=c.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(n));i.default(r).each((function(){var t=i.default(this),n=t.data("bs.collapse")?"toggle":e.data();S._jQueryInterface.call(t,n)}))})),i.default.fn[w]=S._jQueryInterface,i.default.fn[w].Constructor=S,i.default.fn[w].noConflict=function(){return i.default.fn[w]=E,S._jQueryInterface};var C="dropdown",A=i.default.fn[C],N=new RegExp("38|40|27"),k={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},x={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},O=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass("disabled")){var e=i.default(this._menu).hasClass("show");t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||i.default(this._element).hasClass("disabled")||i.default(this._menu).hasClass("show"))){var n={relatedTarget:this._element},r=i.default.Event("show.bs.dropdown",n),s=t._getParentFromElement(this._element);if(i.default(s).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===o.default)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=s:c.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i.default(s).addClass("position-static"),this._popper=new o.default(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(s).closest(".navbar-nav").length&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass("show"),i.default(s).toggleClass("show").trigger(i.default.Event("shown.bs.dropdown",n))}}},e.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass("disabled")&&i.default(this._menu).hasClass("show")){var e={relatedTarget:this._element},n=i.default.Event("hide.bs.dropdown",e),r=t._getParentFromElement(this._element);i.default(r).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass("show"),i.default(r).toggleClass("show").trigger(i.default.Event("hidden.bs.dropdown",e)))}},e.dispose=function(){i.default.removeData(this._element,"bs.dropdown"),i.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;i.default(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=u({},this.constructor.Default,i.default(this._element).data(),t),c.typeCheckConfig(C,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},e._getPlacement=function(){var t=i.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=i.default(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":i.default(this._menu).hasClass("dropdown-menu-right")&&(e="bottom-end"),e},e._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=u({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),u({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data("bs.dropdown");if(n||(n=new t(this,"object"==typeof e?e:null),i.default(this).data("bs.dropdown",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),r=0,o=n.length;r<o;r++){var s=t._getParentFromElement(n[r]),a=i.default(n[r]).data("bs.dropdown"),u={relatedTarget:n[r]};if(e&&"click"===e.type&&(u.clickEvent=e),a){var c=a._menu;if(i.default(s).hasClass("show")&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&i.default.contains(s,e.target))){var l=i.default.Event("hide.bs.dropdown",u);i.default(s).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),n[r].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),i.default(c).removeClass("show"),i.default(s).removeClass("show").trigger(i.default.Event("hidden.bs.dropdown",u)))}}}},t._getParentFromElement=function(t){var e,n=c.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||i.default(e.target).closest(".dropdown-menu").length):!N.test(e.which))&&!this.disabled&&!i.default(this).hasClass("disabled")){var n=t._getParentFromElement(this),r=i.default(n).hasClass("show");if(r||27!==e.which){if(e.preventDefault(),e.stopPropagation(),!r||27===e.which||32===e.which)return 27===e.which&&i.default(n.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void i.default(this).trigger("click");var o=[].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return i.default(t).is(":visible")}));if(0!==o.length){var s=o.indexOf(e.target);38===e.which&&s>0&&s--,40===e.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}}},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return k}},{key:"DefaultType",get:function(){return x}}]),t}();i.default(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',O._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",O._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",O._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),O._jQueryInterface.call(i.default(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),i.default.fn[C]=O._jQueryInterface,i.default.fn[C].Constructor=O,i.default.fn[C].noConflict=function(){return i.default.fn[C]=A,O._jQueryInterface};var D=i.default.fn.modal,P={backdrop:!0,keyboard:!0,focus:!0,show:!0},R={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},L=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){i.default(this._element).hasClass("fade")&&(this._isTransitioning=!0);var n=i.default.Event("show.bs.modal",{relatedTarget:t});i.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return e.hide(t)})),i.default(this._dialog).on("mousedown.dismiss.bs.modal",(function(){i.default(e._element).one("mouseup.dismiss.bs.modal",(function(t){i.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=i.default.Event("hide.bs.modal");if(i.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var r=i.default(this._element).hasClass("fade");if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off("focusin.bs.modal"),i.default(this._element).removeClass("show"),i.default(this._element).off("click.dismiss.bs.modal"),i.default(this._dialog).off("mousedown.dismiss.bs.modal"),r){var o=c.getTransitionDurationFromElement(this._element);i.default(this._element).one(c.TRANSITION_END,(function(t){return e._hideModal(t)})).emulateTransitionEnd(o)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return i.default(t).off(".bs.modal")})),i.default(document).off("focusin.bs.modal"),i.default.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=u({},P,t),c.typeCheckConfig("modal",t,R),t},e._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var e=i.default.Event("hidePrevented.bs.modal");if(i.default(this._element).trigger(e),e.isDefaultPrevented())return;var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var r=c.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(c.TRANSITION_END),i.default(this._element).one(c.TRANSITION_END,(function(){t._element.classList.remove("modal-static"),n||i.default(t._element).one(c.TRANSITION_END,(function(){t._element.style.overflowY=""})).emulateTransitionEnd(t._element,r)})).emulateTransitionEnd(r),this._element.focus()}else this.hide()},e._showElement=function(t){var e=this,n=i.default(this._element).hasClass("fade"),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,n&&c.reflow(this._element),i.default(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var o=i.default.Event("shown.bs.modal",{relatedTarget:t}),s=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,i.default(e._element).trigger(o)};if(n){var a=c.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(c.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},e._enforceFocus=function(){var t=this;i.default(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(e){document!==e.target&&t._element!==e.target&&0===i.default(t._element).has(e.target).length&&t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?i.default(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||i.default(this._element).off("keydown.dismiss.bs.modal")},e._setResizeEvent=function(){var t=this;this._isShown?i.default(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):i.default(window).off("resize.bs.modal")},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){i.default(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),i.default(t._element).trigger("hidden.bs.modal")}))},e._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=i.default(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on("click.dismiss.bs.modal",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e._triggerBackdropTransition()})),n&&c.reflow(this._backdrop),i.default(this._backdrop).addClass("show"),!t)return;if(!n)return void t();var r=c.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(c.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass("show");var o=function(){e._removeBackdrop(),t&&t()};if(i.default(this._element).hasClass("fade")){var s=c.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(c.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),n=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(e).each((function(e,n){var r=n.style.paddingRight,o=i.default(n).css("padding-right");i.default(n).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")})),i.default(n).each((function(e,n){var r=n.style.marginRight,o=i.default(n).css("margin-right");i.default(n).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}i.default(document.body).addClass("modal-open")},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));i.default(t).each((function(t,e){var n=i.default(e).data("padding-right");i.default(e).removeData("padding-right"),e.style.paddingRight=n||""}));var e=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(e).each((function(t,e){var n=i.default(e).data("margin-right");void 0!==n&&i.default(e).css("margin-right",n).removeData("margin-right")}));var n=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each((function(){var r=i.default(this).data("bs.modal"),o=u({},P,i.default(this).data(),"object"==typeof e&&e?e:{});if(r||(r=new t(this,o),i.default(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return P}}]),t}();i.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var e,n=this,r=c.getSelectorFromElement(this);r&&(e=document.querySelector(r));var o=i.default(e).data("bs.modal")?"toggle":u({},i.default(e).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var s=i.default(e).one("show.bs.modal",(function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",(function(){i.default(n).is(":visible")&&n.focus()}))}));L._jQueryInterface.call(i.default(e),o,this)})),i.default.fn.modal=L._jQueryInterface,i.default.fn.modal.Constructor=L,i.default.fn.modal.noConflict=function(){return i.default.fn.modal=D,L._jQueryInterface};var M=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],F=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,j=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function U(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var r=(new window.DOMParser).parseFromString(t,"text/html"),i=Object.keys(e),o=[].slice.call(r.body.querySelectorAll("*")),s=function(t,n){var r=o[t],s=r.nodeName.toLowerCase();if(-1===i.indexOf(r.nodeName.toLowerCase()))return r.parentNode.removeChild(r),"continue";var a=[].slice.call(r.attributes),u=[].concat(e["*"]||[],e[s]||[]);a.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===M.indexOf(n)||Boolean(t.nodeValue.match(F)||t.nodeValue.match(j));for(var r=e.filter((function(t){return t instanceof RegExp})),i=0,o=r.length;i<o;i++)if(n.match(r[i]))return!0;return!1})(t,u)||r.removeAttribute(t.nodeName)}))},a=0,u=o.length;a<u;a++)s(a);return r.body.innerHTML}var q="tooltip",V=i.default.fn[q],B=new RegExp("(^|\\s)bs-tooltip\\S+","g"),H=["sanitize","whiteList","sanitizeFn"],W={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},K={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},z={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},G={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Q=function(){function t(t,e){if(void 0===o.default)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=i.default(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(i.default(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");var e=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(e);var n=c.findShadowRoot(this.element),r=i.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!r)return;var s=this.getTipElement(),a=c.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&i.default(s).addClass("fade");var u="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,l=this._getAttachment(u);this.addAttachmentClass(l);var h=this._getContainer();i.default(s).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(s).appendTo(h),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new o.default(this.element,s,this._getPopperConfig(l)),i.default(s).addClass("show"),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var f=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,i.default(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(i.default(this.tip).hasClass("fade")){var p=c.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(c.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},e.hide=function(t){var e=this,n=this.getTipElement(),r=i.default.Event(this.constructor.Event.HIDE),o=function(){"show"!==e._hoverState&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),i.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(i.default(this.element).trigger(r),!r.isDefaultPrevented()){if(i.default(n).removeClass("show"),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass("fade")){var s=c.getTransitionDurationFromElement(n);i.default(n).one(c.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){i.default(this.getTipElement()).addClass("bs-tooltip-"+t)},e.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(i.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),i.default(t).removeClass("fade show")},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=U(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?i.default(e).parent().is(t)||t.empty().append(e):t.text(i.default(e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return u({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=u({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},e._getAttachment=function(t){return K[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)i.default(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n="hover"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r="hover"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;i.default(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=u({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||i.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),i.default(e.getTipElement()).hasClass("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){"show"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||i.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),i.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){"out"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=i.default(this.element).data();return Object.keys(e).forEach((function(t){-1!==H.indexOf(t)&&delete e[t]})),"number"==typeof(t=u({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),c.typeCheckConfig(q,t,this.constructor.DefaultType),t.sanitize&&(t.template=U(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=i.default(this.getTipElement()),e=t.attr("class").match(B);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(i.default(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),r=n.data("bs.tooltip"),o="object"==typeof e&&e;if((r||!/dispose|hide/.test(e))&&(r||(r=new t(this,o),n.data("bs.tooltip",r)),"string"==typeof e)){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return z}},{key:"NAME",get:function(){return q}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return G}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return W}}]),t}();i.default.fn[q]=Q._jQueryInterface,i.default.fn[q].Constructor=Q,i.default.fn[q].noConflict=function(){return i.default.fn[q]=V,Q._jQueryInterface};var Y="popover",X=i.default.fn[Y],$=new RegExp("(^|\\s)bs-popover\\S+","g"),J=u({},Q.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Z=u({},Q.DefaultType,{content:"(string|element|function)"}),tt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},et=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(t){i.default(this.getTipElement()).addClass("bs-popover-"+t)},o.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},o.setContent=function(){var t=i.default(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var t=i.default(this.getTipElement()),e=t.attr("class").match($);null!==e&&e.length>0&&t.removeClass(e.join(""))},r._jQueryInterface=function(t){return this.each((function(){var e=i.default(this).data("bs.popover"),n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new r(this,n),i.default(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},a(r,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return J}},{key:"NAME",get:function(){return Y}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return tt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Z}}]),r}(Q);i.default.fn[Y]=et._jQueryInterface,i.default.fn[Y].Constructor=et,i.default.fn[Y].noConflict=function(){return i.default.fn[Y]=X,et._jQueryInterface};var nt="scrollspy",rt=i.default.fn[nt],it={offset:10,method:"auto",target:""},ot={offset:"number",method:"string",target:"(string|element)"},st=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return n._process(t)})),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,n="position"===e?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var r,o=c.getSelectorFromElement(t);if(o&&(r=document.querySelector(o)),r){var s=r.getBoundingClientRect();if(s.width||s.height)return[i.default(r)[e]().top+n,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){i.default.removeData(this._element,"bs.scrollspy"),i.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=u({},it,"object"==typeof t&&t?t:{})).target&&c.isElement(t.target)){var e=i.default(t.target).attr("id");e||(e=c.getUID(nt),i.default(t.target).attr("id",e)),t.target="#"+e}return c.typeCheckConfig(nt,t,ot),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=i.default([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass("active"),n.addClass("active")):(n.addClass("active"),n.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),n.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),i.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data("bs.scrollspy");if(n||(n=new t(this,"object"==typeof e&&e),i.default(this).data("bs.scrollspy",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return it}}]),t}();i.default(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=i.default(t[e]);st._jQueryInterface.call(n,n.data())}})),i.default.fn[nt]=st._jQueryInterface,i.default.fn[nt].Constructor=st,i.default.fn[nt].noConflict=function(){return i.default.fn[nt]=rt,st._jQueryInterface};var at=i.default.fn.tab,ut=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass("active")||i.default(this._element).hasClass("disabled"))){var e,n,r=i.default(this._element).closest(".nav, .list-group")[0],o=c.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?"> li > .active":".active";n=(n=i.default.makeArray(i.default(r).find(s)))[n.length-1]}var a=i.default.Event("hide.bs.tab",{relatedTarget:this._element}),u=i.default.Event("show.bs.tab",{relatedTarget:n});if(n&&i.default(n).trigger(a),i.default(this._element).trigger(u),!u.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(e=document.querySelector(o)),this._activate(this._element,r);var l=function(){var e=i.default.Event("hidden.bs.tab",{relatedTarget:t._element}),r=i.default.Event("shown.bs.tab",{relatedTarget:n});i.default(n).trigger(e),i.default(t._element).trigger(r)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){i.default.removeData(this._element,"bs.tab"),this._element=null},e._activate=function(t,e,n){var r=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?i.default(e).children(".active"):i.default(e).find("> li > .active"))[0],s=n&&o&&i.default(o).hasClass("fade"),a=function(){return r._transitionComplete(t,o,n)};if(o&&s){var u=c.getTransitionDurationFromElement(o);i.default(o).removeClass("show").one(c.TRANSITION_END,a).emulateTransitionEnd(u)}else a()},e._transitionComplete=function(t,e,n){if(e){i.default(e).removeClass("active");var r=i.default(e.parentNode).find("> .dropdown-menu .active")[0];r&&i.default(r).removeClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(i.default(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),c.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&i.default(t.parentNode).hasClass("dropdown-menu")){var o=i.default(t).closest(".dropdown")[0];if(o){var s=[].slice.call(o.querySelectorAll(".dropdown-toggle"));i.default(s).addClass("active")}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),r=n.data("bs.tab");if(r||(r=new t(this),n.data("bs.tab",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),t}();i.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),ut._jQueryInterface.call(i.default(this),"show")})),i.default.fn.tab=ut._jQueryInterface,i.default.fn.tab.Constructor=ut,i.default.fn.tab.noConflict=function(){return i.default.fn.tab=at,ut._jQueryInterface};var ct=i.default.fn.toast,lt={animation:"boolean",autohide:"boolean",delay:"number"},ht={animation:!0,autohide:!0,delay:500},ft=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=i.default.Event("show.bs.toast");if(i.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var n=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),i.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),c.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var r=c.getTransitionDurationFromElement(this._element);i.default(this._element).one(c.TRANSITION_END,n).emulateTransitionEnd(r)}else n()}},e.hide=function(){if(this._element.classList.contains("show")){var t=i.default.Event("hide.bs.toast");i.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),i.default(this._element).off("click.dismiss.bs.toast"),i.default.removeData(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function(t){return t=u({},ht,i.default(this._element).data(),"object"==typeof t&&t?t:{}),c.typeCheckConfig("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;i.default(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},e._close=function(){var t=this,e=function(){t._element.classList.add("hide"),i.default(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var n=c.getTransitionDurationFromElement(this._element);i.default(this._element).one(c.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this),r=n.data("bs.toast");if(r||(r=new t(this,"object"==typeof e&&e),n.data("bs.toast",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](this)}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"DefaultType",get:function(){return lt}},{key:"Default",get:function(){return ht}}]),t}();i.default.fn.toast=ft._jQueryInterface,i.default.fn.toast.Constructor=ft,i.default.fn.toast.noConflict=function(){return i.default.fn.toast=ct,ft._jQueryInterface},t.Alert=f,t.Button=d,t.Carousel=_,t.Collapse=S,t.Dropdown=O,t.Modal=L,t.Popover=et,t.Scrollspy=st,t.Tab=ut,t.Toast=ft,t.Tooltip=Q,t.Util=c,Object.defineProperty(t,"__esModule",{value:!0})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).firebase=e()}(this,(function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function o(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function s(t){var e=new FileReader,n=o(e);return e.readAsArrayBuffer(t),n}function a(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(d&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(f&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v&&d&&m(t))this._bodyArrayBuffer=a(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=a(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t,e,n=i(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=o(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,e){var n,i=(e=e||{}).body;if(t instanceof c){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<_.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function l(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))})),e}function h(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}var f,p,d,g,v,y,m,b,_,w;(lt="undefined"!=typeof self?self:void 0).fetch||(f="URLSearchParams"in lt,p="Symbol"in lt&&"iterator"in Symbol,d="FileReader"in lt&&"Blob"in lt&&function(){try{return new Blob,!0}catch(n){return!1}}(),g="FormData"in lt,(v="ArrayBuffer"in lt)&&(y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&-1<y.indexOf(Object.prototype.toString.call(t))}),r.prototype.append=function(n,r){n=t(n),r=e(r);var i=this.map[n];this.map[n]=i?i+","+r:r},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(n,r){this.map[t(n)]=e(r)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),n(t)},r.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),n(t)},r.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),n(t)},p&&(r.prototype[Symbol.iterator]=r.prototype.entries),_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},u.call(c.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t},w=[301,302,303,307,308],h.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},lt.Headers=r,lt.Request=c,lt.Response=h,lt.fetch=function(t,e){return new Promise((function(n,i){var o=new c(t,e),s=new XMLHttpRequest;s.onload=function(){var t,e={status:s.status,statusText:s.statusText,headers:(i=s.getAllResponseHeaders()||"",t=new r,i.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":");(e=n.shift().trim())&&(n=n.join(":").trim(),t.append(e,n))})),t)};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new h(i,e))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&d&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===o._bodyInit?null:o._bodyInit)}))},lt.fetch.polyfill=!0);var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function T(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}function I(t){try{return!!t()}catch(t){return!0}}function S(t){return"object"==typeof t?null!==t:"function"==typeof t}function C(t){return j?F.createElement(t):{}}function A(t){if(!S(t))throw TypeError(String(t)+" is not an object");return t}function N(t,e){if(!S(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!S(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function k(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function x(t,e){try{B(R,t,e)}catch(n){R[t]=e}return e}function O(t,e){return K.call(t,e)}function D(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++z+G).toString(36)}function P(t){return O(X,t)||(X[t]=Q&&O($,t)?$[t]:J("Symbol."+t)),X[t]}var R=(ft=function(t){return t&&t.Math==Math&&t})("object"==typeof globalThis&&globalThis)||ft("object"==typeof window&&window)||ft("object"==typeof self&&self)||ft("object"==typeof E&&E)||Function("return this")(),L=!1,M=!I((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),F=R.document,j=S(F)&&S(F.createElement),U=!M&&!I((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),q=Object.defineProperty,V={f:M?q:function(t,e,n){if(A(t),e=N(e,!0),A(n),U)try{return q(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},B=M?function(t,e,n){return V.f(t,e,k(1,n))}:function(t,e,n){return t[e]=n,t},H=R[wt="__core-js_shared__"]||x(wt,{}),W=T((function(t){(t.exports=function(t,e){return H[t]||(H[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),K={}.hasOwnProperty,z=0,G=Math.random(),Q=!!Object.getOwnPropertySymbols&&!I((function(){return!String(Symbol())})),Y=Q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=W("wks"),$=R.Symbol,J=Y?$:$&&$.withoutSetter||D;(ae={})[P("toStringTag")]="z";var Z="[object z]"===String(ae),tt=Function.toString;"function"!=typeof H.inspectSource&&(H.inspectSource=function(t){return tt.call(t)});var et,nt,rt,it,ot,st,at,ut,ct=H.inspectSource,lt="function"==typeof(Rt=R.WeakMap)&&/native code/.test(ct(Rt)),ht=W("keys"),ft=function(t){return ht[t]||(ht[t]=D(t))},pt={};function dt(t){return yt.call(t).slice(8,-1)}E=R.WeakMap,at=lt?(et=new E,nt=et.get,rt=et.has,it=et.set,ot=function(t,e){return it.call(et,t,e),e},st=function(t){return nt.call(et,t)||{}},function(t){return rt.call(et,t)}):(ut=ft("state"),pt[ut]=!0,ot=function(t,e){return B(t,ut,e),e},st=function(t){return O(t,ut)?t[ut]:{}},function(t){return O(t,ut)});var gt={set:ot,get:st,has:at,enforce:function(t){return at(t)?st(t):ot(t,{})},getterFor:function(t){return function(e){var n;if(!S(e)||(n=st(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},vt=T((function(t){var e=gt.get,n=gt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable;o=!!o&&!!o.noTargetGet,"function"==typeof i&&("string"!=typeof e||O(i,"name")||B(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==R?(s?!o&&t[e]&&(a=!0):delete t[e],a?t[e]=i:B(t,e,i)):a?t[e]=i:x(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ct(this)}))})),yt={}.toString,mt=P("toStringTag"),bt="Arguments"==dt(function(){return arguments}()),_t=Z?dt:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),mt))?t:bt?dt(e):"Object"==(t=dt(e))&&"function"==typeof e.callee?"Arguments":t},wt=Z?{}.toString:function(){return"[object "+_t(this)+"]"};function Et(t){return isNaN(t=+t)?0:(0<t?Pt:Dt)(t)}function Tt(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function It(t){return jt(Tt(t))}function St(t){return"function"==typeof t?t:void 0}function Ct(t,e){return arguments.length<2?St(Vt[t])||St(R[t]):Vt[t]&&Vt[t][e]||R[t]&&R[t][e]}function At(t){return 0<t?Bt(Et(t),9007199254740991):0}function Nt(t,e){var n,r=It(t),i=0,o=[];for(n in r)!O(pt,n)&&O(r,n)&&o.push(n);for(;e.length>i;)O(r,n=e[i++])&&(~Kt(o,n)||o.push(n));return o}function kt(t,e){for(var n=Xt(e),r=V.f,i=qt.f,o=0;o<n.length;o++){var s=n[o];O(t,s)||r(t,s,i(e,s))}}function xt(t,e){var n,r,i,o=t.target,s=t.global,a=t.stat,u=s?R:a?R[o]||x(o,{}):(R[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=re(u,n))&&i.value:u[n],!ne(s?n:o+(a?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;kt(r,i)}(t.sham||i&&i.sham)&&B(r,"sham",!0),vt(u,n,r,t)}}function Ot(t){return Object(Tt(t))}Z||vt(Object.prototype,"toString",wt,{unsafe:!0});var Dt=Math.ceil,Pt=Math.floor,Rt={codeAt:(ae=function(t){return function(e,n){var r,i=String(Tt(e)),o=Et(n);return e=i.length,o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:ae(!0)},Lt=(lt={}.propertyIsEnumerable,Object.getOwnPropertyDescriptor),Mt={f:Lt&&!lt.call({1:2},1)?function(t){return!!(t=Lt(this,t))&&t.enumerable}:lt},Ft="".split,jt=I((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==dt(t)?Ft.call(t,""):Object(t)}:Object,Ut=Object.getOwnPropertyDescriptor,qt={f:M?Ut:function(t,e){if(t=It(t),e=N(e,!0),U)try{return Ut(t,e)}catch(t){}if(O(t,e))return k(!Mt.f.call(t,e),t[e])}},Vt=R,Bt=Math.min,Ht=Math.max,Wt=Math.min,Kt=((E=function(t){return function(e,n,r){var i,o=It(e),s=At(o.length),a=function(t,e){return(t=Et(t))<0?Ht(t+e,0):Wt(t,e)}(r,s);if(t&&n!=n){for(;a<s;)if((i=o[a++])!=i)return!0}else for(;a<s;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}})(!0),E(!1)),zt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gt=zt.concat("length","prototype"),Qt={f:Object.getOwnPropertyNames||function(t){return Nt(t,Gt)}},Yt={f:Object.getOwnPropertySymbols},Xt=Ct("Reflect","ownKeys")||function(t){var e=Qt.f(A(t)),n=Yt.f;return n?e.concat(n(t)):e},$t=/#|\.prototype\./,Jt=(Z=function(t,e){return(t=Zt[Jt(t)])==ee||t!=te&&("function"==typeof e?I(e):!!e)}).normalize=function(t){return String(t).replace($t,".").toLowerCase()},Zt=Z.data={},te=Z.NATIVE="N",ee=Z.POLYFILL="P",ne=Z,re=qt.f,ie=(wt=!I((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ft("IE_PROTO")),oe=Object.prototype,se=wt?Object.getPrototypeOf:function(t){return O(t=Ot(t),ie)?t[ie]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?oe:null},ae=P("iterator");function ue(){}function ce(t){return"<script>"+t+"</"+ge+">"}lt=!1,[].keys&&("next"in(En=[].keys())?(Un=se(se(En)))!==Object.prototype&&(Sn=Un):lt=!0),null==Sn&&(Sn={}),O(Sn,ae)||B(Sn,ae,(function(){return this})),E={IteratorPrototype:Sn,BUGGY_SAFARI_ITERATORS:lt};var le,he=Object.keys||function(t){return Nt(t,zt)},fe=M?Object.defineProperties:function(t,e){A(t);for(var n,r=he(e),i=r.length,o=0;o<i;)V.f(t,n=r[o++],e[n]);return t},pe=Ct("document","documentElement"),de="prototype",ge="script",ve=ft("IE_PROTO"),ye=function(){try{le=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;ye=le?function(t){t.write(ce("")),t.close();var e=t.parentWindow.Object;return t=null,e}(le):((t=C("iframe")).style.display="none",pe.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(ce("document.F=Object")),t.close(),t.F);for(var e=zt.length;e--;)delete ye[de][zt[e]];return ye()};function me(t,e,n){t&&!O(t=n?t:t.prototype,Ie)&&Te(t,Ie,{configurable:!0,value:e})}function be(){return this}function _e(){return this}function we(t,e,n,r,i,o,s){function a(t){if(t===i&&d)return d;if(!ke&&t in f)return f[t];switch(t){case"keys":case Oe:case De:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=Ee(Ce,{next:k(1,n)}),me(t,e,!1),Se[e]=be}(n,e,r);var u,c,l=e+" Iterator",h=!1,f=t.prototype,p=f[xe]||f["@@iterator"]||i&&f[i],d=!ke&&p||a(i);if((r="Array"==e&&f.entries||p)&&(t=se(r.call(new t)),Ne!==Object.prototype&&t.next&&(se(t)!==Ne&&(Ae?Ae(t,Ne):"function"!=typeof t[xe]&&B(t,xe,_e)),me(t,l,!0))),i==Oe&&p&&p.name!==Oe&&(h=!0,d=function(){return p.call(this)}),f[xe]!==d&&B(f,xe,d),Se[e]=d,i)if(u={values:a(Oe),keys:o?d:a("keys"),entries:a(De)},s)for(c in u)!ke&&!h&&c in f||vt(f,c,u[c]);else xt({target:e,proto:!0,forced:ke||h},u);return u}pt[ve]=!0;var Ee=Object.create||function(t,e){var n;return null!==t?(ue[de]=A(t),n=new ue,ue[de]=null,n[ve]=t):n=ye(),void 0===e?n:fe(n,e)},Te=V.f,Ie=P("toStringTag"),Se={},Ce=E.IteratorPrototype,Ae=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return A(n),function(t){if(!S(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ne=E.IteratorPrototype,ke=E.BUGGY_SAFARI_ITERATORS,xe=P("iterator"),Oe="values",De="entries",Pe=Rt.charAt,Re="String Iterator",Le=gt.set,Me=gt.getterFor(Re);we(String,"String",(function(t){Le(this,{type:Re,string:String(t),index:0})}),(function(){var t=Me(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=Pe(e,n),t.index+=n.length,{value:n,done:!1})}));var Fe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},je=P("unscopables"),Ue=Array.prototype;null==Ue[je]&&V.f(Ue,je,{configurable:!0,value:Ee(null)}),Z=function(t){Ue[je][t]=!0};var qe="Array Iterator",Ve=gt.set,Be=gt.getterFor(qe),He=we(Array,"Array",(function(t,e){Ve(this,{type:qe,target:It(t),index:0,kind:e})}),(function(){var t=Be(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Se.Arguments=Se.Array,Z("keys"),Z("values"),Z("entries");var We,Ke=P("iterator"),ze=P("toStringTag"),Ge=He.values;for(We in Fe){var Qe=R[We],Ye=Qe&&Qe.prototype;if(Ye){if(Ye[Ke]!==Ge)try{B(Ye,Ke,Ge)}catch(Ws){Ye[Ke]=Ge}if(Ye[ze]||B(Ye,ze,We),Fe[We])for(var Xe in He)if(Ye[Xe]!==He[Xe])try{B(Ye,Xe,He[Xe])}catch(Ws){Ye[Xe]=He[Xe]}}}function $e(t,e,n){for(var r in e)vt(t,r,e[r],n);return t}function Je(t){var e=Ct(t);t=V.f,M&&e&&!e[an]&&t(e,an,{configurable:!0,get:function(){return this}})}function Ze(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function tn(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function en(t){return void 0!==t&&(Se.Array===t||cn[un]===t)}function nn(t,e,n){if(Ze(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function rn(t){if(null!=t)return t[ln]||t["@@iterator"]||Se[_t(t)]}function on(t,e,n,r){try{return r?e(A(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&A(i.call(t)),e}}var sn=R.Promise,an=P("species"),un=P("iterator"),cn=Array.prototype,ln=P("iterator"),hn=T((function(t){function e(t,e){this.stopped=t,this.result=e}(t.exports=function(t,n,r,i,o){var s,a,u,c,l,h,f=nn(n,r,i?2:1);if(o)s=t;else{if("function"!=typeof(o=rn(t)))throw TypeError("Target is not iterable");if(en(o)){for(a=0,u=At(t.length);a<u;a++)if((c=i?f(A(h=t[a])[0],h[1]):f(t[a]))&&c instanceof e)return c;return new e(!1)}s=o.call(t)}for(l=s.next;!(h=l.call(s)).done;)if("object"==typeof(c=on(s,f,h.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),fn=P("iterator"),pn=!1;try{var dn=0,gn={next:function(){return{done:!!dn++}},return:function(){pn=!0}};gn[fn]=function(){return this},Array.from(gn,(function(){throw 2}))}catch(Ws){}function vn(t,e){if(!e&&!pn)return!1;var n=!1;try{var r={};r[fn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function yn(t,e){var n;return void 0===(t=A(t).constructor)||null==(n=A(t)[wn])?e:Ze(n)}function mn(t){var e;Nn.hasOwnProperty(t)&&(e=Nn[t],delete Nn[t],e())}function bn(t){return function(){mn(t)}}var _n,wn=P("species"),En=(wt=Ct("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(wt)),Tn=R.location,In=(ae=R.clearImmediate,R.process),Sn=R.MessageChannel,Cn=R.Dispatch,An=0,Nn={},kn="onreadystatechange";lt=function(t){mn(t.data)},E=function(t){R.postMessage(t+"",Tn.protocol+"//"+Tn.host)},(Un=R.setImmediate)&&ae||(Un=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Nn[++An]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},_n(An),An},ae=function(t){delete Nn[t]},"process"==dt(In)?_n=function(t){In.nextTick(bn(t))}:Cn&&Cn.now?_n=function(t){Cn.now(bn(t))}:Sn&&!En?(Sn=(Rt=new Sn).port2,Rt.port1.onmessage=lt,_n=nn(Sn.postMessage,Sn,1)):!R.addEventListener||"function"!=typeof postMessage||R.importScripts||I(E)||"file:"===Tn.protocol?_n=kn in C("script")?function(t){pe.appendChild(C("script"))[kn]=function(){pe.removeChild(this),mn(t)}}:function(t){setTimeout(bn(t),0)}:(_n=E,R.addEventListener("message",lt,!1))),lt=qt.f;var xn,On,Dn,Pn,Rn,Ln,Mn,Fn,jn=(E={set:Un,clear:ae}).set,Un=R.MutationObserver||R.WebKitMutationObserver,qn=R.process,Vn=(ae=R.Promise,"process"==dt(qn));function Bn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Ze(e),this.reject=Ze(n)}function Hn(t,e){return A(t),S(e)&&e.constructor===t?e:((0,(t=zn.f(t)).resolve)(e),t.promise)}function Wn(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}(lt=(lt=lt(R,"queueMicrotask"))&&lt.value)||(xn=function(){var t,e;for(Vn&&(t=qn.domain)&&t.exit();On;){e=On.fn,On=On.next;try{e()}catch(t){throw On?Pn():Dn=void 0,t}}Dn=void 0,t&&t.enter()},Pn=Vn?function(){qn.nextTick(xn)}:Un&&!En?(Rn=!0,Ln=document.createTextNode(""),new Un(xn).observe(Ln,{characterData:!0}),function(){Ln.data=Rn=!Rn}):ae&&ae.resolve?(Mn=ae.resolve(void 0),Fn=Mn.then,function(){Fn.call(Mn,xn)}):function(){jn.call(R,xn)});var Kn=lt||function(t){t={fn:t,next:void 0},Dn&&(Dn.next=t),On||(On=t,Pn()),Dn=t},zn={f:function(t){return new Bn(t)}};function Gn(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function Qn(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Kn((function(){for(var i=e.value,o=1==e.state,s=0;r.length>s;){var a,u,c,l=r[s++],h=o?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{h?(o||(2===e.rejection&&wr(t,e),e.rejection=1),!0===h?a=i:(d&&d.enter(),a=h(i),d&&(d.exit(),c=!0)),a===l.promise?p(lr("Promise-chain cycle")):(u=Gn(a))?u.call(a,f,p):f(a)):p(i)}catch(i){d&&!c&&d.exit(),p(i)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&br(t,e)})))}function Yn(t,e,n){var r;yr?((r=hr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),R.dispatchEvent(r)):r={promise:e,reason:n},(e=R["on"+t])?e(r):t===mr&&function(t,e){var n=R.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Xn(t,e,n,r){return function(i){t(e,n,i,r)}}function $n(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Qn(t,e,!0))}(ae=(lt=(ae=R.process)&&ae.versions)&&lt.v8)?Dr=(Wr=ae.split("."))[0]+Wr[1]:wt&&(!(Wr=wt.match(/Edge\/(\d+)/))||74<=Wr[1])&&(Wr=wt.match(/Chrome\/(\d+)/))&&(Dr=Wr[1]);var Jn,Zn,tr,er,nr=Dr&&+Dr,rr=E.set,ir=P("species"),or="Promise",sr=gt.get,ar=gt.set,ur=gt.getterFor(or),cr=sn,lr=R.TypeError,hr=R.document,fr=R.process,pr=Ct("fetch"),dr=zn.f,gr=dr,vr="process"==dt(fr),yr=!!(hr&&hr.createEvent&&R.dispatchEvent),mr="unhandledrejection",br=(ae=(lt=ne(or,(function(){if(ct(cr)===String(cr)){if(66===nr)return!0;if(!vr&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=nr&&/native code/.test(cr))return!1;function t(t){t((function(){}),(function(){}))}var e=cr.resolve(1);return(e.constructor={})[ir]=t,!(e.then((function(){}))instanceof t)})))||!vn((function(t){cr.all(t).catch((function(){}))})),function(t,e){rr.call(R,(function(){var n,r=e.value;if(_r(e)&&(n=Wn((function(){vr?fr.emit("unhandledRejection",r,t):Yn(mr,t,r)})),e.rejection=vr||_r(e)?2:1,n.error))throw n.value}))}),_r=function(t){return 1!==t.rejection&&!t.parent},wr=function(t,e){rr.call(R,(function(){vr?fr.emit("rejectionHandled",t):Yn("rejectionhandled",t,e.value)}))},Er=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw lr("Promise can't be resolved itself");var i=Gn(n);i?Kn((function(){var r={done:!1};try{i.call(n,Xn(Er,t,r,e),Xn($n,t,r,e))}catch(n){$n(t,r,n,e)}})):(e.value=n,e.state=1,Qn(t,e,!1))}catch(n){$n(t,{done:!1},n,e)}}};lt&&(cr=function(t){tn(this,cr,or),Ze(t),Jn.call(this);var e=sr(this);try{t(Xn(Er,this,e),Xn($n,this,e))}catch(t){$n(this,e,t)}},(Jn=function(){ar(this,{type:or,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=$e(cr.prototype,{then:function(t,e){var n=ur(this),r=dr(yn(this,cr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=vr?fr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Qn(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Zn=function(){var t=new Jn,e=sr(t);this.promise=t,this.resolve=Xn(Er,t,e),this.reject=Xn($n,t,e)},zn.f=dr=function(t){return t===cr||t===tr?new Zn:gr(t)},"function"==typeof sn&&(er=sn.prototype.then,vt(sn.prototype,"then",(function(t,e){var n=this;return new cr((function(t,e){er.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof pr&&xt({global:!0,enumerable:!0,forced:!0},{fetch:function(){return Hn(cr,pr.apply(R,arguments))}}))),xt({global:!0,wrap:!0,forced:lt},{Promise:cr}),me(cr,or,!1),Je(or),tr=Ct(or),xt({target:or,stat:!0,forced:lt},{reject:function(t){var e=dr(this);return e.reject.call(void 0,t),e.promise}}),xt({target:or,stat:!0,forced:lt},{resolve:function(t){return Hn(this,t)}}),xt({target:or,stat:!0,forced:ae},{all:function(t){var e=this,n=dr(e),r=n.resolve,i=n.reject,o=Wn((function(){var n=Ze(e.resolve),o=[],s=0,a=1;hn(t,(function(t){var u=s++,c=!1;o.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=dr(e),r=n.reject,i=Wn((function(){var i=Ze(e.resolve);hn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),xt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=zn.f(e),r=n.resolve,i=n.reject,o=Wn((function(){var n=Ze(e.resolve),i=[],o=0,s=1;hn(t,(function(t){var a=o++,u=!1;i.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,i[a]={status:"fulfilled",value:t},--s||r(i))}),(function(t){u||(u=!0,i[a]={status:"rejected",reason:t},--s||r(i))}))})),--s||r(i)}));return o.error&&i(o.value),n.promise}}),xt({target:"Promise",proto:!0,real:!0,forced:wt=!!sn&&I((function(){sn.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=yn(this,Ct("Promise")),n="function"==typeof t;return this.then(n?function(n){return Hn(e,t()).then((function(){return n}))}:t,n?function(n){return Hn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof sn||sn.prototype.finally||vt(sn.prototype,"finally",Ct("Promise").prototype.finally);var Tr=gt.set,Ir=gt.getterFor("AggregateError"),Sr=function(t,e){var n=this;if(!(n instanceof Sr))return new Sr(t,e);Ae&&(n=Ae(new Error(e),se(n)));var r=[];return hn(t,r.push,r),M?Tr(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&B(n,"message",String(e)),n};Sr.prototype=Ee(Error.prototype,{constructor:k(5,Sr),message:k(5,""),name:k(5,"AggregateError")}),M&&V.f(Sr.prototype,"errors",{get:function(){return Ir(this).errors},configurable:!0}),xt({global:!0},{AggregateError:Sr}),xt({target:"Promise",stat:!0},{try:function(t){var e=zn.f(this);return((t=Wn(t)).error?e.reject:e.resolve)(t.value),e.promise}});var Cr="No one promise resolved";function Ar(t,e){var n;return kr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||kr(n.prototype))||S(n)&&null===(n=n[xr]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Nr(t){throw t}xt({target:"Promise",stat:!0},{any:function(t){var e=this,n=zn.f(e),r=n.resolve,i=n.reject,o=Wn((function(){var n=Ze(e.resolve),o=[],s=0,a=1,u=!1;hn(t,(function(t){var c=s++,l=!1;o.push(void 0),a++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--a||i(new(Ct("AggregateError"))(o,Cr)))}))})),--a||i(new(Ct("AggregateError"))(o,Cr))}));return o.error&&i(o.value),n.promise}});var kr=Array.isArray||function(t){return"Array"==dt(t)},xr=P("species"),Or=[].push,Dr={forEach:(Wr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,s=5==t||o;return function(a,u,c,l){for(var h,f,p=Ot(a),d=jt(p),g=nn(u,c,3),v=At(d.length),y=0,m=(l=l||Ar,e?l(a,v):n?l(a,0):void 0);y<v;y++)if((s||y in d)&&(f=g(h=d[y],y,p),t))if(e)m[y]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:Or.call(m,h)}else if(i)return!1;return o?-1:r||i?i:m}})(0),map:Wr(1),filter:Wr(2),some:Wr(3),every:Wr(4),find:Wr(5),findIndex:Wr(6)},Pr=Object.defineProperty,Rr={},Lr=Dr.find,Mr=!0;ae=(E=function(t,e){if(O(Rr,t))return Rr[t];var n=[][t],r=!!O(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=O(e,0)?e[0]:Nr,o=O(e,1)?e[1]:void 0;return Rr[t]=!!n&&!I((function(){if(r&&!M)return 1;var t={length:-1};r?Pr(t,1,{enumerable:!0,get:Nr}):t[1]=1,n.call(t,i,o)}))})(lt="find"),lt in[]&&Array(1)[lt]((function(){Mr=!1})),xt({target:"Array",proto:!0,forced:Mr||!ae},{find:function(t,e){return Lr(this,t,1<arguments.length?e:void 0)}}),Z(lt);var Fr=Function.call,jr=((wt=function(t,e,n){return nn(Fr,R[t].prototype[e],n)})("Array","find"),Dr.findIndex),Ur=!0;function qr(t,e,n){(e=N(e))in t?V.f(t,e,k(0,n)):t[e]=n}ae=E(Wr="findIndex"),Wr in[]&&Array(1)[Wr]((function(){Ur=!1})),xt({target:"Array",proto:!0,forced:Ur||!ae},{findIndex:function(t,e){return jr(this,t,1<arguments.length?e:void 0)}}),Z(Wr),wt("Array","findIndex"),xt({target:"Array",stat:!0,forced:lt=!vn((function(t){Array.from(t)}))},{from:function(t,e,n){var r,i,o,s,a,u=Ot(t),c="function"==typeof this?this:Array,l=1<(t=arguments.length)?e:void 0,h=void 0!==l,f=(e=rn(u),0);if(h&&(l=nn(l,2<t?n:void 0,2)),null==e||c==Array&&en(e))for(i=new c(r=At(u.length));f<r;f++)qr(i,f,h?l(u[f],f):u[f]);else for(a=(s=e.call(u)).next,i=new c;!(o=a.call(s)).done;f++)qr(i,f,h?on(s,l,[o.value,f],!0):o.value);return i.length=f,i}});var Vr,Br=Dr.some;ae=!!(Vr=[].some)&&I((function(){Vr.call(null,(function(){throw 1}),1)})),Z=E("some"),xt({target:"Array",proto:!0,forced:!ae||!Z},{some:function(t,e){return Br(this,t,1<arguments.length?e:void 0)}}),wt("Array","some");var Hr,Wr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Kr=(lt=V.f,R.Int8Array),zr=Kr&&Kr.prototype,Gr=(ae=(E=R.Uint8ClampedArray)&&E.prototype,Kr&&se(Kr)),Qr=zr&&se(zr),Yr=(Z=Object.prototype,E=P("toStringTag"),D("TYPED_ARRAY_TAG")),Xr=Wr&&!!Ae&&"Opera"!==_t(R.opera),$r=(Wr=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Hr in $r)R[Hr]||(Xr=!1);if((!Xr||"function"!=typeof Gr||Gr===Function.prototype)&&(Gr=function(){throw TypeError("Incorrect invocation")},Xr))for(Hr in $r)R[Hr]&&Ae(R[Hr],Gr);if((!Xr||!Qr||Qr===Z)&&(Qr=Gr.prototype,Xr))for(Hr in $r)R[Hr]&&Ae(R[Hr].prototype,Qr);if(Xr&&se(ae)!==Qr&&Ae(ae,Qr),M&&!O(Qr,E))for(Hr in Wr=!0,lt(Qr,E,{get:function(){return S(this)?this[Yr]:void 0}}),$r)R[Hr]&&B(R[Hr],Yr,Hr);ae=function(t){if(function(t){return S(t)&&O($r,_t(t))}(t))return t;throw TypeError("Target is not a typed array")},lt=function(t,e,n){if(M){if(n)for(var r in $r){var i=R[r];i&&O(i.prototype,t)&&delete i.prototype[t]}Qr[t]&&!n||vt(Qr,t,!n&&Xr&&zr[t]||e)}},E=P("iterator");var Jr=He.values,Zr=He.keys,ti=He.entries,ei=ae;ae=lt,Wr=!!(lt=(Wr=R.Uint8Array)&&Wr.prototype[E])&&("values"==lt.name||null==lt.name),lt=function(){return Jr.call(ei(this))},ae("entries",(function(){return ti.call(ei(this))})),ae("keys",(function(){return Zr.call(ei(this))})),ae("values",lt,!Wr),ae(E,lt,!Wr);var ni=Object.assign,ri=Object.defineProperty;lt=!ni||I((function(){if(M&&1!==ni({b:1},ni(ri({},"a",{enumerable:!0,get:function(){ri(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ni({},t)[n]||he(ni({},e)).join("")!=r}))?function(t){for(var e=Ot(t),n=arguments.length,r=1,i=Yt.f,o=Mt.f;r<n;)for(var s,a=jt(arguments[r++]),u=i?he(a).concat(i(a)):he(a),c=u.length,l=0;l<c;)s=u[l++],M&&!o.call(a,s)||(e[s]=a[s]);return e}:ni,xt({target:"Object",stat:!0,forced:Object.assign!==lt},{assign:lt});var ii=Mt.f,oi=(lt={entries:(Wr=function(t){return function(e){for(var n,r=It(e),i=he(r),o=i.length,s=0,a=[];s<o;)n=i[s++],M&&!ii.call(r,n)||a.push(t?[n,r[n]]:r[n]);return a}})(!0),values:Wr(!1)}).entries;xt({target:"Object",stat:!0},{entries:function(t){return oi(t)}});var si=lt.values;function ai(t){if(S(e=t)&&(void 0!==(n=e[ui])?n:"RegExp"==dt(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}xt({target:"Object",stat:!0},{values:function(t){return si(t)}});var ui=P("match"),ci=P("match");xt({target:"String",proto:!0,forced:!(Wr=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[ci]=!1,"/./"[t](e)}catch(n){}}return!1})("includes")},{includes:function(t,e){return!!~String(Tt(this)).indexOf(ai(t),1<arguments.length?e:void 0)}}),wt("String","includes"),lt=qt.f;var li,hi="".startsWith,fi=Math.min;xt({target:"String",proto:!0,forced:!(li=!((Wr=Wr("startsWith"))||!(li=lt(String.prototype,"startsWith"))||li.writable))&&!Wr},{startsWith:function(t,e){var n=String(Tt(this));return ai(t),e=At(fi(1<arguments.length?e:void 0,n.length)),t=String(t),hi?hi.call(n,t,e):n.slice(e,e+t.length)===t}}),wt("String","startsWith"),xt({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(Tt(this)),n="",r=Et(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),wt("String","repeat");var pi=P("species"),di=P("isConcatSpreadable"),gi=9007199254740991,vi="Maximum allowed index exceeded";function yi(t){var e=Vt.Symbol||(Vt.Symbol={});O(e,t)||Ii(e,t,{value:Ti.f(t)})}function mi(t,e){var n=ji[t]=Ee(Di[Ni]);return ki(n,{type:Ai,tag:t,description:e}),M||(n.description=e),n}function bi(t,e){A(t);var n=It(e);return e=he(n).concat(Gi(n)),Si(e,(function(e){M&&!zi.call(n,e)||Ki(t,e,n[e])})),t}Wr=51<=nr||!I((function(){var t=[];return t[di]=!1,t.concat()[0]!==t})),wt=51<=nr||!I((function(){var t=[];return(t.constructor={})[pi]=function(){return{foo:1}},1!==t.concat(Boolean).foo})),xt({target:"Array",proto:!0,forced:!Wr||!wt},{concat:function(){for(var t,e,n,r=Ot(this),i=Ar(r,0),o=0,s=-1,a=arguments.length;s<a;s++)if(function(t){if(!S(t))return!1;var e=t[di];return void 0!==e?!!e:kr(t)}(n=-1===s?r:arguments[s])){if(e=At(n.length),gi<o+e)throw TypeError(vi);for(t=0;t<e;t++,o++)t in n&&qr(i,o,n[t])}else{if(gi<=o)throw TypeError(vi);qr(i,o++,n)}return i.length=o,i}});var _i=Qt.f,wi={}.toString,Ei="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ti=(wt={f:function(t){return Ei&&"[object Window]"==wi.call(t)?function(t){try{return _i(t)}catch(t){return Ei.slice()}}(t):_i(It(t))}},{f:P}),Ii=V.f,Si=Dr.forEach,Ci=ft("hidden"),Ai="Symbol",Ni="prototype",ki=(Dr=P("toPrimitive"),gt.set),xi=gt.getterFor(Ai),Oi=Object[Ni],Di=R.Symbol,Pi=Ct("JSON","stringify"),Ri=qt.f,Li=V.f,Mi=wt.f,Fi=Mt.f,ji=W("symbols"),Ui=W("op-symbols"),qi=W("string-to-symbol-registry"),Vi=W("symbol-to-string-registry"),Bi=(ft=W("wks"),!(W=R.QObject)||!W[Ni]||!W[Ni].findChild),Hi=M&&I((function(){return 7!=Ee(Li({},"a",{get:function(){return Li(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ri(Oi,e);r&&delete Oi[e],Li(t,e,n),r&&t!==Oi&&Li(Oi,e,r)}:Li,Wi=Y?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Di},Ki=function(t,e,n){return t===Oi&&Ki(Ui,e,n),A(t),e=N(e,!0),A(n),O(ji,e)?(n.enumerable?(O(t,Ci)&&t[Ci][e]&&(t[Ci][e]=!1),n=Ee(n,{enumerable:k(0,!1)})):(O(t,Ci)||Li(t,Ci,k(1,{})),t[Ci][e]=!0),Hi(t,e,n)):Li(t,e,n)},zi=function(t){var e=N(t,!0);return t=Fi.call(this,e),!(this===Oi&&O(ji,e)&&!O(Ui,e))&&(!(t||!O(this,e)||!O(ji,e)||O(this,Ci)&&this[Ci][e])||t)},Gi=(W=function(t,e){var n=It(t);if(t=N(e,!0),n!==Oi||!O(ji,t)||O(Ui,t))return!(e=Ri(n,t))||!O(ji,t)||O(n,Ci)&&n[Ci][t]||(e.enumerable=!0),e},Y=function(t){t=Mi(It(t));var e=[];return Si(t,(function(t){O(ji,t)||O(pt,t)||e.push(t)})),e},function(t){var e=t===Oi,n=(t=Mi(e?Ui:It(t)),[]);return Si(t,(function(t){!O(ji,t)||e&&!O(Oi,t)||n.push(ji[t])})),n});Q||(vt((Di=function(t){if(this instanceof Di)throw TypeError("Symbol is not a constructor");var e=D(t=arguments.length&&void 0!==t?String(t):void 0),n=function(t){this===Oi&&n.call(Ui,t),O(this,Ci)&&O(this[Ci],e)&&(this[Ci][e]=!1),Hi(this,e,k(1,t))};return M&&Bi&&Hi(Oi,e,{configurable:!0,set:n}),mi(e,t)})[Ni],"toString",(function(){return xi(this).tag})),vt(Di,"withoutSetter",(function(t){return mi(D(t),t)})),Mt.f=zi,V.f=Ki,qt.f=W,Qt.f=wt.f=Y,Yt.f=Gi,Ti.f=function(t){return mi(P(t),t)},M&&(Li(Di[Ni],"description",{configurable:!0,get:function(){return xi(this).description}}),vt(Oi,"propertyIsEnumerable",zi,{unsafe:!0}))),xt({global:!0,wrap:!0,forced:!Q,sham:!Q},{Symbol:Di}),Si(he(ft),(function(t){yi(t)})),xt({target:Ai,stat:!0,forced:!Q},{for:function(t){var e=String(t);return O(qi,e)?qi[e]:(t=Di(e),qi[e]=t,Vi[t]=e,t)},keyFor:function(t){if(!Wi(t))throw TypeError(t+" is not a symbol");if(O(Vi,t))return Vi[t]},useSetter:function(){Bi=!0},useSimple:function(){Bi=!1}}),xt({target:"Object",stat:!0,forced:!Q,sham:!M},{create:function(t,e){return void 0===e?Ee(t):bi(Ee(t),e)},defineProperty:Ki,defineProperties:bi,getOwnPropertyDescriptor:W}),xt({target:"Object",stat:!0,forced:!Q},{getOwnPropertyNames:Y,getOwnPropertySymbols:Gi}),xt({target:"Object",stat:!0,forced:I((function(){Yt.f(1)}))},{getOwnPropertySymbols:function(t){return Yt.f(Ot(t))}}),Pi&&xt({target:"JSON",stat:!0,forced:so=!Q||I((function(){var t=Di();return"[null]"!=Pi([t])||"{}"!=Pi({a:t})||"{}"!=Pi(Object(t))}))},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((S(n=e)||void 0!==t)&&!Wi(t))return kr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Wi(e))return e}),r[1]=e,Pi.apply(null,r)}}),Di[Ni][Dr]||B(Di[Ni],Dr,Di[Ni].valueOf),me(Di,Ai),pt[Ci]=!0,yi("asyncIterator"),W=V.f;var Qi,Yi,Xi,$i,Ji,Zi=R.Symbol;!M||"function"!=typeof Zi||"description"in Zi.prototype&&void 0===Zi().description||(Qi={},kt(Yi=function(t){var e=arguments.length<1||void 0===t?void 0:String(t);return t=this instanceof Yi?new Zi(e):void 0===e?Zi():Zi(e),""===e&&(Qi[t]=!0),t},Zi),(co=Yi.prototype=Zi.prototype).constructor=Yi,Xi=co.toString,$i="Symbol(test)"==String(Zi("test")),Ji=/^Symbol\((.*)\)[^)]+$/,W(co,"description",{configurable:!0,get:function(){var t=S(this)?this.valueOf():this,e=Xi.call(t);return O(Qi,t)?"":""===(e=$i?e.slice(7,-1):e.replace(Ji,"$1"))?void 0:e}}),xt({global:!0,forced:!0},{Symbol:Yi})),yi("hasInstance"),yi("isConcatSpreadable"),yi("iterator"),yi("match"),yi("matchAll"),yi("replace"),yi("search"),yi("species"),yi("split"),yi("toPrimitive"),yi("toStringTag"),yi("unscopables"),me(Math,"Math",!0),me(R.JSON,"JSON",!0),yi("asyncDispose"),yi("dispose"),yi("observable"),yi("patternMatch"),yi("replaceAll"),Ti.f("iterator");var to=!I((function(){return Object.isExtensible(Object.preventExtensions({}))})),eo=T((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=V.f,r=D("meta"),i=0,o=Object.isExtensible||function(){return!0},s=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!S(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!O(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!O(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return to&&s.REQUIRED&&o(t)&&!O(t,r)&&e(t),t}};pt[r]=!0})),no=(Y=function(t,e,n){function r(t){var e=p[t];vt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!S(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!S(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!S(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,s,a,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=R[t],p=f&&f.prototype,d=f,g={};return ne(t,"function"!=typeof f||!(l||p.forEach&&!I((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),eo.REQUIRED=!0):ne(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,s=I((function(){i.has(1)})),a=vn((function(t){new f(t)})),u=!l&&I((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),a||(((d=e((function(e,n){tn(e,d,t);var r,i,o,s=(s=new f,r=e,e=d,Ae&&"function"==typeof(i=r.constructor)&&i!==e&&S(o=i.prototype)&&o!==e.prototype&&Ae(s,o),s);return null!=n&&hn(n,s[h],s,c),s}))).prototype=p).constructor=d),(s||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),g[t]=d,xt({global:!0,forced:d!=f},g),me(d,t),l||n.setStrong(d,t,c),d},V.f),ro=eo.fastKey,io=gt.set,oo=gt.getterFor,so={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=s(t),o=a(t,e);return o?o.value=n:(i.last=o={index:r=ro(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),M?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t((function(t,i){tn(t,o,e),io(t,{type:e,index:Ee(null),first:void 0,last:void 0,size:0}),M||(t.size=0),null!=i&&hn(i,t[r],t,n)})),s=oo(e),a=function(t,e){var n,r=s(t);if("F"!==(t=ro(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return $e(o.prototype,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,M?t.size=0:this.size=0},delete:function(t){var e,n=s(this),r=a(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),M?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=s(this),i=nn(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!a(this,t)}}),$e(o.prototype,n?{get:function(t){return(t=a(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),M&&no(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=oo(e),o=oo(r);we(t,e,(function(t,e){io(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),Je(e)}};function ao(){for(var t,e=A(this),n=Ze(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function uo(t){return Map.prototype.entries.call(t)}xt({target:"Map",stat:!0},{from:(Y("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),so),Dr=function(t,e,n){var r,i,o,s=arguments.length,a=1<s?e:void 0;return Ze(this),(e=void 0!==a)&&Ze(a),null==t?new this:(r=[],e?(i=0,o=nn(a,2<s?n:void 0,2),hn(t,(function(t){r.push(o(t,i++))}))):hn(t,r.push,r),new this(r))})}),xt({target:"Map",stat:!0},{of:W=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),xt({target:"Map",proto:!0,real:!0,forced:L},{deleteAll:function(){return ao.apply(this,arguments)}}),xt({target:"Map",proto:!0,real:!0,forced:L},{every:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3);return!hn(r,(function(t,e){if(!i(e,t,n))return hn.stop()}),void 0,!0,!0).stopped}}),xt({target:"Map",proto:!0,real:!0,forced:L},{filter:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3),o=new(yn(n,Ct("Map"))),s=Ze(o.set);return hn(r,(function(t,e){i(e,t,n)&&s.call(o,t,e)}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:L},{find:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3);return hn(r,(function(t,e){if(i(e,t,n))return hn.stop(e)}),void 0,!0,!0).result}}),xt({target:"Map",proto:!0,real:!0,forced:L},{findKey:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3);return hn(r,(function(t,e){if(i(e,t,n))return hn.stop(t)}),void 0,!0,!0).result}}),xt({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;Ze(e);var r=Ze(n.has),i=Ze(n.get),o=Ze(n.set);return hn(t,(function(t){var s=e(t);r.call(n,s)?i.call(n,s).push(t):o.call(n,s,[t])})),n}}),xt({target:"Map",proto:!0,real:!0,forced:L},{includes:function(t){return hn(uo(A(this)),(function(e,n){if((r=n)===(n=t)||r!=r&&n!=n)return hn.stop();var r}),void 0,!0,!0).stopped}}),xt({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;Ze(e);var r=Ze(n.set);return hn(t,(function(t){r.call(n,e(t),t)})),n}}),xt({target:"Map",proto:!0,real:!0,forced:L},{keyOf:function(t){return hn(uo(A(this)),(function(e,n){if(n===t)return hn.stop(e)}),void 0,!0,!0).result}}),xt({target:"Map",proto:!0,real:!0,forced:L},{mapKeys:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3),o=new(yn(n,Ct("Map"))),s=Ze(o.set);return hn(r,(function(t,e){s.call(o,i(e,t,n),e)}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:L},{mapValues:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3),o=new(yn(n,Ct("Map"))),s=Ze(o.set);return hn(r,(function(t,e){s.call(o,t,i(e,t,n))}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:L},{merge:function(){for(var t=A(this),e=Ze(t.set),n=0;n<arguments.length;)hn(arguments[n++],e,t,!0);return t}}),xt({target:"Map",proto:!0,real:!0,forced:L},{reduce:function(t,e){var n=A(this),r=uo(n),i=arguments.length<2,o=i?void 0:e;if(Ze(t),hn(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),xt({target:"Map",proto:!0,real:!0,forced:L},{some:function(t,e){var n=A(this),r=uo(n),i=nn(t,1<arguments.length?e:void 0,3);return hn(r,(function(t,e){if(i(e,t,n))return hn.stop()}),void 0,!0,!0).stopped}}),xt({target:"Map",proto:!0,real:!0,forced:L},{update:function(t,e,n){var r=A(this),i=arguments.length;Ze(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");return n=o?r.get(t):Ze(2<i?n:void 0)(t,r),r.set(t,e(n,t,r)),r}});var co=function(t,e,n){var r,i=A(this);if(n=2<arguments.length?n:void 0,"function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r};function lo(t){return Set.prototype.values.call(t)}xt({target:"Map",proto:!0,real:!0,forced:L},{upsert:co}),xt({target:"Map",proto:!0,real:!0,forced:L},{updateOrInsert:co}),Y("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),so),xt({target:"Set",stat:!0},{from:Dr}),xt({target:"Set",stat:!0},{of:W}),xt({target:"Set",proto:!0,real:!0,forced:L},{addAll:function(){return(function(){for(var t=A(this),e=Ze(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}).apply(this,arguments)}}),xt({target:"Set",proto:!0,real:!0,forced:L},{deleteAll:function(){return ao.apply(this,arguments)}}),xt({target:"Set",proto:!0,real:!0,forced:L},{every:function(t,e){var n=A(this),r=lo(n),i=nn(t,1<arguments.length?e:void 0,3);return!hn(r,(function(t){if(!i(t,t,n))return hn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:L},{difference:function(t){var e=A(this),n=new(yn(e,Ct("Set")))(e),r=Ze(n.delete);return hn(t,(function(t){r.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:L},{filter:function(t,e){var n=A(this),r=lo(n),i=nn(t,1<arguments.length?e:void 0,3),o=new(yn(n,Ct("Set"))),s=Ze(o.add);return hn(r,(function(t){i(t,t,n)&&s.call(o,t)}),void 0,!1,!0),o}}),xt({target:"Set",proto:!0,real:!0,forced:L},{find:function(t,e){var n=A(this),r=lo(n),i=nn(t,1<arguments.length?e:void 0,3);return hn(r,(function(t){if(i(t,t,n))return hn.stop(t)}),void 0,!1,!0).result}}),xt({target:"Set",proto:!0,real:!0,forced:L},{intersection:function(t){var e=A(this),n=new(yn(e,Ct("Set"))),r=Ze(e.has),i=Ze(n.add);return hn(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:L},{isDisjointFrom:function(t){var e=A(this),n=Ze(e.has);return!hn(t,(function(t){if(!0===n.call(e,t))return hn.stop()})).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:L},{isSubsetOf:function(t){var e=function(t){var e=rn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return A(e.call(t))}(this),n=A(t),r=n.has;return"function"!=typeof r&&(n=new(Ct("Set"))(t),r=Ze(n.has)),!hn(e,(function(t){if(!1===r.call(n,t))return hn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:L},{isSupersetOf:function(t){var e=A(this),n=Ze(e.has);return!hn(t,(function(t){if(!1===n.call(e,t))return hn.stop()})).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:L},{join:function(t){var e=lo(A(this)),n=void 0===t?",":String(t);return hn(e,(t=[]).push,t,!1,!0),t.join(n)}}),xt({target:"Set",proto:!0,real:!0,forced:L},{map:function(t,e){var n=A(this),r=lo(n),i=nn(t,1<arguments.length?e:void 0,3),o=new(yn(n,Ct("Set"))),s=Ze(o.add);return hn(r,(function(t){s.call(o,i(t,t,n))}),void 0,!1,!0),o}}),xt({target:"Set",proto:!0,real:!0,forced:L},{reduce:function(t,e){var n=A(this),r=lo(n),i=arguments.length<2,o=i?void 0:e;if(Ze(t),hn(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),xt({target:"Set",proto:!0,real:!0,forced:L},{some:function(t,e){var n=A(this),r=lo(n),i=nn(t,1<arguments.length?e:void 0,3);return hn(r,(function(t){if(i(t,t,n))return hn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:L},{symmetricDifference:function(t){var e=A(this),n=new(yn(e,Ct("Set")))(e),r=Ze(n.delete),i=Ze(n.add);return hn(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:L},{union:function(t){var e=new(yn(e=A(this),Ct("Set")))(e);return hn(t,Ze(e.add),e),e}});var ho=Math.floor;xt({target:"Number",stat:!0},{isInteger:function(t){return!S(t)&&isFinite(t)&&ho(t)===t}}),xt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var fo=function(t,e){return(fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function po(t,e){function n(){this.constructor=t}fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var go=function(){return(go=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function vo(t,e,n,r){return new(n=n||Promise)((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function yo(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function mo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function _o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bo(arguments[e]));return t}function wo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Eo(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function To(t){try{return Co.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var Io=function(t,e){if(!t)throw So(e)},So=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},Co={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=i+1<t.length,s=i+2<t.length,a=(u=t[i])>>2,u=(3&u)<<4|(c=o?t[i+1]:0)>>4,c=(15&c)<<2|(l=s?t[i+2]:0)>>6,l=63&l;s||(l=64,o||(c=64)),r.push(n[a],n[u],n[c],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Eo(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,s,a=t[n++];a<128?e[r++]=String.fromCharCode(a):191<a&&a<224?(o=t[n++],e[r++]=String.fromCharCode((31&a)<<6|63&o)):239<a&&a<365?(i=((7&a)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],s=t[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o=o<<2|s>>4),64!==a&&(r.push(s=s<<4&240|a>>2),64!==u&&r.push(u|=a<<6&192))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ao(t){return No(void 0,t)}function No(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=No(t[n],e[n]));return t}var ko=(xo.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},xo);function xo(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function Oo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Do(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oo())}function Po(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ro(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lo(){return"indexedDB"in self&&null!=indexedDB}function Mo(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Fo(){return!(!navigator||!navigator.cookieEnabled)}var jo,Uo=(po(qo,jo=Error),qo);function qo(t,e,n){return(e=jo.call(this,e)||this).code=t,e.customData=n,e.name="FirebaseError",Object.setPrototypeOf(e,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Vo.prototype.create),e}var Vo=(Bo.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(Ho,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",new Uo(o,t=this.serviceName+": "+t+" ("+o+").",i)},Bo);function Bo(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Ho=/\{\$([^}]+)}/g;function Wo(t){return JSON.parse(t)}function Ko(t){return JSON.stringify(t)}function zo(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Wo(To(o[0])||""),n=Wo(To(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function Go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qo(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Yo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var $o=(Jo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Jo.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)s=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},Jo.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},Jo.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},Jo);function Jo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function Zo(t,e){return(e=new ts(t,e)).subscribe.bind(e)}var ts=(es.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},es.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},es.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},es.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=ns),void 0===r.error&&(r.error=ns),void 0===r.complete&&(r.complete=ns),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),n},es.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},es.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},es.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},es.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},es);function es(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function ns(){}function rs(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function is(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return(t+=" failed: ")+r+" argument "}function os(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(is(t,e,r)+"must be a valid function.")}function ss(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(is(t,e,r)+"must be a valid context object.")}function as(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}function us(t,e,n){return void 0===e&&(e=1e3),void 0===n&&(n=2),n=e*Math.pow(n,t),t=Math.round(.5*n*(Math.random()-.5)*2),Math.min(144e5,n+t)}var cs=(ls.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},ls.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},ls.prototype.setServiceProps=function(t){return this.serviceProps=t,this},ls);function ls(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var hs="[DEFAULT]",fs=(ps.prototype.get=function(t){void 0===t&&(t=hs);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ko;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},ps.prototype.getImmediate=function(t){var e=go({identifier:hs,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(t=e.identifier);try{var i=this.getOrInitializeService(r);if(i)return i;if(n)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(n)return null;throw t}},ps.prototype.getComponent=function(){return this.component},ps.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(hs)}catch(t){}try{for(var r=mo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=bo(i.value,2),s=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(a);s.resolve(u)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},ps.prototype.clearInstance=function(t){void 0===t&&(t=hs),this.instancesDeferred.delete(t),this.instances.delete(t)},ps.prototype.delete=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(_o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},ps.prototype.isComponentSet=function(){return null!=this.component},ps.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===hs?void 0:e),this.instances.set(t,n)),n||null},ps.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:hs},ps);function ps(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var ds=(gs.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},gs.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},gs.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new fs(t,this);return this.providers.set(t,e),e},gs.prototype.getProviders=function(){return Array.from(this.providers.values())},gs);function gs(t){this.name=t,this.providers=new Map}function vs(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var ys,ms=[];function bs(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Es[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,vs(["["+i+"]  "+t.name+":"],n))}}(Dr=ys=ys||{})[Dr.DEBUG=0]="DEBUG",Dr[Dr.VERBOSE=1]="VERBOSE",Dr[Dr.INFO=2]="INFO",Dr[Dr.WARN=3]="WARN",Dr[Dr.ERROR=4]="ERROR",Dr[Dr.SILENT=5]="SILENT";var _s={debug:ys.DEBUG,verbose:ys.VERBOSE,info:ys.INFO,warn:ys.WARN,error:ys.ERROR,silent:ys.SILENT},ws=ys.INFO,Es=((W={})[ys.DEBUG]="log",W[ys.VERBOSE]="log",W[ys.INFO]="info",W[ys.WARN]="warn",W[ys.ERROR]="error",W),Ts=(Object.defineProperty(Is.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ys))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),Is.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?_s[t]:t},Object.defineProperty(Is.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(Is.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),Is.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,vs([this,ys.DEBUG],t)),this._logHandler.apply(this,vs([this,ys.DEBUG],t))},Is.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,vs([this,ys.VERBOSE],t)),this._logHandler.apply(this,vs([this,ys.VERBOSE],t))},Is.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,vs([this,ys.INFO],t)),this._logHandler.apply(this,vs([this,ys.INFO],t))},Is.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,vs([this,ys.WARN],t)),this._logHandler.apply(this,vs([this,ys.WARN],t))},Is.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,vs([this,ys.ERROR],t)),this._logHandler.apply(this,vs([this,ys.ERROR],t))},Is);function Is(t){this.name=t,this._logLevel=ws,this._logHandler=bs,this._userLogHandler=null,ms.push(this)}function Ss(t){ms.forEach((function(e){e.setLogLevel(t)}))}(L={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",L["bad-app-name"]="Illegal App name: '{$appName}",L["duplicate-app"]="Firebase App named '{$appName}' already exists",L["app-deleted"]="Firebase App named '{$appName}' already deleted",L["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",L["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var Cs=new Vo("app","Firebase",Dr=L),As="@firebase/app",Ns="[DEFAULT]",ks=((W={})[As]="fire-core",W["@firebase/analytics"]="fire-analytics",W["@firebase/auth"]="fire-auth",W["@firebase/database"]="fire-rtdb",W["@firebase/functions"]="fire-fn",W["@firebase/installations"]="fire-iid",W["@firebase/messaging"]="fire-fcm",W["@firebase/performance"]="fire-perf",W["@firebase/remote-config"]="fire-rc",W["@firebase/storage"]="fire-gcs",W["@firebase/firestore"]="fire-fst",W["fire-js"]="fire-js",W["firebase-wrapper"]="fire-js-all",W),xs=new Ts("@firebase/app"),Os=(Object.defineProperty(Ds.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ds.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ds.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ds.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},Ds.prototype._getService=function(t,e){return void 0===e&&(e=Ns),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},Ds.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Ns),this.container.getProvider(t).clearInstance(e)},Ds.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){xs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},Ds.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},Ds.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cs.create("app-deleted",{appName:this.name_})},Ds);function Ds(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ao(t),this.container=new ds(e.name),this._addComponent(new cs("app",(function(){return o}),"PUBLIC"));try{for(var s=mo(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next())this._addComponent(a.value)}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}Os.prototype.name&&Os.prototype.options||Os.prototype.delete||console.log("dc"),L=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Ns),"string"!=typeof(i=o.name)||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(Go(e,i))throw Cs.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=ks[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);if(t=e.match(/\s|\//),i||t)return n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void xs.warn(n.join(" "));o(new cs(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:Ss,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Cs.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=ms;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=_s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ys[n].toLowerCase(),message:s,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!Go(e,t=t||Ns))throw Cs.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u,c=o.name;if(n.has(c))return xs.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw Cs.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&No(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=mo(Object.keys(e)),h=l.next();!h.done;h=l.next())e[h.value]._addComponent(o)}catch(a){s={error:a}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(Os);return e.INTERNAL=go(go({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){No(e,t)},createSubscribe:Zo,ErrorFactory:Vo,deepExtend:No}),e}();var Ps=(Rs.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null})).filter((function(t){return t})).join(" ")},Rs);function Rs(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(xs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(nu=self.firebase.SDK_VERSION)&&0<=nu.indexOf("LITE")&&xs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Ls=L.initializeApp;L.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return}}()&&xs.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ls.apply(void 0,t)};var Ms,Fs=L;(Ms=Fs).INTERNAL.registerComponent(new cs("platform-logger",(function(t){return new Ps(t)}),"PRIVATE")),Ms.registerVersion(As,"0.6.13",void 0),Ms.registerVersion("fire-js",""),Fs.registerVersion("firebase","8.0.1","app"),(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=r(t),s=i.next();!s.done;s=i.next())o(s.value).Pa(e,n)}))},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e((function(t,e){for(var r=[],s=0;r.push(void 0),s++,o(i.value).Pa(function(e){return function(n){r[e]=n,0==--s&&t(r)}}(r.length-1),e),!(i=n.next()).done;);}))},e}));var i=i||{},o=this||self,s=/^[\w+/_-]+[=]{0,2}$/,a=null;function u(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var _=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=C+t,this.message=e||A[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new T(e.substring(C.length),t.message,t.serverResponse):null}w(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,C="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function k(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function x(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function O(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,O):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function P(t){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=k("__EID__")?"__EID__":void 0,w(O,Error),O.prototype.name="CustomError",w(D,O),D.prototype.name="AssertionError",R.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t};var F=new R((function(){return new j}),(function(t){t.reset()}));function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,s="string"==typeof t?t.split(""):t,a=0;a<r;a++)a in s&&e.call(void 0,n=s[a],a,t)&&(i[o++]=n);return i},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=U(t,e)}function K(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function G(){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,J=/</g,Z=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:e<t?1:0}var st=o.navigator;function at(t){return it(Y,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ct(t){for(var e in t)return;return 1}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}Y=st&&(st=st.userAgent)?st:"";var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<ht.length;i++)e=ht[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function pt(t,e){t:{try{var n;if((n=(n=(n=t&&t.ownerDocument)&&(n.defaultView||n.parentWindow))||o).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(p(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function dt(t,e){this.a=t===mt&&e||"",this.b=yt}function gt(t){return t instanceof dt&&t.constructor===dt&&t.b===yt?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}dt.prototype.sa=!0,dt.prototype.ra=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt,yt={},mt={};function bt(){if(void 0===vt){var t=null,e=o.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){o.console&&o.console.error(t.message)}vt=t}else vt=t}return vt}function _t(t,e){this.a=e===St?t:""}function wt(t){return t instanceof _t&&t.constructor===_t?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n,r=gt(t);if(!It.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=t=r.replace(Tt,(function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof dt?gt(t):encodeURIComponent(String(t))})),new _t(n=(t=bt())?t.createScriptURL(n):n,St)}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={};function Ct(t,e){this.a=e===Pt?t:""}function At(t){return t instanceof Ct&&t.constructor===Ct?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,kt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=xt.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(kt))&&Nt.test(e[1])?new Ct(t,Pt):null);var e}function Dt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Pt))}var Pt={},Rt=new Ct("about:invalid#zClosurez",Pt);function Lt(t,e,n){this.a=n===Mt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Ft(t,e,n,r){return t=t instanceof Ct?t:Dt(t),e=e||o,n=n instanceof dt?gt(n):n||"",e.open(At(t),n,r,void 0)}function jt(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Ut(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=c;var Vt,Bt=at("Opera"),Ht=at("Trident")||at("MSIE"),Wt=at("Edge"),Kt=Wt||Ht,zt=at("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Gt=it(Y.toLowerCase(),"webkit")&&!at("Edge");function Qt(){var t=o.document;return t?t.documentMode:void 0}var Yt="",Xt=(Xt=Y,zt?/rv:([^\);]+)(\)|;)/.exec(Xt):Wt?/Edge\/([\d\.]+)/.exec(Xt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):Gt?/WebKit\/(\S+)/.exec(Xt):Bt?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);Xt&&(Yt=Xt?Xt[1]:""),Vt=Ht&&null!=(Xt=Qt())&&Xt>parseFloat(Yt)?String(Xt):Yt;var $t={};function Jt(t){return e=t,n=function(){for(var e=0,n=X(String(Vt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},r=$t,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var Zt=o.document&&Ht&&(Qt()||parseInt(Vt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var te=!Ht||9<=Number(Zt);function ee(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ne(t,e){ut(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:oe.hasOwnProperty(n)?t.setAttribute(oe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var re,ie,oe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function se(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ae(t){o.setTimeout((function(){throw t}),0)}function ue(t,e){ie||function(){var t;ie=o.Promise&&o.Promise.resolve?(t=o.Promise.resolve(void 0),function(){t.then(he)}):function(){var t=he;!f(o.setImmediate)||o.Window&&o.Window.prototype&&!at("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(re=re||function(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t=se(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0===t||at("Trident")||at("MSIE"))return function(t){o.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Fb,n.Fb=null,t())},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}())(t):o.setImmediate(t)}}(),ce||(ie(),ce=!0),le.add(t,e)}var ce=!1,le=new M;function he(){for(var t,e,n;n=e=void 0,n=null,(e=le).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ae(t)}L(F,t)}ce=!1}function fe(t,e){if(this.a=pe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Se(n,de,t)}),(function(t){if(!(t instanceof De))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Se(n,ge,t)}))}catch(t){Se(this,ge,t)}}var pe=0,de=2,ge=3;function ve(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ve.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ye=new R((function(){return new ve}),(function(t){t.reset()}));function me(t,e,n){var r=ye.get();return r.g=t,r.b=e,r.f=n,r}function be(t){if(t instanceof fe)return t;var e=new fe(c);return Se(e,de,t),e}function _e(t){return new fe((function(e,n){n(t)}))}function we(t,e,n){Ce(t,e,n,null)||ue(b(e,t))}function Ee(t){return new fe((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)we(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Te(t,e){t.b||t.a!=de&&t.a!=ge||Ae(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ie(t,e,n,r){var i=me(null,null,null);return i.a=new fe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof De?o(e):t(i)}catch(e){o(e)}}:o})),Te(i.a.c=t,i),i.a}function Se(t,e,n){var r,i;t.a==pe&&(t===n&&(e=ge,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ce(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Ae(t),e!=ge||n instanceof De||(i=n,(r=t).g=!0,ue((function(){r.g&&Oe.call(null,i)})))))}function Ce(t,e,n,r){if(t instanceof fe)return Te(t,me(e||c,n||null,r)),1;if(x(t))return t.then(e,n,r),1;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function Ae(t){t.h||(t.h=!0,ue(t.fc,t))}function Ne(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ke(t,e,n,r){if(n==ge&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,xe(e,n,r);else try{e.c?e.g.call(e.f):xe(e,n,r)}catch(t){Oe.call(null,t)}L(ye,e)}function xe(t,e,n){e==de?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Ie(this,f(t)?t:null,f(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).na=function(t,e){return(t=me(t,t,e)).c=!0,Te(this,t),this},t.s=function(t,e){return Ie(this,null,t,e)},t.cancel=function(t){var e;this.a==pe&&(e=new De(t),ue((function(){!function t(e,n){if(e.a==pe)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==pe&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Ne(r),ke(r,o,ge,n)))}e.c=null}else Se(e,ge,n)}(this,e)}),this))},t.Zc=function(t){this.a=pe,Se(this,de,t)},t.$c=function(t){this.a=pe,Se(this,ge,t)},t.fc=function(){for(var t;t=Ne(this);)ke(this,t,this.a,this.i);this.h=!1};var Oe=ae;function De(t){O.call(this,t)}function Pe(){this.xa=this.xa,this.oa=this.oa}function Re(t){t.xa||(t.xa=!0,t.Da(),1)||(t=t,Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++g))}w(De,O),Pe.prototype.xa=!(De.prototype.name="cancel"),Pe.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Le=Object.freeze||function(t){return t},Me=!Ht||9<=Number(Zt),Fe=Ht&&!Jt("9"),je=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(t){}return t}();function Ue(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(zt){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ve[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Ue.prototype.preventDefault=function(){this.defaultPrevented=!0},w(qe,Ue);var Ve=Le({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Fe)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.g=function(){return this.a};var Be="closure_listenable_"+(1e6*Math.random()|0),He=0;function We(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++He,this.va=this.Oa=!1}function Ke(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function ze(t){this.src=t,this.a={},this.b=0}function Ge(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Ke(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Qe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Qe(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new We(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var Ye="closure_lm_"+(1e6*Math.random()|0),Xe={};function $e(t,e,n,r,i){if(r&&r.once)Ze(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);else n=cn(n),t&&t[Be]?hn(t,e,n,p(r)?!!r.capture:!!r,i):Je(t,e,n,!1,r,i)}function Je(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a,u=p(i)?!!i.capture:!!i,c=an(t);if(c||(t[Ye]=c=new ze(t)),!(n=c.add(e,n,r,u,o)).proxy)if(s=sn,r=a=Me?function(t){return s.call(a.src,a.listener,t)}:function(t){if(!(t=s.call(a.src,a.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)je||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ze(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ze(t,e[o],n,r,i);else n=cn(n),t&&t[Be]?fn(t,e,n,p(r)?!!r.capture:!!r,i):Je(t,e,n,!0,r,i)}function tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=cn(n),t&&t[Be]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Qe(o=t.a[e],n,r,i))&&(Ke(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&an(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Qe(e,n,r,i)),(n=-1<t?e[t]:null)&&en(n))}function en(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[Be]?Ge(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=an(e))?(Ge(n,t),0==n.b&&(n.src=null,e[Ye]=null)):Ke(t)))}function nn(t){return t in Xe?Xe[t]:Xe[t]="on"+t}function rn(t,e,n,r){var i=!0;if((t=an(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=on(o,r),i=i&&!1!==o)}return i}function on(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&en(t),n.call(r,e)}function sn(t,e){if(t.va)return!0;if(Me)return on(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=o,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new qe(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var s=rn(r[i],t,!0,e);n=n&&s}for(i=0;i<r.length;i++)e.b=r[i],s=rn(r[i],t,!1,e),n=n&&s}return n}function an(t){return(t=t[Ye])instanceof ze?t:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(t){return f(t)?t:(t[un]||(t[un]=function(e){return t.handleEvent(e)}),t[un])}function ln(){Pe.call(this),this.v=new ze(this),(this.$b=this).fb=null}function hn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function fn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function pn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.va&&u.capture==n&&(s=u.listener,a=u.Ua||u.src,u.Oa&&Ge(t.v,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}function dn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function gn(t){var e=null;return new fe((function(n,r){-1==(e=dn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw o.clearTimeout(e),t}))}function vn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function yn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function mn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof mn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function bn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_n(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_n(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(ln,Pe),ln.prototype[Be]=!0,ln.prototype.addEventListener=function(t,e,n,r){$e(this,t,e,n,r)},ln.prototype.removeEventListener=function(t,e,n,r){tn(this,t,e,n,r)},ln.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t?t=new Ue(t,n):t instanceof Ue?t.target=t.target||n:(s=t,ft(t=new Ue(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],s=pn(o,r,!0,t)&&s;if(s=pn(o=t.b=n,r,!0,t)&&s,s=pn(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=pn(o=t.b=e[i],r,!1,t)&&s;return s},ln.prototype.Da=function(){if(ln.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ke(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=mn.prototype).V=function(){bn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return bn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return _n(this.b,t)?this.b[t]:e},t.set=function(t,e){_n(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var wn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function En(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof En?(this.i=void 0!==e?e:t.i,Tn(this,t.f),this.l=t.l,this.a=t.a,In(this,t.g),this.c=t.c,Sn(this,Wn(t.b)),this.h=t.h):t&&(n=String(t).match(wn))?(this.i=!!e,Tn(this,n[1]||"",!0),this.l=xn(n[2]||""),this.a=xn(n[3]||"",!0),In(this,n[4]),this.c=xn(n[5]||"",!0),Sn(this,n[6]||"",!0),this.h=xn(n[7]||"")):(this.i=!!e,this.b=new jn(null,this.i))}function Tn(t,e,n){t.f=n?xn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function In(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Sn(t,e,n){var r,i;e instanceof jn?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(Un(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Vn(this,e),Hn(this,n,t))}),r)),r.f=i):(n||(e=On(e,Mn)),t.b=new jn(e,t.i))}function Cn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function Nn(t){return t instanceof En?new En(t):new En(t,void 0)}function kn(t,e,n,r){var i=new En(null,void 0);return t&&Tn(i,t),e&&(i.a=e),n&&In(i,n),r&&(i.c=r),i}function xn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function On(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Dn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}En.prototype.toString=function(){var t=[],e=this.f;e&&t.push(On(e,Pn,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(On(e,Pn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(On(n,"/"==n.charAt(0)?Ln:Rn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",On(n,Fn)),t.join("")},En.prototype.resolve=function(t){var e=new En(this),n=!!t.f;n?Tn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r,i=t.c;if(n)In(e,t.g);else if(n=!!t.c)if("/"!=i.charAt(0)&&(this.a&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(it(r,"./")||it(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r;return n?e.c=i:n=""!==t.b.toString(),n?Sn(e,Wn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Pn=/[#\/\?@]/g,Rn=/[#\?:]/g,Ln=/[#\?]/g,Mn=/[#\?@]/g,Fn=/#/g;function jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Un(t){t.a||(t.a=new mn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qn(t){var e=yn(t);if(void 0===e)throw Error("Keys are undefined");var n=new jn(null,void 0);t=vn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Hn(n,i,o):n.add(i,o)}return n}function Vn(t,e){Un(t),e=Kn(t,e),_n(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_n((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&bn(t)))}function Bn(t,e){return Un(t),e=Kn(t,e),_n(t.a.b,e)}function Hn(t,e,n){Vn(t,e),0<n.length&&(t.c=null,t.a.set(Kn(t,e),Q(n)),t.b+=n.length)}function Wn(t){var e=new jn;return e.c=t.c,t.a&&(e.a=new mn(t.a),e.b=t.b),e}function Kn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Xn(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Gn,t,e),e.join("")}function Gn(){}(t=jn.prototype).add=function(t,e){Un(this),this.c=null,t=Kn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Un(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Un(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Un(this);var e=[];if("string"==typeof t)Bn(this,t)&&(e=G(e,this.a.get(Kn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Un(this),this.c=null,Bn(this,t=Kn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.V(r),0);o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(t,e){e.push('"',t.replace(Yn,(function(t){var e=Qn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Qn[t]=e),e})),'"')}function $n(){var t=vr();return Ht&&Zt&&11==Zt||/Edge\/\d+/.test(t)}function Jn(){return o.window&&o.window.location.href||self&&self.location&&self.location.href||""}function Zn(t,e){e=e||o.window;var n="about:blank";t&&(n=At(Ot(t)||Rt)),e.location.href=n}function tr(t){return!!((t=(t||vr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||o.window;try{t.close()}catch(t){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=vr().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),pr(vr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Ot(void 0!==n.href?n.href:String(n))||Rt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(pt(s=se(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Dt(e),s.href=At(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ft("",r,n,s),t=At(e),s&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Lt(t=(r=bt())?r.createHTML(t):t,0,Mt),r=s.document)&&(r.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(P("expected object of type SafeHtml, got '"+o+"' of type "+l(o)),"type_error:SafeHtml")),r.close())):(s=Ft(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var t=null;return new fe((function(e){"complete"==o.document.readyState?e():(t=function(){e()},Ze(window,"load",t))})).s((function(e){throw tn(window,"load",t),e}))}function sr(t){return t=t||vr(),!("file:"!==wr()&&"ionic:"!==wr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){var t=o.window;try{return t&&t!=t.top}catch(t){return}}function ur(){return void 0!==o.WorkerGlobalScope&&"function"==typeof o.importScripts}function cr(){return Fs.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fs.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function lr(){var t=cr();return"ReactNative"===t||"Node"===t}var hr="Firefox",fr="Chrome";function pr(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?hr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":fr:"Safari"}var dr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function gr(t,e){e=e||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=cr())?r=pr(i=vr()):"Worker"===r&&(r=pr(i=vr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function vr(){return o.navigator&&o.navigator.userAgent||""}function yr(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function mr(){try{var t=o.localStorage,e=Cr();if(t)return t.setItem(e,"1"),t.removeItem(e),!$n()||!!o.indexedDB}catch(t){return ur()&&!!o.indexedDB}return!1}function br(){return(_r()||"chrome-extension:"===wr()||sr())&&!lr()&&mr()&&!ur()}function _r(){return"http:"===wr()||"https:"===wr()}function wr(){return o.location&&o.location.protocol||null}function Er(t){return!tr(t=t||vr())&&pr(t)!=hr}function Tr(t){return void 0===t?null:zn(t)}function Ir(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Sr(t){if(null!==t)return JSON.parse(t)}function Cr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=pr(t=t||vr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var t=o.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function kr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=vr(),e=cr(),this.b=tr(t)||"ReactNative"===e}function xr(){var t=o.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Or(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Dr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Pr(){return yr("fireauth.oauthhelper",o)||yr("fireauth.iframe",o)}kr.prototype.get=function(){var t=o.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==wr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Rr,Lr={};function Mr(t){Lr[t]||(Lr[t]=!0,Or(t))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Rr=2==Fr.abcd}catch(t){Rr=!1}function jr(t,e,n){Rr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ur(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&jr(t,n,e[n])}function qr(t){var e={};return Ur(e,t),e}function Vr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)jr(e,n,Vr(t[n]));return e}function Br(t){var e=t&&(t[Gr]?"phone":null);if(!(e&&t&&t[zr]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");jr(this,"uid",t[zr]),jr(this,"displayName",t[Wr]||null);var n=null;t[Kr]&&(n=new Date(t[Kr]).toUTCString()),jr(this,"enrollmentTime",n),jr(this,"factorId",e)}function Hr(t){try{var e=new Qr(t)}catch(t){e=null}return e}Br.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Wr="displayName",Kr="enrolledAt",zr="mfaEnrollmentId",Gr="phoneInfo";function Qr(t){Br.call(this,t),jr(this,"phoneNumber",t[Gr])}function Yr(t){var e={},n=t[Zr],r=t[ei],i=t[ni];if(t=Hr(t[ti]),!i||i!=$r&&i!=Jr&&!n||i==Jr&&!r||i==Xr&&!t)throw Error("Invalid checkActionCode response!");i==Jr?(e[ii]=n||null,e[si]=n||null,e[ri]=r):(e[ii]=r||null,e[si]=r||null,e[ri]=n||null),e[oi]=t||null,jr(this,ui,i),jr(this,ai,Vr(e))}w(Qr,Br),Qr.prototype.w=function(){var t=Qr.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Xr="REVERT_SECOND_FACTOR_ADDITION",$r="EMAIL_SIGNIN",Jr="VERIFY_AND_CHANGE_EMAIL",Zr="email",ti="mfaInfo",ei="newEmail",ni="requestType",ri="email",ii="fromEmail",oi="multiFactorInfo",si="previousEmail",ai="data",ui="operation";function ci(t){var e=An(t=Nn(t),li)||null,n=An(t,hi)||null,r=(r=An(t,di)||null)&&vi[r]||null;if(!e||!n||!r)throw new T("argument-error",li+", "+hi+"and "+di+" are required in a valid action code URL.");Ur(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,fi)||null,languageCode:An(t,pi)||null,tenantId:An(t,gi)||null})}var li="apiKey",hi="oobCode",fi="continueUrl",pi="languageCode",di="mode",gi="tenantId",vi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Xr,signIn:$r,verifyAndChangeEmail:Jr,verifyEmail:"VERIFY_EMAIL"};function yi(t){try{return new ci(t)}catch(t){return null}}function mi(t){var e=t[Ti];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[bi])&&"object"==typeof r){e=r[Ci];var n=r[Ii],r=r[Si];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new T("argument-error",Ii+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new T("argument-error",Si+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new T("argument-error",Ci+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new T("missing-android-pkg-name")}}else if(void 0!==r)throw new T("argument-error",bi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ei])&&"object"==typeof e){if("string"==typeof(e=e[Ai])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ei+" property must be a non null object when specified.");if(void 0!==(e=t[wi])&&"boolean"!=typeof e)throw new T("argument-error",wi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[_i])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",_i+" property must be a non empty string when specified.");this.i=t||null}var bi="android",_i="dynamicLinkDomain",wi="handleCodeInApp",Ei="iOS",Ti="url",Ii="installApp",Si="minimumVersion",Ci="packageName",Ai="bundleId";function Ni(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var ki=null;function xi(t){var e=Di(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Oi(t){try{return new xi(t)}catch(t){return null}}function Di(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ki){ki={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ki[o]&&(ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}xi.prototype.S=function(){return this.f},xi.prototype.i=function(){return this.b},xi.prototype.toString=function(){return this.g};var Pi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ri=["client_id","response_type","scope","redirect_uri","state"],Li={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ri},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ri},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ri},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Pi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Mi(t){for(var e in Li)if(Li[e].fa==t)return Li[e];return null}function Fi(t){var e={};e["facebook.com"]=Bi,e["google.com"]=Wi,e["github.com"]=Hi,e["twitter.com"]=Ki;var n=t&&t[Ui];try{if(n)return new(e[n]?e[n]:Vi)(t);if(void 0!==t[ji])return new qi(t)}catch(t){}return null}var ji="idToken",Ui="providerId";function qi(t){var e,n=t[Ui];if(n||!t[ji]||(e=Oi(t[ji]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),jr(this,"providerId",n),jr(this,"isNewUser",e)}function Vi(t){qi.call(this,t),jr(this,"profile",Vr((t=Sr(t.rawUserInfo||"{}"))||{}))}function Bi(t){if(Vi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hi(t){if(Vi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",this.profile&&this.profile.login||null)}function Wi(t){if(Vi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(t){if(Vi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",t.screenName||null)}function zi(t){var e=An(r=Nn(t),"link"),n=An(Nn(e),"link"),r=An(r,"deep_link_id");return An(Nn(r),"link")||r||n||e||t}function Gi(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Qi:Yi}w(Vi,qi),w(Bi,Vi),w(Hi,Vi),w(Wi,Vi),w(Ki,Vi);var Qi="enroll",Yi="signin";function Xi(){}function $i(t,e){return t.then((function(t){if(t[Us]){var n=Oi(t[Us]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==C+"user-not-found"?new T("user-mismatch"):t}))}function Ji(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,jr(this,"providerId",t),jr(this,"signInMethod",t)}function Zi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function to(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Ji(t.providerId,t.pendingToken)}catch(t){}return null}function eo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&jr(this,"idToken",e.idToken),e.accessToken&&jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");jr(this,"accessToken",e.oauthToken),jr(this,"secret",e.oauthTokenSecret)}jr(this,"providerId",t),jr(this,"signInMethod",n)}function no(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ro(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new eo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function io(t,e){this.Pc=e||[],Ur(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Mi(t)||{}).Ja||null,this.nb=null}function oo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');io.call(this,t,[])}function so(t){io.call(this,t,Ri),this.a=[]}function ao(){so.call(this,"facebook.com")}function uo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new ao).credential({accessToken:e})}function co(){so.call(this,"github.com")}function lo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function ho(){so.call(this,"google.com"),this.Ca("profile")}function fo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new ho).credential({idToken:n,accessToken:e})}function po(){io.call(this,"twitter.com",Pi)}function go(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new eo("twitter.com",n,"twitter.com")}function vo(t,e,n){this.a=t,this.f=e,jr(this,"providerId","password"),jr(this,"signInMethod",n===mo.EMAIL_LINK_SIGN_IN_METHOD?mo.EMAIL_LINK_SIGN_IN_METHOD:mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function yo(t){return t&&t.email&&t.password?new vo(t.email,t.password,t.signInMethod):null}function mo(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function bo(t,e){if(!(e=_o(e)))throw new T("argument-error","Invalid email link!");return new vo(t,e.code,mo.EMAIL_LINK_SIGN_IN_METHOD)}function _o(t){return(t=yi(t=zi(t)))&&t.operation===$r?t:null}function wo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,jr(this,"providerId","phone"),this.fa="phone",jr(this,"signInMethod","phone")}function Eo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new wo(e)}return null}function To(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Io(t){try{this.a=t||Fs.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function So(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new wo({cb:t,bb:e})}function Co(t){if(t.temporaryProof&&t.phoneNumber)return new wo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return fo(o,n);case"facebook.com":return uo(n);case"github.com":return lo(n);case"twitter.com":return go(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new Ji(e,s):new eo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new so(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ao(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function No(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function ko(t){return(t=t||{}).type?new No(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function xo(){this.b=null,this.a=[]}Gi.prototype.Ha=function(){return be(this.a?this.a:this.b)},Gi.prototype.w=function(){return this.type==Qi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Xi.prototype.ja=function(){},Xi.prototype.b=function(){},Xi.prototype.c=function(){},Xi.prototype.w=function(){},Ji.prototype.ja=function(t){return sa(t,Zi(this))},Ji.prototype.b=function(t,e){var n=Zi(this);return n.idToken=e,aa(t,n)},Ji.prototype.c=function(t,e){return $i(ua(t,Zi(this)),e)},Ji.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},eo.prototype.ja=function(t){return sa(t,no(this))},eo.prototype.b=function(t,e){var n=no(this);return n.idToken=e,aa(t,n)},eo.prototype.c=function(t,e){return $i(ua(t,no(this)),e)},eo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},io.prototype.Ka=function(t){return this.Hb=lt(t),this},w(oo,io),w(so,io),so.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},so.prototype.Pb=function(){return Q(this.a)},so.prototype.credential=function(t,e){if(!(e=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new eo(this.providerId,e,this.providerId)},w(ao,so),jr(ao,"PROVIDER_ID","facebook.com"),jr(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(co,so),jr(co,"PROVIDER_ID","github.com"),jr(co,"GITHUB_SIGN_IN_METHOD","github.com"),w(ho,so),jr(ho,"PROVIDER_ID","google.com"),jr(ho,"GOOGLE_SIGN_IN_METHOD","google.com"),w(po,io),jr(po,"PROVIDER_ID","twitter.com"),jr(po,"TWITTER_SIGN_IN_METHOD","twitter.com"),vo.prototype.ja=function(t){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,va,{email:this.a,oobCode:this.f}):Ha(t,ja,{email:this.a,password:this.f})},vo.prototype.b=function(t,e){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,ya,{idToken:e,email:this.a,oobCode:this.f}):Ha(t,xa,{idToken:e,email:this.a,password:this.f})},vo.prototype.c=function(t,e){return $i(this.ja(t),e)},vo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ur(mo,{PROVIDER_ID:"password"}),Ur(mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),wo.prototype.ja=function(t){return t.eb(To(this))},wo.prototype.b=function(t,e){var n=To(this);return n.idToken=e,Ha(t,qa,n)},wo.prototype.c=function(t,e){var n=To(this);return n.operation="REAUTH",$i(t=Ha(t,Va,n),e)},wo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Io.prototype.eb=function(t,e){var n=this.a.a;return be(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i=i&&i.type==Qi?i.Ha().then((function(t){return Ha(n,Da,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==Yi?i.Ha().then((function(e){return Ha(n,Pa,e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then((function(t){return t.phoneResponseInfo.sessionInfo}))})):Ha(n,Na,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},Ur(Io,{PROVIDER_ID:"phone"}),Ur(Io,{PHONE_SIGN_IN_METHOD:"phone"}),No.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},No.prototype.S=function(){return this.h},No.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Oo,Do=null;function Po(t){var e="unauthorized-domain",n=void 0,r=Nn(t);t=r.a,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ro(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&jr(this,"email",t.Ib),t.ea&&jr(this,"phoneNumber",t.ea),t.credential&&jr(this,"credential",t.credential),t.Yb&&jr(this,"tenantId",t.Yb)}function Lo(t){if(t.code){var e=t.code||"";0==e.indexOf(C)&&(e=e.substring(C.length));var n={credential:Co(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ro(e,n,t.message)}return null}function Mo(){}function Fo(){}function jo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Uo(){}function qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.pc,this),this.a.onerror=m(this.Rb,this),this.a.onprogress=m(this.qc,this),this.a.ontimeout=m(this.uc,this)}function Vo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ho(t){this.f=t,this.b=this.c=this.a=null}function Wo(t,e){this.name=t,this.value=e}w(Po,T),w(Ro,T),Ro.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&ft(t,e),t},Ro.prototype.toJSON=function(){return this.w()},Mo.prototype.c=null,w(Fo,Mo),Fo.prototype.a=function(){var t=jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Fo.prototype.b=function(){var t={};return jo(this)&&(t[0]=!0,t[1]=!0),t},Oo=new Fo,w(Uo,Mo),Uo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new qo;throw Error("Unsupported browser")},Uo.prototype.b=function(){return{}},(t=qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Vo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Vo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Vo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null,Bo.prototype.reset=function(t,e,n,r,i){delete this.a},Wo.prototype.toString=function(){return this.name};var Ko=new Wo("SEVERE",1e3),zo=new Wo("WARNING",900),Go=new Wo("CONFIG",700),Qo=new Wo("FINE",500);Ho.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Yo,Xo={},$o=null;function Jo(t){var e,n,r;return $o||($o=new Ho(""),(Xo[""]=$o).c=Go),(e=Xo[t])||(e=new Ho(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=Jo(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,Xo[t]=e),e}function Zo(t,e){t&&t.log(Qo,e,void 0)}function ts(t){this.f=t}function es(t){ln.call(this),this.u=t,this.h=void 0,this.readyState=ns,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=Jo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(ts,Mo),ts.prototype.a=function(){return new es(this.f)},ts.prototype.b=(Yo={},function(){return Yo}),w(es,ln);var ns=0;function rs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function is(t){t.readyState=4,t.g=null,t.c=null,t.m=null,os(t)}function os(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ss(t){ln.call(this),this.headers=new mn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=as,this.u=this.R=!1}(t=es.prototype).open=function(t,e){if(this.readyState!=ns)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,os(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,is(this)),this.readyState=ns},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,os(this)),this.a&&(this.readyState=3,os(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==o.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,rs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){var e;this.a&&((e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?is:os)(this),3==this.readyState&&rs(this))},t.sc=function(t){this.a&&(this.response=this.responseText=t,is(this))},t.rc=function(t){this.a&&(this.response=t,is(this))},t.Ta=function(t){var e=this.i;e&&e.log(zo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&is(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(zo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(zo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(es.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),w(ss,ln);var as="";ss.prototype.b=Jo("goog.net.XhrIo");var us=/^https?$/i,cs=["POST","PUT"];function ls(t){return"content-type"==t.toLowerCase()}function hs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,fs(t),ds(t)}function fs(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ps(t){if(t.c&&void 0!==i)if(t.A[1]&&4==vs(t)&&2==ys(t))Zo(t.b,ms(t,"Local request error detected and ignored"));else if(t.i&&4==vs(t))dn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==vs(t)){Zo(t.b,ms(t,"Request complete")),t.c=!1;try{var e,n,r,s,a=ys(t);t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===a)&&(!(s=String(t.l).match(wn)[1]||null)&&o.self&&o.self.location&&(s=(r=o.self.location.protocol).substr(0,r.length-1)),n=!us.test(s?s.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<vs(t)?t.a.statusText:""}catch(e){Zo(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+ys(t)+"]",fs(t)}}finally{ds(t)}}}function ds(t,e){if(t.a){gs(t);var n=t.a,r=t.A[0]?c:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Ko,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function gs(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(o.clearTimeout(t.o),t.o=null)}function vs(t){return t.a?t.a.readyState:0}function ys(t){try{return 2<vs(t)?t.a.status:-1}catch(t){return-1}}function ms(t,e){return e+" ["+t.P+" "+t.l+" "+ys(t)+"]"}function bs(t){var e=xs;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function _s(t,e,n){t.a=!0,t.c=n,t.f=!e,Is(t)}function ws(t){if(t.a){if(!t.m)throw new Ss;t.m=!1}}function Es(t,e,n,r){t.g.push([e,n,r]),t.a&&Is(t)}function Ts(t){return H(t.g,(function(t){return f(t[1])}))}function Is(t){var e,n;t.h&&t.a&&Ts(t)&&((n=Ns[e=t.h])&&(o.clearTimeout(n.a),delete Ns[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(a=t.g.shift())[0],s=a[1],a=a[2];if(i=t.f?s:i)try{var u=i.call(a||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof o.Promise&&e instanceof o.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ts(t)||(n=!0)}}t.c=e,r&&(u=m(t.v,t,!0),r=m(t.v,t,!1),e instanceof bs?(Es(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new As(e),Ns[e.a]=e,t.h=e.a)}function Ss(){O.call(this)}function Cs(){O.call(this)}function As(t){this.a=o.setTimeout(m(this.c,this),0),this.b=t}(t=ss.prototype).Ma=function(){void 0!==i&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zo(this.b,ms(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Zo(this.b,ms(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ds(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ds(this,!0)),ss.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ps(this):this.Ic())},t.Ic=function(){ps(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case as:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Ko,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Zo(this.b,"Can not get response: "+t.message),null}},bs.prototype.cancel=function(t){var e;this.a?this.c instanceof bs&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Cs,ws(this),_s(this,!1,t)))},bs.prototype.v=function(t,e){this.i=!1,_s(this,t,e)},bs.prototype.then=function(t,e,n){var r,i,o=new fe((function(t,e){r=t,i=e}));return Es(this,r,(function(t){t instanceof Cs?o.cancel():i(t)})),o.then(t,e,n)},bs.prototype.$goog_Thenable=!0,w(Ss,O),Ss.prototype.message="Deferred has already fired",Ss.prototype.name="AlreadyCalledError",w(Cs,O),Cs.prototype.message="Deferred was canceled",Cs.prototype.name="CanceledError",As.prototype.c=function(){throw delete Ns[this.a],this.b};var Ns={};function ks(t){var e=document,n=wt(t).toString(),r=se(document,"SCRIPT"),i={Vb:r,Ma:void 0},s=new bs(i),c=window.setTimeout((function(){Os(r,!0);var t=new Rs(Ps,"Timeout reached for loading script "+n);ws(s),_s(s,!1,t)}),5e3);return i.Ma=c,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Os(r,!1,c),ws(s),_s(s,!0,null))},r.onerror=function(){Os(r,!0,c);var t=new Rs(Ds,"Error while loading script "+n);ws(s),_s(s,!1,t)},ft(i={},{type:"text/javascript",charset:"UTF-8"}),ne(r,i),i=t,pt(t=r,"HTMLScriptElement"),t.src=wt(i),(i=(i=t.ownerDocument&&t.ownerDocument.defaultView)&&i!=o?u(i.document):(null===a&&(a=u(o.document)),a))&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),s}function xs(){var t;this&&this.Vb&&(t=this.Vb)&&"SCRIPT"==t.tagName&&Os(t,!0,this.Ma)}function Os(t,e,n){null!=n&&o.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ds=0,Ps=1;function Rs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Ls(t){this.f=t}function Ms(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||qs,this.g=lt(t.secureTokenHeaders||Vs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Bs,this.a=lt(t.firebaseHeaders||Hs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==cr(),!(n=o.XMLHttpRequest||n&&Fs.INTERNAL.node&&Fs.INTERNAL.node.XMLHttpRequest)&&!ur())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new ts(self):lr()?new Ls(n):new Uo,this.b=null}w(Rs,O),w(Ls,Mo),Ls.prototype.a=function(){return new this.f},Ls.prototype.b=function(){return{}};var js,Us="idToken",qs=new kr(3e4,6e4),Vs={"Content-Type":"application/x-www-form-urlencoded"},Bs=new kr(3e4,6e4),Hs={"Content-Type":"application/json"};function Ws(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ks(t,e){e&&(t.l=zs("https://securetoken.googleapis.com/v1/token",e),t.h=zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=zs("https://identitytoolkit.googleapis.com/v2/",e))}function zs(t,e){return t=Nn(t),e=Nn(e.url),t.c=t.a+t.c,Tn(t,e.f),t.a=e.a,In(t,e.g),t.toString()}function Gs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Qs(t,e,n,r,i,s,a){var u;(t=((u=pr(u=vr())==fr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||Ht&&Zt&&!(9<Zt))&&!ur()?(js=js||new fe((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(o[Xs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Es(t,null,e,void 0)}(ks(Et(Ys,{onload:Xs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),m(t.o,t)):m(t.u,t))(e,n,r,i,s,a)}Ms.prototype.S=function(){return this.b},Ms.prototype.u=function(t,e,n,r,i,s){if(ur()&&(void 0===o.fetch||void 0===o.Headers||void 0===o.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a,u=new ss(this.f);s&&(u.g=Math.max(0,s),a=setTimeout((function(){u.dispatchEvent("timeout")}),s)),hn(u,"complete",(function(){a&&clearTimeout(a);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Zo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),fn(u,"ready",(function(){a&&clearTimeout(a),Re(this)})),fn(u,"timeout",(function(){a&&clearTimeout(a),Re(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=(t.O?t.O:Oo).a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Oo),t.a.onreadystatechange=m(t.Ub,t);try{Zo(t.b,ms(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return Zo(t.b,ms(t,"Error opening Xhr: "+e.message)),void hs(t,e)}e=r||"";var s,a=new mn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)q(t,e,void 0);else for(var n=yn(t),r=vn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){a.set(e,t)})),i=function(t){t:{for(var e=ls,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(a.Y()),r=o.FormData&&e instanceof o.FormData,!W(cs,n)||i||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{gs(t),0<t.g&&(t.u=(s=t.a,Ht&&Jt(9)&&"number"==typeof s.timeout&&void 0!==s.ontimeout),Zo(t.b,ms(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ma,t)):t.o=dn(t.Ma,t.g,t)),Zo(t.b,ms(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){Zo(t.b,ms(t,"Send error: "+e.message)),hs(t,e)}}(u,t,n,r,i)};var Ys=new dt(mt,"https://apis.google.com/js/client.js?onload=%{onload}"),Xs="__fcb"+Math.floor(1e6*Math.random()).toString();function $s(t){if("string"!=typeof(t=t.email)||!ir.test(t))throw new T("invalid-email")}function Js(t){"email"in t&&$s(t)}function Zs(t){if(!t[Us]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,lt(t));throw new T("internal-error")}}function ta(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ms.prototype.o=function(t,e,n,r,i){var o=this;js.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ms.prototype.yb=function(){return Ha(this,Oa,{})},Ms.prototype.Ab=function(t,e){return Ha(this,ka,{idToken:t,email:e})},Ms.prototype.Bb=function(t,e){return Ha(this,xa,{idToken:t,password:e})};var ea={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function na(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ra(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ia(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Bn(t=new jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function oa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Lo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Lo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Lo(t)):t.errorMessage&&(e=Wa(t.errorMessage)),e)throw e;Zs(t)}function sa(t,e){return e.returnIdpCredential=!0,Ha(t,Ra,e)}function aa(t,e){return e.returnIdpCredential=!0,Ha(t,Ma,e)}function ua(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ha(t,La,e)}function ca(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ms.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ut(ea,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ha(this,ka,n)},t.ub=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Ha(this,Ia,t)},t.vb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Ha(this,wa,t)},t.tb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ha(this,Ea,t)},t.Db=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ha(this,Ta,t)},t.eb=function(t){return Ha(this,Ua,t)},t.mb=function(t,e){return Ha(this,Aa,{oobCode:t,newPassword:e})},t.Qa=function(t){return Ha(this,ha,{oobCode:t})},t.ib=function(t){return Ha(this,la,{oobCode:t})};var la={endpoint:"setAccountInfo",B:ca,Z:"email",C:!0},ha={endpoint:"resetPassword",B:ca,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},fa={endpoint:"signupNewUser",B:function(t){if($s(t),!t.password)throw new T("weak-password")},F:Zs,U:!0,C:!0},pa={endpoint:"createAuthUri",C:!0},da={endpoint:"deleteAccount",M:["idToken"]},ga={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},va={endpoint:"emailLinkSignin",M:["email","oobCode"],B:$s,F:Zs,U:!0,C:!0},ya={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:$s,F:Zs,U:!0},ma={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:na,F:Zs,C:!0,Na:!0},ba={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:na,F:Zs,C:!0,Na:!0},_a={endpoint:"getAccountInfo"},wa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");$s(t)},Z:"email",C:!0},Ea={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Ta={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");$s(t)},Z:"email",C:!0},Sa={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ca={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Aa={endpoint:"resetPassword",B:ca,Z:"email",C:!0},Na={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},ka={endpoint:"setAccountInfo",M:["idToken"],B:Js,U:!0},xa={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(Js(t),!t.password)throw new T("weak-password")},F:Zs,U:!0},Oa={endpoint:"signupNewUser",F:Zs,U:!0,C:!0},Da={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Pa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ra={endpoint:"verifyAssertion",B:ra,Xa:ia,F:oa,U:!0,C:!0},La={endpoint:"verifyAssertion",B:ra,Xa:ia,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Wa(t.errorMessage);Zs(t)},U:!0,C:!0},Ma={endpoint:"verifyAssertion",B:function(t){if(ra(t),!t.idToken)throw new T("internal-error")},Xa:ia,F:oa,U:!0},Fa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:Zs,U:!0,C:!0},ja={endpoint:"verifyPassword",B:function(t){if($s(t),!t.password)throw new T("wrong-password")},F:Zs,U:!0,C:!0},Ua={endpoint:"verifyPhoneNumber",B:ta,F:Zs,C:!0},qa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");ta(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Lo(t);Zs(t)}},Va={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ta,F:Zs,C:!0},Ba={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Us]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function Ha(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return _e(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return be(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Nn(e+n);Cn(a,"key",t.c),s&&Cn(a,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Cn(a,c,i[c]);return new fe((function(e,n){Qs(t,a.toString(),(function(t){t?t.error?n(Ka(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:zn(Ir(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function Wa(t){return Ka({error:{errors:[{message:t}],code:400,message:t}})}function Ka(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new T(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",ft(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new T(i[n],e);return!e&&t&&(e=Tr(t)),new T("internal-error",e)}function za(t){var e;this.b=t,this.a=null,this.qb=(e=this,(Xa||(Xa=new fe((function(t,e){function n(){Nr(),yr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Nr(),e(Error("Network Error"))},timeout:Qa.get()})}var r;yr("gapi.iframes.Iframe")?t():yr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),o[r]=function(){yr("gapi.load")?n():e(Error("Network Error"))},be(ks(r=Et(Ga,{onload:r}))).s((function(){e(Error("Network Error"))})))})).s((function(t){throw Xa=null,t})))).then((function(){return new fe((function(t,n){yr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ya.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Ga=new dt(mt,"https://apis.google.com/js/api.js?onload=%{onload}"),Qa=new kr(3e4,6e4),Ya=new kr(5e3,15e3),Xa=null;function $a(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?kn((t=Nn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):kn("https",this.l,null,"/__/auth/iframe"),this.a=t,Cn(this.a,"apiKey",this.h),Cn(this.a,"appName",this.i),this.b=null,this.c=[]}function Ja(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Za(t){try{return Fs.app(t).auth().Ga()}catch(t){return[]}}function tu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function eu(t){var e=Jn();return Ha(t,Sa,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=Nn(e)).f,r=r.a,i=0;i<t.length;i++){var o=t[i],s=r,a=n;if(s=0==o.indexOf("chrome-extension://")?Nn(o).a==s&&"chrome-extension"==a:("http"==a||"https"==a)&&(rr.test(o)?s==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)))){t=!0;break t}}t=!1}if(!t)throw new Po(Jn())}))}function nu(t){return t.v||(t.v=or().then((function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=Za(t.b),(i=new $a(t.o,t.g,t.b,t.f)).f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()),t.m=new za(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ko(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",be(n)}return n.status="ERROR",be(n)}))}(t)}))),t.v}function ru(t){return t.l||(t.A=t.c?gr(t.c,Za(t.b)):null,t.l=new Ms(t.g,k(t.i),t.A),t.f&&Ks(t.l,t.f)),t.l}function iu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new Ja(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=lt(u||null),t.f=c,t.xb(l).toString()}function ou(t){if(this.a=t||Fs.INTERNAL.reactNative&&Fs.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function su(t){this.b=t,this.a={},this.f=m(this.c,this)}$a.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Vn(this.a.b,"v"),this.b?Cn(this.a,"eid",this.b):Vn(this.a.b,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Vn(this.a.b,"fw"),this.a.toString()},Ja.prototype.xb=function(t){return this.h=t,this},Ja.prototype.toString=function(){var t;if(Cn(t=this.m?kn((t=Nn(this.m.url)).f,t.a,t.g,"/emulator/auth/handler"):kn("https",this.u,null,"/__/auth/handler"),"apiKey",this.o),Cn(t,"appName",this.c),Cn(t,"authType",this.v),this.a.isOAuthProvider){var e,n=this.a;try{var r=Fs.app(this.c).auth().ka()}catch(t){r=null}for(e in n.nb=r,Cn(t,"providerId",this.a.providerId),n=Ir((r=this.a).Hb))n[e]=n[e].toString();e=r.Pc,n=lt(n);for(var i=0;i<e.length;i++){var o=e[i];o in n&&delete n[o]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),ct(n)||Cn(t,"customParameters",Tr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Cn(t,"scopes",r.join(",")),this.l?Cn(t,"redirectUrl",this.l):Vn(t.b,"redirectUrl"),this.g?Cn(t,"eventId",this.g):Vn(t.b,"eventId"),this.i?Cn(t,"v",this.i):Vn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!An(t,s)&&Cn(t,s,this.b[s]);return this.h?Cn(t,"tid",this.h):Vn(t.b,"tid"),this.f?Cn(t,"eid",this.f):Vn(t.b,"eid"),(s=Za(this.c)).length&&Cn(t,"fw",s.join(",")),t.toString()},(t=tu.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){var n,r;r={type:"webStorageSupport"},nu(n=o).then((function(){return e=r,(t=n.m).qb.then((function(){return new fe((function(n){t.a.send(e.type,e,n,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&er(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return e=t,new fe((function(t){return function n(){gn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!s)return gn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=vr();return!Er(t)&&!Ar(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return _e(new T("popup-blocked"));if(s&&!Er())return this.la().s((function(e){er(t),i(e)})),r(),be();this.a||(this.a=eu(ru(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw er(t),i(e),e}));return r(),e})).then((function(){Ao(n),s||Zn(iu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=eu(ru(this)));var i=this;return this.a.then((function(){Ao(e),Zn(iu(i.o,i.g,i.b,t,e,Jn(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return nu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new T("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){z(this.h,(function(e){return e==t}))},(t=ou.prototype).get=function(t){return be(this.a.getItem(t)).then((function(t){return t&&Sr(t)}))},t.set=function(t,e){return be(this.a.setItem(t,Tr(e)))},t.T=function(t){return be(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var au,uu=[];function cu(t,e,n){ct(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function lu(t){this.a=t}function hu(t){this.c=t,this.b=!1,this.a=[]}function fu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return _e(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return pu(t,c),e})).s((function(e){throw pu(t,c),e}))}function pu(t,e){var n;e&&((n=e.messageChannel)&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),z(t.a,(function(t){return t==e})))}function du(){if(!vu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=o.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t,e,n,r=this;ur()&&self?(this.l=(n=ur()?self:null,q(uu,(function(t){t.b==n&&(e=t)})),e||(e=new su(n),uu.push(e)),e),cu(this.l,"keyChanged",(function(t,e){return wu(r).then((function(t){return 0<t.length&&q(r.a,(function(e){e(t)})),{keyProcessed:W(t,e.key)}}))})),cu(this.l,"ping",(function(){return be(["keyChanged"])}))):((t=o.navigator)&&t.serviceWorker?be().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):be(null)).then((function(t){(r.h=t)&&(r.g=new hu(new lu(t)),fu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(r.o=!0)})).s((function(){})))}))}function gu(t){return t.v||(t.v=function t(e){return new fe((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){var o;(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):(o=e,new fe((function(t,e){var n=o.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)})))}}))}(t)),t.v}function vu(){try{return o.indexedDB}catch(t){return}}function yu(t){return t.objectStore("firebaseLocalStorage")}function mu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function bu(t){return new fe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function _u(t,e){return t.g&&t.h&&((n=o.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?fu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):be();var n}function wu(t){return gu(t).then((function(t){var e=yu(mu(t,!1));return e.getAll?bu(e.getAll()):new fe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Eu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Tu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=be().then((function(){if(vu()){var t=Cr(),r="__sak"+t;return au=au||new du,(n=au).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Iu(){this.a={},this.type="inMemory"}function Su(){if(!function(){var t="Node"==cr();if(!(t=Cu()||t&&Fs.INTERNAL.node&&Fs.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Cu()||Fs.INTERNAL.node.localStorage,this.type="localStorage"}function Cu(){try{var t=o.localStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Au(){this.type="nullStorage"}function Nu(){if(!function(){var t="Node"==cr();if(!(t=ku()||t&&Fs.INTERNAL.node&&Fs.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=ku()||Fs.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ku(){try{var t=o.sessionStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function xu(){var t={};t.Browser=Pu,t.Node=Ru,t.ReactNative=Lu,t.Worker=Mu,this.a=t[cr()]}su.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],q(i,(function(n){e.push(be().then((function(){return n(t.origin,t.data.data)})))})),Ee(e).then((function(e){var i=[];q(e,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},lu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},hu.prototype.close=function(){for(;0<this.a.length;)pu(this,this.a[0]);this.b=!0},(t=du.prototype).set=function(t,e){var n,r=!1,i=this;return gu(this).then((function(e){return bu((e=yu(mu(n=e,!0))).get(t))})).then((function(o){var s=yu(mu(n,!0));return o?(o.value=e,bu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,bu(s.add(o)))})).then((function(){return i.c[t]=e,_u(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return gu(this).then((function(e){return bu(yu(mu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return gu(this).then((function(r){return e=!0,n.b++,bu(yu(mu(r,!0)).delete(t))})).then((function(){return delete n.c[t],_u(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){var e;0==this.a.length&&(Eu(e=this),function t(){e.f=setTimeout((function(){e.i=wu(e).then((function(t){0<t.length&&q(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Eu(this)},(t=Tu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Iu.prototype).get=function(t){return be(this.a[t])},t.set=function(t,e){return this.a[t]=e,be()},t.T=function(t){return delete this.a[t],be()},t.ca=function(){},t.ia=function(){},(t=Su.prototype).get=function(t){var e=this;return be().then((function(){return Sr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Tr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(t){o.window&&$e(o.window,"storage",t)},t.ia=function(t){o.window&&tn(o.window,"storage",t)},(t=Au.prototype).get=function(){return be(null)},t.set=function(){return be()},t.T=function(){return be()},t.ca=function(){},t.ia=function(){},(t=Nu.prototype).get=function(t){var e=this;return be().then((function(){return Sr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Tr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Ou,Du,Pu={D:Su,ab:Nu},Ru={D:Su,ab:Nu},Lu={D:ou,ab:Au},Mu={D:Su,ab:Au},Fu={qd:"local",NONE:"none",sd:"session"};function ju(){var t=!(Ar(vr())||!ar()),e=Er(),n=mr();this.v=t,this.h=e,this.l=n,this.a={},t=Ou=Ou||new xu;try{this.g=!$n()&&Pr()||!o.indexedDB?new t.a.D:new Tu(new(ur()?Iu:t.a.D))}catch(t){this.g=new Iu,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Iu}this.m=new Iu,this.f=m(this.Xb,this),this.b={}}function Uu(){return Du=Du||new ju}function qu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Vu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Bu(t,e,n){return n=Vu(e,n),"local"==e.D&&(t.b[n]=null),qu(t,e.D).T(n)}function Hu(t){t.c&&(clearInterval(t.c),t.c=null)}function Wu(t){this.a=t,this.b=Uu()}(t=ju.prototype).get=function(t,e){return qu(this,t.D).get(Vu(t,e))},t.set=function(t,e,n){var r=Vu(t,n),i=this,o=qu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=Vu(t,e),this.l&&(this.b[t]=o.localStorage.getItem(t)),ct(this.a)&&(qu(this,"local").ca(this.f),this.h||($n()||!Pr())&&o.indexedDB||!this.l||(Hu(r=this),r.c=setInterval((function(){for(var t in r.a){var e=o.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Xb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Vu(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ct(this.a)&&(qu(this,"local").ia(this.f),Hu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=o.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?qu(this,"local").ia(this.f):Hu(this),this.v)if(n=o.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?o.localStorage.setItem(e,r):o.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var s=this;n=function(){void 0===t.a.a&&s.b[e]===o.localStorage.getItem(e)||(s.b[e]=o.localStorage.getItem(e),s.lb(e))},Ht&&Zt&&10==Zt&&o.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,m(this.lb,this))},t.lb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Ku,zu={name:"authEvent",D:"local"};function Gu(){this.a=Uu()}function Qu(t,e){this.b=Yu,this.f=o.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=o.Int32Array?new Int32Array(64):Array(64),void 0===Ku&&(Ku=o.Int32Array?new Int32Array(nc):nc),this.reset()}w(Qu,(function(){this.b=-1}));for(var Yu=64,Xu=Yu-1,$u=[],Ju=0;Ju<Xu;Ju++)$u[Ju]=0;var Zu=G(128,$u);function tc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Ku[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ec(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(tc(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(tc(t),i=0)}}t.c=i,t.g+=n}Qu.prototype.reset=function(){this.g=this.c=0,this.a=o.Int32Array?new Int32Array(this.h):Q(this.h)};var nc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rc(){Qu.call(this,8,ic)}w(rc,Qu);var ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function oc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Gu,this.g=new Wu(this.h),this.f=null,this.b=[],this.a=this.c=null}function sc(t){return new T("invalid-cordova-configuration",t)}function ac(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function uc(t){return t.f||(t.f=t.la().then((function(){return new fe((function(e){function n(t){s=!0,a&&a.cancel(),cc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=zi(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=Sr(An(n=Nn(o),"firebaseError")||null))?I(n):null)?new No(e.c,e.b,null,null,n,null,e.S()):new No(e.c,e.b,o,e.f,null,null,e.S())),o=n||i),ac(r,o)}))}var r,i,s,a,u;t.Ea((function n(r){return e(r),t.Ra(n),!1})),r=t,i=new No("unknown",null,null,null,new T("no-auth-event")),s=!1,a=gn(500).then((function(){return cc(r).then((function(){s||ac(r,i)}))})),u=o.handleOpenURL,o.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yr("BuildInfo.packageName",o).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Do=Do||new xo,function(t){var e=Do;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yr("universalLinks.subscribe",o))&&t(null,e.b))}(n)}))}))),t.f}function cc(t){var e,n=null;return(e=t.g).b.get(zu,e.a).then(ko).then((function(e){return n=e,Bu((e=t.g).b,zu,e.a)})).then((function(){return n}))}function lc(t){this.a=t,this.b=Uu()}(t=oc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(sr(void 0)?or().then((function(){return new fe((function(t,e){var n=o.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):_e(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof yr("universalLinks.subscribe",o))throw sc("cordova-universal-links-plugin-fix is not installed");if(void 0===yr("BuildInfo.packageName",o))throw sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof yr("cordova.plugins.browsertab.openUrl",o))throw sc("cordova-plugin-browsertab is not installed");if("function"!=typeof yr("cordova.InAppBrowser.open",o))throw sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),be()},t.Lb=function(){return _e(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return _e(new T("redirect-operation-pending"));var i=this,s=o.document,a=null,u=null,c=null,l=null;return this.c=be().then((function(){return Ao(e),uc(i)})).then((function(){return function(t,e,n,r,i){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new No(e,r,null,s,new T("no-auth-event"),null,i),u=yr("BuildInfo.packageName",o);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=yr("BuildInfo.displayName",o),l={};if(vr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!vr().toLowerCase().match(/android/))return _e(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),s=function(t){var e=new rc;ec(e,t),t=[];var n=8*e.g;ec(e,Zu,e.c<56?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(tc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(s),l.sessionId=s;var h=iu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(zu,a.w(),e)})).then((function(){var e=yr("cordova.plugins.browsertab.isAvailable",o);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=yr("cordova.plugins.browsertab.openUrl",o)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yr("cordova.InAppBrowser.open",o)))throw new T("invalid-cordova-configuration");e=vr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new fe((function(t,e){u=function(){var e=yr("cordova.plugins.browsertab.close",o);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){xr()&&c()},s.addEventListener("resume",c=function(){a=a||gn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))}))},!1),vr().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",l,!1)})).s((function(t){return cc(i).then((function(){throw t}))}))})).na((function(){c&&s.removeEventListener("resume",c,!1),l&&s.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),uc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new No("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ra=function(t){z(this.b,(function(e){return e==t}))};var hc={name:"pendingRedirect",D:"session"};function fc(t){return Bu(t.b,hc,t.a)}function pc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=m(this.o,this),this.b=new Nc,this.A=new Pc,this.g=new lc(Cc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=dc(this.O,this.m,this.v,S,this.G)}function dc(t,e,n,r,i){var o=Fs.SDK_VERSION||null;return new(sr()?oc:tu)(t,e,n,o,r,i)}function gc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function vc(t){t.a.Wb()&&gc(t).s((function(e){var n=new No("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ec(e)&&t.o(n)})),t.a.Sb()||kc(t.b)}function yc(t,e){W(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(hc,e.a).then((function(t){return"pending"==t})).then((function(e){e?fc(t.g).then((function(){gc(t).s((function(e){var n=new No("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ec(e)&&t.o(n)}))})):vc(t)})).s((function(){vc(t)}))}function mc(t,e){z(t.h,(function(t){return t==e}))}pc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=dc(this.O,this.m,this.v,null,this.G),this.i={}},pc.prototype.o=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return kc(this.b),e};var bc=new kr(2e3,1e4),_c=new kr(3e4,6e4);function wc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Ec(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Tc(t,e,n,r,i){var o,s;return(s=t.g).b.set(hc,"pending",s.a).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Ec(e))throw new T("operation-not-supported-in-this-environment");return o=e,fc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new fe((function(){})):fc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Ic(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),bc.get())}pc.prototype.qa=function(){return this.b.qa()};var Sc={};function Cc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Ac(t,e,n,r){var i=Cc(e,n,r);return Sc[i]||(Sc[i]=new pc(t,e,n,r)),Sc[i]}function Nc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function kc(t){t.g||(t.g=!0,Dc(t,!1,null,null))}function xc(t){t.g&&!t.i&&Dc(t,!1,null,null)}function Oc(t,e){if(t.b=function(){return be(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Dc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return _e(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Oc(t,n):Oc(t,{user:null}),t.f=[],t.c=[]}function Pc(){}function Rc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Lc(t,e){this.a=e,jr(this,"verificationId",t)}function Mc(t,e,n,r){return new Io(t).eb(e,n).then((function(t){return new Lc(t,r)}))}function Fc(t){var e=Di(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:t,expirationTime:Dr(1e3*e.exp),authTime:Dr(1e3*e.auth_time),issuedAtTime:Dr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function jc(t,e,n){var r=e&&e[qc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new Gi(null,r),this.b=[];var i=this;q(e[Uc]||[],(function(t){(t=Hr(t))&&i.b.push(t)})),jr(this,"auth",this.a),jr(this,"session",this.c),jr(this,"hints",this.b)}Nc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!(i=t.a&&"auth/web-storage-unsupported"==t.a.code)&&!o),"unknown"!=n||i||o?t.a?(Dc(this,!0,null,t.a),be()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Dc(t,a,e,null)})).s((function(e){Dc(t,a,null,e)}))}(this,t,e):_e(new T("invalid-auth-event")):(Dc(this,!1,null,null),be())):_e(new T("invalid-auth-event"))},Nc.prototype.qa=function(){var t=this;return new fe((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new T("timeout"),r.a&&r.a.cancel(),r.a=gn(_c.get()).then((function(){r.b||(r.g=!0,Dc(r,!0,null,i))})))}))},Pc.prototype.h=function(t,e){var n,r,i,o,s;t?(n=t.c,r=t.b,t.a?(e.ma(t.c,null,t.a,t.b),be()):e.Fa(n,r)?(o=(t=t).b,(i=e).Fa(s=t.c,o)(t.g,t.f,t.S(),t.i).then((function(t){i.ma(s,t,null,o)})).s((function(t){i.ma(s,null,t,o)}))):_e(new T("invalid-auth-event"))):_e(new T("invalid-auth-event"))},Lc.prototype.confirm=function(t){return t=So(this.verificationId,t),this.a(t)};var Uc="mfaInfo",qc="mfaPendingCredential";function Vc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new jc(t,e,n),jr(this,"resolver",this.b)}function Bc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Vc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Hc(){}function Wc(t){jr(this,"factorId",t.fa),this.a=t}function Kc(t){if(Wc.call(this,t),this.a.fa!=Io.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function zc(t,e){for(var n in Ue.call(this,t),e)this[n]=e[n]}function Gc(t,e){this.a=t,this.b=[],this.c=m(this.xc,this),$e(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[zr]=t.uid),t.displayName&&(r[Wr]=t.displayName),t.enrollmentTime&&(r[Kr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Gr]=t.phoneNumber);try{e=new Qr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),Qc(this,n)}function Qc(t,e){t.b=e,jr(t,"enrolledFactors",e)}function Yc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xc(t){this.c=t,this.b=this.a=null}function $c(t){return t.b&&1e3*t.b.c||0}function Jc(t,e){var n=e.refreshToken;t.b=Oi(e[Us]||""),t.a=n}function Zc(t,e){this.a=t||null,this.b=e||null,Ur(this,{lastSignInTime:Dr(e||null),creationTime:Dr(t||null)})}function tl(t,e,n,r,i,o){Ur(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function el(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r,i=Fs.SDK_VERSION?gr(Fs.SDK_VERSION):null;this.a=new Ms(this.l,k(S),i),t.emulatorConfig&&Ks(this.a,t.emulatorConfig),this.b=new Xc(this.a),cl(this,e[Us]),Jc(this.b,e),jr(this,"refreshToken",this.b.a),fl(this,n||{}),ln.call(this),this.P=!1,this.o&&br()&&(this.i=Ac(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=(r=this,new Yc((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=$c(r.b)-_()-3e5;return 0<t?t:0}))),this.$=m(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Ks(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){il(o,t.f)},this.aa=null,this.N=new Gc(this,n),jr(this,"multiFactor",this.N)}function nl(t,e){t.ba&&tn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&$e(e,"languageCodeChanged",t.Ba)}function rl(t,e){t.W&&tn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&$e(e,"emulatorConfigChanged",t.za)}function il(t,e){t.X=e,Gs(t.a,Fs.SDK_VERSION?gr(Fs.SDK_VERSION,t.X):null)}function ol(t,e){t.aa&&tn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&$e(e,"frameworkChanged",t.Aa)}function sl(e){try{return Fs.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function al(t){t.A||t.u.b||(t.u.start(),tn(t,"tokenChanged",t.$),$e(t,"tokenChanged",t.$))}function ul(t){tn(t,"tokenChanged",t.$),t.u.stop()}function cl(t,e){t.ya=e,jr(t,"_lat",e)}function ll(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ee(e).then((function(){return t}))}function hl(t){t.i&&!t.P&&(t.P=!0,yc(t.i,t))}function fl(t,e){Ur(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Zc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function pl(){}function dl(t){return be().then((function(){if(t.A)throw new T("app-deleted")}))}function gl(t){return B(t.providerData,(function(t){return t.providerId}))}function vl(t,e){e&&(yl(t,e.providerId),t.providerData.push(e))}function yl(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&jr(t,e,n)}function bl(t,e){var n,r;t!=e&&(Ur(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),jr(t,"metadata",e.metadata?new Zc((r=e.metadata).a,r.b):new Zc),q(e.providerData,(function(e){vl(t,e)})),(n=t.b).b=(r=e.b).b,n.a=r.a,jr(t,"refreshToken",t.b.a),Qc(t.N,e.N.b))}function _l(t){return t.I().then((function(e){var n,r=t.isAnonymous;return Ha((n=t).a,_a,{idToken:e}).then(m(n.Jc,n)).then((function(){return r||ml(t,"isAnonymous",!1),e}))}))}function wl(t,e){e[Us]&&t.ya!=e[Us]&&(Jc(t.b,e),t.dispatchEvent(new zc("tokenChanged")),cl(t,e[Us]),ml(t,"refreshToken",t.b.a))}function El(t,e){return _l(t).then((function(){if(W(gl(t),e))return ll(t).then((function(){throw new T("provider-already-linked")}))}))}function Tl(t,e,n){return qr({user:t,credential:Co(e),additionalUserInfo:e=Fi(e),operationType:n})}function Il(t,e){return wl(t,e),t.reload().then((function(){return t}))}function Sl(t,e,n,r,i){if(!br())return _e(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return _e(t.f);var o=Mi(n.providerId),s=Cr(t.uid+":::"),a=null;(!Er()||ar())&&t.o&&n.isOAuthProvider&&(a=iu(t.o,t.l,t.m,e,n,null,s,Fs.SDK_VERSION||null,null,null,t.tenantId));var u=nr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Al(t),!i)return t.I().then((function(){}))})).then((function(){return wc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new fe((function(n,r){t.ma(e,null,new T("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=s,t.c=Ic(t.i,t,e,u,s)}))})).then((function(t){return u&&er(u),t?qr(t):null})).s((function(t){throw u&&er(u),t})),Nl(t,r,i)}function Cl(t,e,n,r,i){if(!br())return _e(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return _e(t.f);var o=null,s=Cr(t.uid+":::");return r=r().then((function(){if(Al(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,ll(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ol,t.w(),e.a)),e})).then((function(){return Tc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Dl(t.ha);throw o})).then((function(){if(o)throw o})),Nl(t,r,i)}function Al(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Nl(t,e,n){var r,i=(e=e,n=n,(r=t).f&&!n?(e.cancel(),_e(r.f)):e.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.f||r.dispatchEvent(new zc("userInvalidated")),r.f=t),t})));return t.G.push(i),i.na((function(){K(t.G,i)})),i.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.w(),sl(t),m(t.ic,t))),n||e}))}function kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Us]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new el(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&vl(r,qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function xl(t){this.a=t,this.b=Uu()}jc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=lt(e.f);return delete n[Uc],delete n[qc],ft(n,t),e.g(n)}))},w(Vc,T),Hc.prototype.rb=function(t,e,n){return e.type==Qi?(o=this,s=t,a=n,e.Ha().then((function(t){return t={idToken:t},void 0!==a&&(t.displayName=a),ft(t,{phoneVerificationInfo:To(o.a)}),Ha(s,ma,t)}))):(r=this,i=t,e.Ha().then((function(t){return ft(t={mfaPendingCredential:t},{phoneVerificationInfo:To(r.a)}),Ha(i,ba,t)})));var r,i,o,s,a},w(Wc,Hc),w(Kc,Wc),w(zc,Ue),(t=Gc.prototype).xc=function(t){var e;Qc(this,(e=[],q((t=t.gd).mfaInfo||[],(function(t){(t=Hr(t))&&e.push(t)})),e))},t.Qb=function(){return this.a.I().then((function(t){return new Gi(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return wl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ha(r,Ba,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return Qc(e,r),wl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},Yc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=gn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return t=o.document,e=null,xr()||!t?be():new fe((function(n){e=function(){xr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Yc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:$c(this)}},Xc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?_e(new T("user-token-expired")):t||!this.b||_()>$c(this)-3e4?this.a?function(t,e){return n=t.c,r=e,new fe((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Qs(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e(Ka(n)):n.access_token&&n.refresh_token?t(n):e(new T("internal-error")):e(new T("network-request-failed"))}),"POST",qn(r).toString(),n.g,n.v.get()):e(new T("internal-error"))})).then((function(e){return t.b=Oi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})},Zc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(el,ln),el.prototype.wa=function(t){this.pa=t,Ws(this.a,t)},el.prototype.ka=function(){return this.pa},el.prototype.Ga=function(){return Q(this.X)},el.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},jr(el.prototype,"providerId","firebase"),(t=el.prototype).reload=function(){var t=this;return Nl(this,dl(this).then((function(){return _l(t).then((function(){return ll(t)})).then(pl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Fc(t)}))},t.I=function(t){var e=this;return Nl(this,dl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(cl(e,t.accessToken),e.dispatchEvent(new zc("tokenChanged"))),ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");fl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?B(e,(function(t){return new tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)vl(this,n[r]);ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new zc("userReloaded",{gd:t}))},t.Kc=function(t){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Nl(this,t.c(this.a,this.uid).then((function(t){return wl(e,t),n=Tl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Nl(this,El(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Tl(e,t,"link"),Il(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Nl(this,El(this,"phone").then((function(){return Mc(sl(n),t,e,m(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Nl(this,be().then((function(){return Mc(sl(n),t,e,m(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Nl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return wl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Nl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return wl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Nl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return wl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return dl(this);var e=this;return Nl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return wl(e,t),ml(e,"displayName",t.displayName||null),ml(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(jr(t,"displayName",e.displayName),jr(t,"photoURL",e.photoURL))})),ll(e)})).then(pl))},t.bd=function(t){var e=this;return Nl(this,_l(this).then((function(n){return W(gl(e),t)?Ha(e.a,ga,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(gl(e),(function(t){n[t]||yl(e,t)})),n[Io.PROVIDER_ID]||jr(e,"phoneNumber",null),ll(e)})):ll(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Nl(this,this.I().then((function(e){return Ha(t.a,da,{idToken:e})})).then((function(){t.dispatchEvent(new zc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");nl(t,null),rl(t,null),ol(t,null),t.G=[],t.A=!0,ul(t),jr(t,"refreshToken",null),t.i&&mc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?m(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?m(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?m(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?m(this.Kb,this):null},t.Dc=function(t){var e=this;return Sl(this,"linkViaPopup",t,(function(){return El(e,t.providerId).then((function(){return ll(e)}))}),!1)},t.Mc=function(t){return Sl(this,"reauthViaPopup",t,(function(){return be()}),!0)},t.Ec=function(t){var e=this;return Cl(this,"linkViaRedirect",t,(function(){return El(e,t.providerId)}),!1)},t.Nc=function(t){return Cl(this,"reauthViaRedirect",t,(function(){return be()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Nl(this,this.I().then((function(n){return aa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Tl(i,t,"link"),Il(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Nl(this,be().then((function(){return $i(ua(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Tl(i,t,"reauthenticate"),wl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Nl(this,this.I().then((function(e){return n=e,void 0===t||ct(t)?{}:Ni(new mi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Nl(this,this.I().then((function(t){return r=t,void 0===e||ct(e)?{}:Ni(new mi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Nl(this,t=$i(be(t),n.uid).then((function(t){return e=Tl(n,t,"reauthenticate"),wl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ft(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ft(t,this.N.w()),t};var Ol={name:"redirectUser",D:"session"};function Dl(t){return Bu(t.b,Ol,t.a)}function Pl(t){var e,n,r,i;this.a=t,this.b=Uu(),this.c=null,this.f=(n=Ml("local"),r=Ml("session"),i=Ml("none"),function(t,e,n){var r=Vu(e,n),i=qu(t,e.D);return t.get(e,n).then((function(s){var a=null;try{a=Sr(o.localStorage.getItem(r))}catch(s){}if(a&&!s)return o.localStorage.removeItem(r),t.set(e,a,n);a&&s&&"localStorage"!=i.type&&o.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(Ll,e.a).then((function(t){return t?Ml(t):n}))}))}))})).then((function(t){return e.c=t,Rl(e,t.D)})).s((function(){e.c||(e.c=n)}))),this.b.addListener(Ml("local"),this.a,m(this.g,this))}function Rl(t,e){var n,r,i=[];for(n in Fu)Fu[n]!==e&&i.push(Bu(t.b,Ml(Fu[n]),t.a));return i.push(Bu(t.b,Ll,t.a)),r=i,new fe((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},s=function(t){e(t)},a=0;a<r.length;a++)we(r[a],b(o,a),s);else t(i)}))}Pl.prototype.g=function(){var t=this,e=Ml("local");ql(this,(function(){return be().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Rl(t,"local").then((function(){t.c=e}))}))}))};var Ll={name:"persistence",D:"session"};function Ml(t){return{name:"authUser",D:t}}function Fl(t,e){return ql(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function jl(t){return ql(t,(function(){return Bu(t.b,t.c,t.a)}))}function Ul(t,e,n){return ql(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),kl(t||{})}))}))}function ql(t,e){return t.f=t.f.then(e,e),t.f}function Vl(t){if(this.m=!1,jr(this,"settings",new Rc),jr(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new T("invalid-api-key");var e,n,r,i,o,s;t=Fs.SDK_VERSION?gr(Fs.SDK_VERSION):null,this.a=new Ms(this.app.options&&this.app.options.apiKey,k(S),t),this.R=[],this.u=[],this.P=[],this.ac=Fs.INTERNAL.createSubscribe(m(this.yc,this)),this.X=void 0,this.bc=Fs.INTERNAL.createSubscribe(m(this.zc,this)),Gl(this,null),this.l=new Pl(this.app.options.apiKey+":"+this.app.name),this.G=new xl(this.app.options.apiKey+":"+this.app.name),this.$=Jl(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(Ol,t.a).then((function(t){return t&&e&&(t.authDomain=e),kl(t||{})}))}(t.G,t.app.options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Dl(t.G)}));return Jl(t,e)}(e).then((function(){return Ul(e.l,n,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Fl(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:jl(e.l)}))):null})).then((function(t){Gl(e,t||null)})),Jl(e,t))),this.i=Jl(this,(r=this).$.then((function(){return zl(r)})).s((function(){})).then((function(){if(!r.m)return r.pa()})).s((function(){})).then((function(){var t;r.m||(r.ba=!0,(t=r.l).b.addListener(Ml("local"),t.a,r.pa))}))),this.ba=!1,this.pa=m(this.Yc,this),this.Ba=m(this.da,this),this.ya=m(this.kc,this),this.za=m(this.vc,this),this.Aa=m(this.wc,this),this.b=null,o=(i=this).app.options.authDomain,s=i.app.options.apiKey,o&&br()&&(i.gb=i.$.then((function(){var t;if(!i.m)return i.b=Ac(o,s,i.app.name,i.f),yc(i.b,i),Yl(i)&&hl(Yl(i)),i.o&&(hl(i.o),(t=i.o).wa(i.ka()),nl(t,i),il(t=i.o,i.N),ol(t,i),Ks((t=i.o).a,i.f),rl(t,i),i.o=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Fc,this),this.A=0,ln.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null,this.N=[],this.f=null}function Bl(t){Ue.call(this,"languageCodeChanged"),this.h=t}function Hl(t){Ue.call(this,"emulatorConfigChanged"),this.c=t}function Wl(t){Ue.call(this,"frameworkChanged"),this.f=t}function Kl(t){return t.gb||_e(new T("auth-domain-config-required"))}function zl(t){if(!br())return _e(new T("operation-not-supported-in-this-environment"));var e=Kl(t).then((function(){return t.b.qa()})).then((function(t){return t?qr(t):null}));return Jl(t,e)}function Gl(t,e){var n,r;Yl(t)&&(n=Yl(t),r=t.Ba,z(n.R,(function(t){return t==r})),tn(Yl(t),"tokenChanged",t.ya),tn(Yl(t),"userDeleted",t.za),tn(Yl(t),"userInvalidated",t.Aa),ul(Yl(t))),e&&(e.R.push(t.Ba),$e(e,"tokenChanged",t.ya),$e(e,"userDeleted",t.za),$e(e,"userInvalidated",t.Aa),0<t.A&&al(e)),jr(t,"currentUser",e),e&&(e.wa(t.ka()),nl(e,t),il(e,t.N),ol(e,t),Ks(e.a,t.f),rl(e,t))}function Ql(t,e){var n=null,r=null;return Jl(t,e.then((function(e){return n=Co(e),r=Fi(e),function(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return r=n,i=e,o=t.G,s=t.Ga(),a=new el(r,i),o&&(a.ha=o),s&&il(a,s),a.reload().then((function(){return a}));var r,i,o,s,a})).then((function(e){return Yl(t)&&e.uid==Yl(t).uid?bl(Yl(t),e):(Gl(t,e),hl(e)),t.da(e)})).then((function(){$l(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.w(),t,m(t.jc,t))),n||e})).then((function(){return qr({user:Yl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Yl(t){return t.currentUser}function Xl(t){return Yl(t)&&Yl(t)._lat||null}function $l(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](Xl(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](Xl(t))}}function Jl(t,e){return t.R.push(e),e.na((function(){K(t.R,e)})),e}function Zl(){}function th(){this.a={},this.b=1e12}Pl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Fu)if(Fu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(cr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!vu()&&"none"!==t)throw n;break;default:if(!mr()&&"none"!==t)throw n}}(t),ql(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Rl(n,t)})).then((function(){if(n.c=Ml(t),e)return n.b.set(n.c,e,n.a)})):be()}))},w(Vl,ln),w(Bl,Ue),w(Hl,Ue),w(Wl,Ue),(t=Vl.prototype).wb=function(t){return Jl(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ws(this.a,this.aa),this.dispatchEvent(new Bl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=o.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Or("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),o.document&&or().then((function(){var t=o.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),o.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Ks(this.a,this.f),this.dispatchEvent(new Hl(this.f))}},t.Fc=function(t){this.N.push(t),Gs(this.a,Fs.SDK_VERSION?gr(Fs.SDK_VERSION,this.N):null),this.dispatchEvent(new Wl(this.N))},t.Ga=function(){return Q(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:Yl(this)&&Yl(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?m(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Ql(i,sa(i.a,o))}))},t.Wc=function(t){if(!br())return _e(new T("operation-not-supported-in-this-environment"));var e=this,n=Mi(t.providerId),r=Cr(),i=null;(!Er()||ar())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=iu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,Fs.SDK_VERSION||null,null,null,this.S(),this.f));var o=nr(i,n&&n.ua,n&&n.ta);return Jl(this,n=Kl(this).then((function(n){return wc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new fe((function(t,n){e.ma("signInViaPopup",null,new T("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Ic(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&er(o),t?qr(t):null})).s((function(t){throw o&&er(o),t})))},t.Xc=function(t){if(!br())return _e(new T("operation-not-supported-in-this-environment"));var e=this;return Jl(this,Kl(this).then((function(){return ql(t=e.l,(function(){return t.b.set(Ll,t.c.D,t.a)}));var t})).then((function(){return Tc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return zl(this).then((function(e){return t.b&&xc(t.b.b),e})).s((function(e){throw t.b&&xc(t.b.b),e}))},t.cd=function(t){if(!t)return _e(new T("null-user"));if(this.W!=t.tenantId)return _e(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,s,a,u=(r=t,i=n,o=e.G,s=e.Ga(),(n={})[Us]=(a=r.b).b&&a.b.toString(),n.refreshToken=a.a,i=new el(i||{apiKey:r.l,authDomain:r.o,appName:r.m},n),o&&(i.ha=o),s&&il(i,s),bl(i,r),i);return Jl(this,this.i.then((function(){if(e.app.options.apiKey!=t.l)return u.reload()})).then((function(){return Yl(e)&&t.uid==Yl(e).uid?(bl(Yl(e),t),e.da(t)):(Gl(e,u),hl(u),e.da(u))})).then((function(){$l(e)})))},t.zb=function(){var t=this;return Jl(this,this.i.then((function(){return t.b&&xc(t.b.b),Yl(t)?(Gl(t,null),jl(t.l).then((function(){$l(t)}))):be()})))},t.Yc=function(){var t=this;return Ul(this.l,this.app.options.authDomain).then((function(e){if(!t.m){var n,r;if((r=Yl(t)&&e)&&(r=Yl(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return bl(Yl(t),e),Yl(t).I();(Yl(t)||e)&&(Gl(t,e),e&&(hl(e),e.ha=t.G),t.b&&yc(t.b,t),$l(t))}}))},t.da=function(t){return Fl(this.l,t)},t.kc=function(){$l(this),this.da(Yl(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return Ql(e,be(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Yl(e))}))},t.zc=function(t){var e,n,r=this;(e=this).P.push(n=function(){t.next(Yl(r))}),Jl(e,e.i.then((function(){!e.m&&W(e.P,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(Xl(e)))})))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return Jl(this,this.i.then((function(){return Yl(e)?Yl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return Ql(e,Ha(e.a,Fa,{token:t}))})).then((function(t){var n=t.user;return ml(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return Ql(n,Ha(n.a,ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return Ql(n,Ha(n.a,fa,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return Ql(e,t.ja(e.a))}))},t.Rc=function(t){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=Yl(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ql(t,t.a.yb()).then((function(e){var n=e.user;return ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return Yl(this)&&Yl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&Yl(this)&&al(Yl(this))},t.Oc=function(t){var e=this;q(this.u,(function(n){n==t&&e.A--})),this.A<0&&(this.A=0),0==this.A&&Yl(this)&&ul(Yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),Jl(this,this.i.then((function(){e.m||W(e.u,t)&&t(Xl(e))})))},t.removeAuthTokenListener=function(t){z(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Ml("local"),t.a,this.pa),this.b&&(mc(this.b,this),xc(this.b.b)),Promise.resolve()},t.gc=function(t){return Jl(this,Ha(this.a,pa,{identifier:t,continueUri:_r()?Jn():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.Ac=function(t){return!!_o(t)},t.vb=function(t,e){var n=this;return Jl(this,be().then((function(){var t=new mi(e);if(!t.c)throw new T("argument-error",wi+" must be true when sending sign in link to email");return Ni(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return Jl(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return Jl(this,this.a.Qa(t).then((function(t){return new Yr(t)})))},t.ib=function(t){return Jl(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return Jl(this,be().then((function(){return void 0===e||ct(e)?{}:Ni(new mi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return Jl(this,Mc(this,t,e,m(this.Za,this)))},t.Uc=function(t,e){var n=this;return Jl(this,be().then((function(){var r=e||Jn(),i=bo(t,r);if(!(r=_o(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)})))},Zl.prototype.render=function(){},Zl.prototype.reset=function(){},Zl.prototype.getResponse=function(){},Zl.prototype.execute=function(){};var eh=null;function nh(t,e){return(e=rh(e))&&t.a[e]||null}function rh(t){return(t=void 0===t?1e12:t)?t.toString():null}function ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ee(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():$e(this.f,"click",this.i)}function oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function sh(){}function ah(){}th.prototype.render=function(t,e){return this.a[this.b.toString()]=new ih(t,e),this.b++},th.prototype.reset=function(t){var e=nh(this,t);t=rh(t),e&&t&&(e.delete(),delete this.a[t])},th.prototype.getResponse=function(t){return(t=nh(this,t))?t.getResponse():null},th.prototype.execute=function(t){(t=nh(this,t))&&t.execute()},ih.prototype.getResponse=function(){return oh(this),this.b},ih.prototype.execute=function(){oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},ih.prototype.delete=function(){oh(this),this.g=!0,clearTimeout(this.a),this.a=null,tn(this.f,"click",this.i)},jr(sh,"FACTOR_ID","phone"),ah.prototype.g=function(){return be(eh=eh||new th)},ah.prototype.c=function(){};var uh=null;function ch(){this.b=o.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var lh=new dt(mt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hh=new kr(3e4,6e4);ch.prototype.g=function(t){var e=this;return new fe((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),hh.get());!o.grecaptcha||t!==e.f&&!e.b?(o[e.a]=function(){var s;o.grecaptcha?(e.f=t,s=o.grecaptcha.render,o.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(i),n(o.grecaptcha)):(clearTimeout(i),r(new T("internal-error"))),delete o[e.a]},be(ks(Et(lh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(o.grecaptcha))}))},ch.prototype.c=function(){this.b--};var fh=null;function ph(t,e,n,r,i,s,a){if(jr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a=a?uh=uh||new ah:fh=fh||new ch,this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[vh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[yh],!o.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ee(e)||!this.i&&ee(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ms(t,s||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[dh];this.a[dh]=function(t){var e;mh(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=yr(c,o))&&e(t)};var l=this.a[gh];this.a[gh]=function(){var t;mh(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=yr(l,o))&&t()}}var dh="callback",gh="expired-callback",vh="sitekey",yh="size";function mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function bh(t,e){return t.h.push(e),e.na((function(){K(t.h,e)})),e}function _h(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function wh(t,e,n){var r=!1;try{this.b=n||Fs.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Fs.SDK_VERSION?gr(Fs.SDK_VERSION,o):null,ph.call(this,n,t,e,(function(){try{var e=i.b.auth().ka()}catch(t){e=null}return e}),o,k(S),r)}function Eh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Th.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Th[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=bh(this,be().then((function(){if(_r()&&!ur())return or();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Ha(t.o,Ca,{})})).then((function(e){t.a[vh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){_h(this);var t=this;return bh(this,this.Ia().then((function(){var e,n;return null===t.c&&(n=t.m,t.i||(e=ee(n),n=function(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!te&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ut(i.name),'"'),i.type&&(r.push(' type="',Ut(i.type),'"'),ft(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=se(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):ne(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!h(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(f(o)){s="function"==typeof o.item;break t}}s=!1}q(s?Q(o):o,r)}}}(n,r,e),r}("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){_h(this);var t=this;return bh(this,this.render().then((function(e){return new fe((function(n){var r,i=t.g.getResponse(e);i?n(i):(t.l.push(r=function(e){var i;e&&(i=r,z(t.l,(function(t){return t==i})),n(e))}),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){_h(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){_h(this),this.A=!0,this.v.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=ee(this.m);t=e.firstChild;)e.removeChild(t)},w(wh,ph);var Th="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ih(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Sh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ch(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ah(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Nh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function kh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function xh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Oh(t){return p(t)&&"string"==typeof t.uid}function Dh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Ph(t,e){for(var n in e){var r=e[n].name;t[r]=Mh(r,t[n],e[n].j)}}function Rh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Eh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Lh(t,e,n,r){t[e]=Mh(e,n,r)}function Mh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Eh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Ph(Vl.prototype,{ib:{name:"applyActionCode",j:[Ih("code")]},Qa:{name:"checkActionCode",j:[Ih("code")]},mb:{name:"confirmPasswordReset",j:[Ih("code"),Ih("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ih("email"),Ih("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Ih("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Ih("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Dh(Ch(),Ah(),"nextOrObserver"),Ah("opt_error",!0),Ah("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Dh(Ch(),Ah(),"nextOrObserver"),Ah("opt_error",!0),Ah("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Ih("email"),Dh(Ch("opt_actionCodeSettings",!0),Nh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Ih("email"),Ch("actionCodeSettings")]},wb:{name:"setPersistence",j:[Ih("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[kh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[kh()]},Sc:{name:"signInWithCustomToken",j:[Ih("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Ih("email"),Ih("password")]},Uc:{name:"signInWithEmailLink",j:[Ih("email"),Ih("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Ih("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Dh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof el)}},Nh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ih(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Ih("url")]},hd:{name:"verifyPasswordResetCode",j:[Ih("code")]}}),Rh(Vl.prototype,{lc:{name:"languageCode",jb:Dh(Ih(),Nh(),"languageCode")},ti:{name:"tenantId",jb:Dh(Ih(),Nh(),"tenantId")}}),(Vl.Persistence=Fu).LOCAL="local",Vl.Persistence.SESSION="session",Vl.Persistence.NONE="none",Ph(el.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Sh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[kh()]},pb:{name:"linkWithCredential",j:[kh()]},Cc:{name:"linkWithPhoneNumber",j:[Ih("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[kh()]},sb:{name:"reauthenticateWithCredential",j:[kh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Ih("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Dh(Ch("opt_actionCodeSettings",!0),Nh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ih(null,!0)]},bd:{name:"unlink",j:[Ih("provider")]},Ab:{name:"updateEmail",j:[Ih("email")]},Bb:{name:"updatePassword",j:[Ih("password")]},dd:{name:"updatePhoneNumber",j:[kh("phone")]},Cb:{name:"updateProfile",j:[Ch("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Ih("email"),Dh(Ch("opt_actionCodeSettings",!0),Nh(null,!0),"opt_actionCodeSettings",!0)]}}),Ph(th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ph(Zl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ph(fe.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Rh(Rc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Sh("appVerificationDisabledForTesting")}}),Ph(Lc.prototype,{confirm:{name:"confirm",j:[Ih("verificationCode")]}}),Lh(Xi,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ro,yo,Eo,to],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Dh(Ih(),Ch(),"json")]),Lh(mo,"credential",(function(t,e){return new vo(t,e)}),[Ih("email"),Ih("password")]),Ph(vo.prototype,{w:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(ao.prototype,{Ca:{name:"addScope",j:[Ih("scope")]},Ka:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(ao,"credential",uo,[Dh(Ih(),Ch(),"token")]),Lh(mo,"credentialWithLink",bo,[Ih("email"),Ih("emailLink")]),Ph(co.prototype,{Ca:{name:"addScope",j:[Ih("scope")]},Ka:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(co,"credential",lo,[Dh(Ih(),Ch(),"token")]),Ph(ho.prototype,{Ca:{name:"addScope",j:[Ih("scope")]},Ka:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(ho,"credential",fo,[Dh(Ih(),Dh(Ch(),Nh()),"idToken"),Dh(Ih(),Nh(),"accessToken",!0)]),Ph(po.prototype,{Ka:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Lh(po,"credential",go,[Dh(Ih(),Ch(),"token"),Ih("secret",!0)]),Ph(so.prototype,{Ca:{name:"addScope",j:[Ih("scope")]},credential:{name:"credential",j:[Dh(Ih(),Dh(Ch(),Nh()),"optionsOrIdToken"),Dh(Ih(),Nh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ch("customOAuthParameters")]}}),Ph(eo.prototype,{w:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(Ji.prototype,{w:{name:"toJSON",j:[Ih(null,!0)]}}),Lh(Io,"credential",So,[Ih("verificationId"),Ih("verificationCode")]),Ph(Io.prototype,{eb:{name:"verifyPhoneNumber",j:[Dh(Ih(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?xh(t.session,Qi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?xh(t.session,Yi)&&Oh(t.multiFactorHint):t.session&&t.multiFactorUid?xh(t.session,Yi)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Ph(wo.prototype,{w:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(T.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(Ro.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(Po.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(Vc.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Ph(jc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Ph(Gc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Ih("displayName",!0)]},ad:{name:"unenroll",j:[Dh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Oh},Ih(),"multiFactorInfoIdentifier")]}}),Ph(wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(ci,"parseLink",yi,[Ih("link")]),Lh(sh,"assertion",(function(t){return new Kc(t)}),[kh("phone")]),function(){if(void 0===Fs||!Fs.INTERNAL||!Fs.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$r,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Xr,VERIFY_AND_CHANGE_EMAIL:Jr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Vl,AuthCredential:Xi,Error:T};Lh(t,"EmailAuthProvider",mo,[]),Lh(t,"FacebookAuthProvider",ao,[]),Lh(t,"GithubAuthProvider",co,[]),Lh(t,"GoogleAuthProvider",ho,[]),Lh(t,"TwitterAuthProvider",po,[]),Lh(t,"OAuthProvider",so,[Ih("providerId")]),Lh(t,"SAMLAuthProvider",oo,[Ih("providerId")]),Lh(t,"PhoneAuthProvider",Io,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Vl)}}]),Lh(t,"RecaptchaVerifier",wh,[Dh(Ih(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ch("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Fs.app.App)}}]),Lh(t,"ActionCodeURL",ci,[]),Lh(t,"PhoneMultiFactorGenerator",sh,[]),Fs.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Vl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Fs.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.mc,t),addAuthTokenListener:m(t.cc,t),removeAuthTokenListener:m(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fs.registerVersion("@firebase/auth","0.15.1"),Fs.INTERNAL.extendNamespace({User:el})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var js=(Us.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ko(e))},Us.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:Wo(t)},Us.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},Us.prototype.prefixedName_=function(t){return this.prefix_+t},Us.prototype.toString=function(){return this.domStorage_.toString()},Us);function Us(t){this.domStorage_=t,this.prefix_="firebase:"}var qs=(Vs.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},Vs.prototype.get=function(t){return Go(this.cache_,t)?this.cache_[t]:null},Vs.prototype.remove=function(t){delete this.cache_[t]},Vs);function Vs(){this.cache_={},this.isInMemoryStorage=!0}function Bs(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Io(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new $o).update(e),t=t.digest(),Co.encodeByteArray(t)}function Hs(t,e){Io(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ta.logLevel=ys.VERBOSE,ra=ta.log.bind(ta),e&&Zs.set("logging_enabled",!0)):"function"==typeof t?ra=t:(ra=null,Zs.remove("logging_enabled"))}function Ws(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+na.apply(void 0,_o(t));ta.error(n)}function Ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+na.apply(void 0,_o(t));throw ta.error(n),new Error(n)}function zs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+na.apply(void 0,_o(t));ta.warn(n)}function Gs(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function Qs(t,e){return t===e?0:t<e?-1:1}function Ys(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ko(e))}function Xs(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,n<i+e?n:i+e));return r}var $s,Js=(Dr=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new js(e)}}catch(t){}return new qs})("localStorage"),Zs=Dr("sessionStorage"),ta=new Ts("@firebase/database"),ea=($s=1,function(){return $s++}),na=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=na.apply(null,i):n+="object"==typeof i?Ko(i):i,n+=" "}return n},ra=null,ia=!0,oa=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===ia&&(ia=!1,null===ra&&!0===Zs.get("logging_enabled")&&Hs(!0)),ra&&(t=na.apply(null,e),ra(t))},sa=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];oa.apply(void 0,_o([t],e))}},aa="[MIN_NAME]",ua="[MAX_NAME]",ca=function(t,e){if(t===e)return 0;if(t===aa||e===ua)return-1;if(e===aa||t===ua)return 1;var n=va(t),r=va(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},la=function(t){if("object"!=typeof t||null===t)return Ko(t);var e,n=[];for(e in t)n.push(e);n.sort();for(var r="{",i=0;i<n.length;i++)0!==i&&(r+=","),r+=Ko(n[i]),r+=":",r+=la(t[n[i]]);return r+"}"};function ha(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function fa(t){var e,n,r,i;Io(!Gs(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],s=52;s;--s)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;--s)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var a=o.join(""),u="";for(s=0;s<64;s+=8){var c=parseInt(a.substr(s,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function pa(t){try{t()}catch(s){setTimeout((function(){throw zs("Exception was thrown by user callback.",s.stack||""),s}),Math.floor(0))}}function da(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var ga=new RegExp("^-?(0*)\\d{1,10}$"),va=function(t){return ga.test(t)&&-2147483648<=(t=Number(t))&&t<=2147483647?t:null},ya=(Object.defineProperty(ma,"Empty",{get:function(){return new ma("")},enumerable:!1,configurable:!0}),ma.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},ma.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},ma.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new ma(this.pieces_,t)},ma.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},ma.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},ma.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},ma.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},ma.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new ma(t,0)},ma.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof ma)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new ma(e,0)},ma.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},ma.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return ma.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},ma.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=ca(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},ma.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},ma.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},ma);function ma(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var ba=(Object.defineProperty(_a,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(_a,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),_a.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=as(t),this.checkValid_()},_a.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=as(t),0<this.parts_.length&&--this.byteLength_},_a.prototype.checkValid_=function(){if(this.byteLength_>_a.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+_a.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>_a.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_a.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},_a.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},_a);function _a(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=as(this.parts_[n]);this.checkValid_()}var wa="firebaseio.com",Ea="websocket",Ta="long_polling",Ia=(Sa.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},Sa.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Sa.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},Sa.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},Sa.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Js.set("host:"+this.host,this.internalHost))},Sa.prototype.connectionURL=function(t,e){var n;if(Io("string"==typeof t,"typeof type must == string"),Io("object"==typeof e,"typeof params must == object"),t===Ea)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Ta)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return ha(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},Sa.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Sa.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},Sa);function Sa(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Js.get("host:"+t)||this.host}function Ca(t,e){var n=ja(t),r=n.namespace;return"firebase.com"===n.domain&&Ks(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&zs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ia(n.host,n.secure,r,e,t="ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ya(n.pathString)}}function Aa(t){return"string"==typeof t&&0!==t.length&&!Ua.test(t)}function Na(t){return"string"==typeof t&&0!==t.length&&!qa.test(t)}function ka(t){return null===t||"string"==typeof t||"number"==typeof t&&!Gs(t)||t&&"object"==typeof t&&Go(t,".sv")}function xa(t,e,n,r,i){i&&void 0===n||Ba(is(t,e,i),n,r)}function Oa(t,e,n,r,i){if(!i||void 0!==n){var o=is(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];ha(n,(function(t,e){if(t=new ya(t),Ba(o,e,r.child(t)),".priority"===t.getBack()&&!ka(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(t)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Aa(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(ya.comparePaths);var s=null;for(r=0;r<e.length;r++){if(n=e[r],null!==s&&s.contains(n))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+n.toString());s=n}}(o,s)}}function Da(t,e,n,r){if(!r||void 0!==n){if(Gs(n))throw new Error(is(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ka(n))throw new Error(is(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Pa(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(is(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ra(t,e,n,r){if(!(r&&void 0===n||Aa(n)))throw new Error(is(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function La(t,e,n,r){if(!(r&&void 0===n||Na(n)))throw new Error(is(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Ma(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function Fa(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Aa(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!Na(r=(r=r)&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(is(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var ja=function(t){var e,n,r,i="",o="",s="",a="",u="",c=!0,l="https",h=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(l=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(a=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=mo(t.split("&")),o=i.next();!o.done;o=i.next()){var s,a=o.value;0!==a.length&&(2===(s=a.split("=")).length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):zs("Invalid query segment '"+a+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),s=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=s),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:s,secure:c,scheme:l,pathString:a,namespace:u}},Ua=/[\[\].#$\/\u0000-\u001F\u007F]/,qa=/[\[\].#$\u0000-\u001F\u007F]/,Va=10485760,Ba=function(t,e,n){var r=n instanceof ya?new ba(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Gs(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>Va/3&&as(e)>Va)throw new Error(t+"contains a string greater than "+Va+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(ha(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Aa(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),Ba(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},Ha=(Wa.prototype.cancel=function(t){rs("OnDisconnect.cancel",0,1,arguments.length),os("OnDisconnect.cancel",1,t,!0);var e=new ko;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},Wa.prototype.remove=function(t){rs("OnDisconnect.remove",0,1,arguments.length),Ma("OnDisconnect.remove",this.path_),os("OnDisconnect.remove",1,t,!0);var e=new ko;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},Wa.prototype.set=function(t,e){rs("OnDisconnect.set",1,2,arguments.length),Ma("OnDisconnect.set",this.path_),xa("OnDisconnect.set",1,t,this.path_,!1),os("OnDisconnect.set",2,e,!0);var n=new ko;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},Wa.prototype.setWithPriority=function(t,e,n){rs("OnDisconnect.setWithPriority",2,3,arguments.length),Ma("OnDisconnect.setWithPriority",this.path_),xa("OnDisconnect.setWithPriority",1,t,this.path_,!1),Da("OnDisconnect.setWithPriority",2,e,!1),os("OnDisconnect.setWithPriority",3,n,!0);var r=new ko;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},Wa.prototype.update=function(t,e){if(rs("OnDisconnect.update",1,2,arguments.length),Ma("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,zs("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oa("OnDisconnect.update",1,t,this.path_,!1),os("OnDisconnect.update",2,e,!0);var i=new ko;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},Wa);function Wa(t,e){this.repo_=t,this.path_=e}var Ka=(za.prototype.toJSON=function(){return rs("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},za);function za(t,e){this.committed=t,this.snapshot=e}var Ga,Qa,Ya,Xa,$a=(Ga="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qa=0,Ya=[],function(t){var e=t===Qa;Qa=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Ga.charAt(t%64),t=Math.floor(t/64);Io(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===Ya[r];r--)Ya[r]=0;Ya[r]++}else for(r=0;r<12;r++)Ya[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Ga.charAt(Ya[r]);return Io(20===i.length,"nextPushId: Length should be 20."),i}),Ja=(Za.Wrap=function(t,e){return new Za(t,e)},Za);function Za(t,e){this.name=t,this.node=e}function tu(){}tu.prototype.getCompare=function(){return this.compare.bind(this)},tu.prototype.indexedValueChanged=function(t,e){return t=new Ja(aa,t),e=new Ja(aa,e),0!==this.compare(t,e)},tu.prototype.minPost=function(){return Ja.MIN};var eu,nu=(po(ru,eu=W=tu),Object.defineProperty(ru,"__EMPTY_NODE",{get:function(){return Xa},set:function(t){Xa=t},enumerable:!1,configurable:!0}),ru.prototype.compare=function(t,e){return ca(t.name,e.name)},ru.prototype.isDefinedOn=function(t){throw So("KeyIndex.isDefinedOn not expected to be called.")},ru.prototype.indexedValueChanged=function(t,e){return!1},ru.prototype.minPost=function(){return Ja.MIN},ru.prototype.maxPost=function(){return new Ja(ua,Xa)},ru.prototype.makePost=function(t,e){return Io("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ja(t,Xa)},ru.prototype.toString=function(){return".key"},ru);function ru(){return null!==eu&&eu.apply(this,arguments)||this}var iu,ou=new nu;function su(t){return"number"==typeof t?"number:"+fa(t):"string:"+t}var au,uu,cu,lu,hu=function(t){var e;t.isLeafNode()?(e=t.val(),Io("string"==typeof e||"number"==typeof e||"object"==typeof e&&Go(e,".sv"),"Priority must be a string or number.")):Io(t===iu||t.isEmpty(),"priority of unexpected type."),Io(t===iu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},fu=(Object.defineProperty(pu,"__childrenNodeConstructor",{get:function(){return au},set:function(t){au=t},enumerable:!1,configurable:!0}),pu.prototype.isLeafNode=function(){return!0},pu.prototype.getPriority=function(){return this.priorityNode_},pu.prototype.updatePriority=function(t){return new pu(this.value_,t)},pu.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:pu.__childrenNodeConstructor.EMPTY_NODE},pu.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:pu.__childrenNodeConstructor.EMPTY_NODE},pu.prototype.hasChild=function(){return!1},pu.prototype.getPredecessorChildName=function(t,e){return null},pu.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:pu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},pu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Io(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,pu.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},pu.prototype.isEmpty=function(){return!1},pu.prototype.numChildren=function(){return 0},pu.prototype.forEachChild=function(t,e){return!1},pu.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},pu.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+su(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?fa(this.value_):this.value_,this.lazyHash_=Bs(t)),this.lazyHash_},pu.prototype.getValue=function(){return this.value_},pu.prototype.compareTo=function(t){return t===pu.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pu.__childrenNodeConstructor?-1:(Io(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},pu.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=pu.VALUE_TYPE_ORDER.indexOf(e),i=pu.VALUE_TYPE_ORDER.indexOf(n);return Io(0<=r,"Unknown leaf type: "+e),Io(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},pu.prototype.withIndex=function(){return this},pu.prototype.isIndexed=function(){return!0},pu.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},pu.VALUE_TYPE_ORDER=["object","boolean","number","string"],pu);function pu(t,e){void 0===e&&(e=pu.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Io(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hu(this.priorityNode_)}function du(){return null!==lu&&lu.apply(this,arguments)||this}var gu=new(po(du,lu=W),du.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority();return 0===(r=n.compareTo(r))?ca(t.name,e.name):r},du.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},du.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},du.prototype.minPost=function(){return Ja.MIN},du.prototype.maxPost=function(){return new Ja(ua,new fu("[PRIORITY-POST]",cu))},du.prototype.makePost=function(t,e){return t=uu(t),new Ja(e,new fu("[PRIORITY-POST]",t))},du.prototype.toString=function(){return".priority"},du),vu=(yu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},yu.prototype.hasNext=function(){return 0<this.nodeStack_.length},yu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},yu);function yu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var mu=(bu.prototype.copy=function(t,e,n,r,i){return new bu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},bu.prototype.count=function(){return this.left.count()+1+this.right.count()},bu.prototype.isEmpty=function(){return!1},bu.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},bu.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},bu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},bu.prototype.minKey=function(){return this.min_().key},bu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},bu.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},bu.prototype.removeMin_=function(){if(this.left.isEmpty())return wu.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},bu.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return wu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},bu.prototype.isRed_=function(){return this.color},bu.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},bu.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},bu.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},bu.prototype.rotateLeft_=function(){var t=this.copy(null,null,bu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},bu.prototype.rotateRight_=function(){var t=this.copy(null,null,bu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},bu.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},bu.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},bu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},bu.RED=!0,bu.BLACK=!1,bu);function bu(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:bu.RED,this.left=null!=r?r:wu.EMPTY_NODE,this.right=null!=i?i:wu.EMPTY_NODE}function _u(){}_u.prototype.copy=function(t,e,n,r,i){return this},_u.prototype.insert=function(t,e,n){return new mu(t,e,null)},_u.prototype.remove=function(t,e){return this},_u.prototype.count=function(){return 0},_u.prototype.isEmpty=function(){return!0},_u.prototype.inorderTraversal=function(t){return!1},_u.prototype.reverseTraversal=function(t){return!1},_u.prototype.minKey=function(){return null},_u.prototype.maxKey=function(){return null},_u.prototype.check_=function(){return 0},_u.prototype.isRed_=function(){return!1},L=_u;var wu=(Eu.prototype.insert=function(t,e){return new Eu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,mu.BLACK,null,null))},Eu.prototype.remove=function(t){return new Eu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mu.BLACK,null,null))},Eu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},Eu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Eu.prototype.isEmpty=function(){return this.root_.isEmpty()},Eu.prototype.count=function(){return this.root_.count()},Eu.prototype.minKey=function(){return this.root_.minKey()},Eu.prototype.maxKey=function(){return this.root_.maxKey()},Eu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},Eu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},Eu.prototype.getIterator=function(t){return new vu(this.root_,null,this.comparator_,!1,t)},Eu.prototype.getIteratorFrom=function(t,e){return new vu(this.root_,t,this.comparator_,!1,e)},Eu.prototype.getReverseIteratorFrom=function(t,e){return new vu(this.root_,t,this.comparator_,!0,e)},Eu.prototype.getReverseIterator=function(t){return new vu(this.root_,null,this.comparator_,!0,t)},Eu.EMPTY_NODE=new L,Eu);function Eu(t,e){void 0===e&&(e=Eu.EMPTY_NODE),this.comparator_=t,this.root_=e}var Tu=Math.log(2),Iu=(Su.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Su);function Su(t){this.count=parseInt(Math.log(t+1)/Tu,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}var Cu,Au,Nu=function(t,e,n,r){t.sort(e);var i=function(e,r){if(0==(o=r-e))return null;if(1==o)return s=t[e],a=n?n(s):s,new mu(a,s.node,mu.BLACK,null,null);var o=parseInt(o/2,10)+e,s=(e=i(e,o),r=i(o+1,r),t[o]),a=n?n(s):s;return new mu(a,s.node,mu.BLACK,e,r)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e,e=i(1+o,a),a=t[o],o=n?n(a):a,u(new mu(o,a.node,r,null,e))},u=function(t){r=r?r.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,mu.BLACK):(a(h,mu.BLACK),a(h,mu.RED))}return o}(new Iu(t.length));return new wu(r||e,o)},ku={},xu=(Object.defineProperty(Ou,"Default",{get:function(){return Io(gu,"ChildrenNode.ts has not been loaded"),Cu=Cu||new Ou({".priority":ku},{".priority":gu})},enumerable:!1,configurable:!0}),Ou.prototype.get=function(t){var e=Qo(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof wu?e:null},Ou.prototype.hasIndex=function(t){return Go(this.indexSet_,t.toString())},Ou.prototype.addIndex=function(t,e){Io(t!==ou,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(Ja.Wrap),s=o.getNext();s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();n=i?Nu(r,t.getCompare()):ku;var a=t.toString(),u=go({},this.indexSet_);return u[a]=t,(e=go({},this.indexes_))[a]=n,new Ou(e,u)},Ou.prototype.addToIndexes=function(t,e){var n=this;return new Ou(Xo(this.indexes_,(function(r,i){var o=Qo(n.indexSet_,i);if(Io(o,"Missing index implementation for "+i),r===ku){if(o.isDefinedOn(t.node)){for(var s=[],a=e.getIterator(Ja.Wrap),u=a.getNext();u;)u.name!==t.name&&s.push(u),u=a.getNext();return s.push(t),Nu(s,o.getCompare())}return ku}return(o=e.get(t.name))&&(r=r.remove(new Ja(t.name,o))),r.insert(t,t.node)})),this.indexSet_)},Ou.prototype.removeFromIndexes=function(t,e){return new Ou(Xo(this.indexes_,(function(n){if(n===ku)return n;var r=e.get(t.name);return r?n.remove(new Ja(t.name,r)):n})),this.indexSet_)},Ou);function Ou(t,e){this.indexes_=t,this.indexSet_=e}function Du(t,e){return ca(t.name,e.name)}function Pu(t,e){return ca(t,e)}var Ru,Lu=(Object.defineProperty(Mu,"EMPTY_NODE",{get:function(){return Au=Au||new Mu(new wu(Pu),null,xu.Default)},enumerable:!1,configurable:!0}),Mu.prototype.isLeafNode=function(){return!1},Mu.prototype.getPriority=function(){return this.priorityNode_||Au},Mu.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new Mu(this.children_,t,this.indexMap_)},Mu.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?Au:t},Mu.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},Mu.prototype.hasChild=function(t){return null!==this.children_.get(t)},Mu.prototype.updateImmediateChild=function(t,e){if(Io(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new Ja(t,e),r=void 0,i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_));return n=r.isEmpty()?Au:this.priorityNode_,new Mu(r,n,i)},Mu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:(Io(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(t.popFront(),e),this.updateImmediateChild(n,e))},Mu.prototype.isEmpty=function(){return this.children_.isEmpty()},Mu.prototype.numChildren=function(){return this.children_.count()},Mu.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(gu,(function(o,s){e[o]=s.val(t),n++,i&&Mu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,s=[];for(o in e)s[o]=e[o];return s}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},Mu.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+su(this.getPriority().val())+":"),this.forEachChild(gu,(function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)})),this.lazyHash_=""===t?"":Bs(t)),this.lazyHash_},Mu.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new Ja(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},Mu.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},Mu.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new Ja(t,this.children_.get(t)):null},Mu.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},Mu.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new Ja(t,this.children_.get(t)):null},Mu.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},Mu.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},Mu.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ja.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},Mu.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},Mu.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ja.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},Mu.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Uu?-1:0},Mu.prototype.withIndex=function(t){return t===ou||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new Mu(this.children_,this.priorityNode_,t))},Mu.prototype.isIndexed=function(t){return t===ou||this.indexMap_.hasIndex(t)},Mu.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(gu),n=t.getIterator(gu),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Mu.prototype.resolveIndex_=function(t){return t===ou?null:this.indexMap_.get(t.toString())},Mu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Mu);function Mu(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&hu(this.priorityNode_),this.children_.isEmpty()&&Io(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function Fu(){return Ru.call(this,new wu(Pu),Lu.EMPTY_NODE,xu.Default)||this}var ju,Uu=new(po(Fu,Ru=Lu),Fu.prototype.compareTo=function(t){return t===this?0:1},Fu.prototype.equals=function(t){return t===this},Fu.prototype.getPriority=function(){return this},Fu.prototype.getImmediateChild=function(t){return Lu.EMPTY_NODE},Fu.prototype.isEmpty=function(){return!1},Fu);function qu(t,e){if(void 0===e&&(e=null),null===t)return Lu.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Io(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new fu(t,qu(e));if(t instanceof Array){var n=Lu.EMPTY_NODE;return ha(t,(function(e,r){Go(t,e)&&"."!==e.substring(0,1)&&(!(r=qu(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))})),n.updatePriority(qu(e))}var r=[],i=!1;if(ha(t,(function(t,e){"."!==t.substring(0,1)&&((e=qu(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new Ja(t,e))))})),0===r.length)return Lu.EMPTY_NODE;var o=Nu(r,Du,(function(t){return t.name}),Pu);if(i){var s=Nu(r,gu.getCompare());return new Lu(o,qu(e),new xu({".priority":s},{".priority":gu}))}return new Lu(o,qu(e),xu.Default)}function Vu(){return null!==ju&&ju.apply(this,arguments)||this}Object.defineProperties(Ja,{MIN:{value:new Ja(aa,Lu.EMPTY_NODE)},MAX:{value:new Ja(ua,Uu)}}),nu.__EMPTY_NODE=Lu.EMPTY_NODE,fu.__childrenNodeConstructor=Lu,iu=Uu,cu=Uu,uu=qu;var Bu,Hu=new(po(Vu,ju=W),Vu.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?ca(t.name,e.name):n},Vu.prototype.isDefinedOn=function(t){return!0},Vu.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},Vu.prototype.minPost=function(){return Ja.MIN},Vu.prototype.maxPost=function(){return Ja.MAX},Vu.prototype.makePost=function(t,e){return t=qu(t),new Ja(e,t)},Vu.prototype.toString=function(){return".value"},Vu),Wu=(po(Ku,Bu=W),Ku.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},Ku.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},Ku.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node);return 0===(r=n.compareTo(r))?ca(t.name,e.name):r},Ku.prototype.makePost=function(t,e){return t=qu(t),t=Lu.EMPTY_NODE.updateChild(this.indexPath_,t),new Ja(e,t)},Ku.prototype.maxPost=function(){var t=Lu.EMPTY_NODE.updateChild(this.indexPath_,Uu);return new Ja(ua,t)},Ku.prototype.toString=function(){return this.indexPath_.slice().join("/")},Ku);function Ku(t){var e=Bu.call(this)||this;return e.indexPath_=t,Io(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var zu=(Gu.prototype.val=function(){return rs("DataSnapshot.val",0,0,arguments.length),this.node_.val()},Gu.prototype.exportVal=function(){return rs("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},Gu.prototype.toJSON=function(){return rs("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},Gu.prototype.exists=function(){return rs("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},Gu.prototype.child=function(t){rs("DataSnapshot.child",0,1,arguments.length),La("DataSnapshot.child",1,t=String(t),!1);var e=new ya(t);return t=this.ref_.child(e),new Gu(this.node_.getChild(e),t,gu)},Gu.prototype.hasChild=function(t){return rs("DataSnapshot.hasChild",1,1,arguments.length),La("DataSnapshot.hasChild",1,t,!1),t=new ya(t),!this.node_.getChild(t).isEmpty()},Gu.prototype.getPriority=function(){return rs("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},Gu.prototype.forEach=function(t){var e=this;return rs("DataSnapshot.forEach",1,1,arguments.length),os("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new Gu(r,e.ref_.child(n),gu))}))},Gu.prototype.hasChildren=function(){return rs("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(Gu.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),Gu.prototype.numChildren=function(){return rs("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},Gu.prototype.getRef=function(){return rs("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(Gu.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Gu);function Gu(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var Qu=(Yu.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},Yu.prototype.getEventType=function(){return this.eventType},Yu.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Yu.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ko(this.snapshot.exportVal())},Yu);function Yu(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var Xu=($u.prototype.getPath=function(){return this.path},$u.prototype.getEventType=function(){return"cancel"},$u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},$u.prototype.toString=function(){return this.path.toString()+":cancel"},$u);function $u(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var Ju=(Zu.prototype.respondsTo=function(t){return"value"===t},Zu.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qu("value",this,new zu(t.snapshotNode,e.getRef(),n))},Zu.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Io(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},Zu.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xu(this,t,e):null},Zu.prototype.matches=function(t){return t instanceof Zu&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},Zu.prototype.hasAnyCallback=function(){return null!==this.callback_},Zu);function Zu(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var tc,ec=(nc.prototype.respondsTo=function(t){return t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t,Go(this.callbacks_,t)},nc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xu(this,t,e):null},nc.prototype.createEvent=function(t,e){Io(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName);return e=e.getQueryParams().getIndex(),new Qu(t.type,this,new zu(t.snapshotNode,n,e),t.prevName)},nc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Io(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},nc.prototype.matches=function(t){var e=this;if(t instanceof nc){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]})):!((r=r[0])!==(n=n[0])||t.callbacks_[n]&&this.callbacks_[r]&&t.callbacks_[n]!==this.callbacks_[r])}}return!1},nc.prototype.hasAnyCallback=function(){return null!==this.callbacks_},nc);function nc(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var rc=(Object.defineProperty(ic,"__referenceConstructor",{get:function(){return Io(tc,"Reference.ts has not been loaded"),tc},set:function(t){tc=t},enumerable:!1,configurable:!0}),ic.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ou){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==aa)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ua)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===gu){if(null!=e&&!ka(e)||null!=n&&!ka(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Io(t.getIndex()instanceof Wu||t.getIndex()===Hu,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},ic.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},ic.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},ic.prototype.getQueryParams=function(){return this.queryParams_},ic.prototype.getRef=function(){return rs("Query.ref",0,0,arguments.length),new ic.__referenceConstructor(this.repo,this.path)},ic.prototype.on=function(t,e,n,r){return rs("Query.on",2,4,arguments.length),Pa("Query.on",1,t,!1),os("Query.on",2,e,!1),n=ic.getCancelAndContextArgs_("Query.on",n,r),"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},ic.prototype.onValueEvent=function(t,e,n){n=new Ju(t,e||null,n||null),this.repo.addEventCallbackForQuery(this,n)},ic.prototype.onChildEvent=function(t,e,n){n=new ec(t,e,n),this.repo.addEventCallbackForQuery(this,n)},ic.prototype.off=function(t,e,n){rs("Query.off",0,3,arguments.length),Pa("Query.off",1,t,!0),os("Query.off",2,e,!0),ss("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Ju(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new ec(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},ic.prototype.once=function(t,e,n,r){var i=this;rs("Query.once",1,4,arguments.length),Pa("Query.once",1,t,!1),os("Query.once",2,e,!0);var o=ic.getCancelAndContextArgs_("Query.once",n,r),s=!0,a=new ko;a.promise.catch((function(){}));var u=function(n){s&&(s=!1,i.off(t,u),e&&e.bind(o.context)(n),a.resolve(n))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),a.reject(e)})),a.promise},ic.prototype.limitToFirst=function(t){if(rs("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new ic(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},ic.prototype.limitToLast=function(t){if(rs("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new ic(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},ic.prototype.orderByChild=function(t){if(rs("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');if(La("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild"),(t=new ya(t)).isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new Wu(t),t=this.queryParams_.orderBy(t),ic.validateQueryEndpoints_(t),new ic(this.repo,this.path,t,!0)},ic.prototype.orderByKey=function(){rs("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(ou);return ic.validateQueryEndpoints_(t),new ic(this.repo,this.path,t,!0)},ic.prototype.orderByPriority=function(){rs("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(gu);return ic.validateQueryEndpoints_(t),new ic(this.repo,this.path,t,!0)},ic.prototype.orderByValue=function(){rs("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Hu);return ic.validateQueryEndpoints_(t),new ic(this.repo,this.path,t,!0)},ic.prototype.startAt=function(t,e){void 0===t&&(t=null),rs("Query.startAt",0,2,arguments.length),xa("Query.startAt",1,t,this.path,!0),Ra("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(ic.validateLimit_(n),ic.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new ic(this.repo,this.path,n,this.orderByCalled_)},ic.prototype.endAt=function(t,e){if(void 0===t&&(t=null),rs("Query.endAt",0,2,arguments.length),xa("Query.endAt",1,t,this.path,!0),Ra("Query.endAt",2,e,!0),e=this.queryParams_.endAt(t,e),ic.validateLimit_(e),ic.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new ic(this.repo,this.path,e,this.orderByCalled_)},ic.prototype.equalTo=function(t,e){if(rs("Query.equalTo",1,2,arguments.length),xa("Query.equalTo",1,t,this.path,!1),Ra("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},ic.prototype.toString=function(){return rs("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},ic.prototype.toJSON=function(){return rs("Query.toJSON",0,1,arguments.length),this.toString()},ic.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},ic.prototype.queryIdentifier=function(){var t=this.queryObject();return"{}"===(t=la(t))?"default":t},ic.prototype.isEqual=function(t){if(rs("Query.isEqual",1,1,arguments.length),!(t instanceof ic))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path);return t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t},ic.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,os(t,3,r.cancel,!0),r.context=n,ss(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(is(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(ic.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),ic);function ic(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var oc=(sc.prototype.getImmediateChild=function(t){return new sc(this.node_.getImmediateChild(t))},sc.prototype.node=function(){return this.node_},sc);function sc(t){this.node_=t}var ac=(uc.prototype.getImmediateChild=function(t){return t=this.path_.child(t),new uc(this.syncTree_,t)},uc.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},uc);function uc(t,e){this.syncTree_=t,this.path_=e}function cc(t,e,n,r){return dc(e,new ac(n,t),r)}function lc(t,e,n){return dc(t,new oc(e),n)}var hc=function(t,e,n){return t&&"object"==typeof t?(Io(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fc(t[".sv"],e,n):"object"==typeof t[".sv"]?pc(t[".sv"],e):void Io(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fc=function(t,e,n){if("timestamp"===t)return n.timestamp;Io(!1,"Unexpected server value: "+t)},pc=function(t,e,n){return t.hasOwnProperty("increment")||Io(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&Io(!1,"Unexpected increment value: "+t),e=e.node(),Io(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t};function dc(t,e,n){var r=t.getPriority().val(),i=hc(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t;return(r=hc(o.getValue(),e,n))!==o.getValue()||i!==o.getPriority().val()?new fu(r,qu(i)):t}var s=t=t;return i!==t.getPriority().val()&&(s=s.updatePriority(new fu(i))),t.forEachChild(gu,(function(t,r){var i=dc(r,e.getImmediateChild(t),n);i!==r&&(s=s.updateImmediateChild(t,i))})),s}var gc,vc=(yc.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},yc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new yc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},yc.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(gu,(function(t,e){n.remember(new ya(t),e)})),this.forget(t)}return!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},yc.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){n=new ya(t.toString()+"/"+n),r.forEachTree(n,e)}))},yc.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},yc);function yc(){this.value=null,this.children=new Map}(Dr=gc=gc||{})[Dr.OVERWRITE=0]="OVERWRITE",Dr[Dr.MERGE=1]="MERGE",Dr[Dr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Dr[Dr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var mc=(bc.User=new bc(!0,!1,null,!1),bc.Server=new bc(!1,!0,null,!1),bc.forServerTaggedQuery=function(t){return new bc(!1,!0,t,!0)},bc);function bc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Io(!r||e,"Tagged queries must be from server.")}var _c,wc=(Ec.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Io(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new ya(t));return new Ec(ya.Empty,e,this.revert)}return Io(this.path.getFront()===t,"operationForChild called for unrelated child."),new Ec(this.path.popFront(),this.affectedTree,this.revert)},Ec);function Ec(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=gc.ACK_USER_WRITE,this.source=mc.User}var Tc=(Ic.fromObject=function(t){var e=Ic.Empty;return ha(t,(function(t,n){e=e.set(new ya(t),n)})),e},Ic.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Ic.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ya.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);return null===r||null==(e=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new ya(n).child(e.path),value:e.value}},Ic.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},Ic.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront();return null!==(e=this.children.get(e))?e.subtree(t.popFront()):Ic.Empty},Ic.prototype.set=function(t,e){if(t.isEmpty())return new Ic(e,this.children);var n=t.getFront();return e=(this.children.get(n)||Ic.Empty).set(t.popFront(),e),e=this.children.insert(n,e),new Ic(this.value,e)},Ic.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?Ic.Empty:new Ic(null,this.children);var e=t.getFront(),n=this.children.get(e);return n?(n=n.remove(t.popFront()),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?Ic.Empty:new Ic(this.value,t)):this},Ic.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront();return(e=this.children.get(e))?e.get(t.popFront()):null},Ic.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront();return t=(this.children.get(n)||Ic.Empty).setTree(t.popFront(),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t),new Ic(this.value,e)},Ic.prototype.fold=function(t){return this.fold_(ya.Empty,t)},Ic.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},Ic.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ya.Empty,e)},Ic.prototype.findOnPath_=function(t,e,n){if(r=!!this.value&&n(e,this.value))return r;if(t.isEmpty())return null;var r,i=t.getFront();return(r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null},Ic.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ya.Empty,e)},Ic.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):Ic.Empty},Ic.prototype.foreach=function(t){this.foreach_(ya.Empty,t)},Ic.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},Ic.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},Ic.Empty=new Ic(null),Ic);function Ic(t,e){void 0===e&&(e=_c=_c||new wu(Qs)),this.value=t,this.children=e}var Sc=(Cc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Cc(this.source,ya.Empty):new Cc(this.source,this.path.popFront())},Cc);function Cc(t,e){this.source=t,this.path=e,this.type=gc.LISTEN_COMPLETE}var Ac=(Nc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Nc(this.source,ya.Empty,this.snap.getImmediateChild(t)):new Nc(this.source,this.path.popFront(),this.snap)},Nc);function Nc(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=gc.OVERWRITE}var kc=(xc.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new ya(t));return e.isEmpty()?null:e.value?new Ac(this.source,ya.Empty,e.value):new xc(this.source,ya.Empty,e)}return Io(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new xc(this.source,this.path.popFront(),this.children)},xc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},xc);function xc(t,e,n){this.source=t,this.path=e,this.children=n,this.type=gc.MERGE}var Oc=(Dc.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Dc.prototype.isFiltered=function(){return this.filtered_},Dc.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},Dc.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},Dc.prototype.getNode=function(){return this.node_},Dc);function Dc(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Pc=(Rc.prototype.updateEventSnap=function(t,e,n){return new Rc(new Oc(t,e,n),this.serverCache_)},Rc.prototype.updateServerSnap=function(t,e,n){return new Rc(this.eventCache_,new Oc(t,e,n))},Rc.prototype.getEventCache=function(){return this.eventCache_},Rc.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},Rc.prototype.getServerCache=function(){return this.serverCache_},Rc.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},Rc.Empty=new Rc(new Oc(Lu.EMPTY_NODE,!1,!1),new Oc(Lu.EMPTY_NODE,!1,!1)),Rc);function Rc(t,e){this.eventCache_=t,this.serverCache_=e}var Lc=(Mc.valueChange=function(t){return new Mc(Mc.VALUE,t)},Mc.childAddedChange=function(t,e){return new Mc(Mc.CHILD_ADDED,e,t)},Mc.childRemovedChange=function(t,e){return new Mc(Mc.CHILD_REMOVED,e,t)},Mc.childChangedChange=function(t,e,n){return new Mc(Mc.CHILD_CHANGED,e,t,n)},Mc.childMovedChange=function(t,e){return new Mc(Mc.CHILD_MOVED,e,t)},Mc.CHILD_ADDED="child_added",Mc.CHILD_REMOVED="child_removed",Mc.CHILD_CHANGED="child_changed",Mc.CHILD_MOVED="child_moved",Mc.VALUE="value",Mc);function Mc(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var Fc=(jc.prototype.updateChild=function(t,e,n,r,i,o){Io(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Lc.childRemovedChange(e,s)):Io(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Lc.childAddedChange(e,n)):o.trackChildChange(Lc.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},jc.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(gu,(function(t,r){e.hasChild(t)||n.trackChildChange(Lc.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(gu,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(Lc.childChangedChange(e,r,i)):n.trackChildChange(Lc.childAddedChange(e,r))}))),e.withIndex(this.index_)},jc.prototype.updatePriority=function(t,e){return t.isEmpty()?Lu.EMPTY_NODE:t.updatePriority(e)},jc.prototype.filtersNodes=function(){return!1},jc.prototype.getIndexedFilter=function(){return this},jc.prototype.getIndex=function(){return this.index_},jc);function jc(t){this.index_=t}var Uc=(qc.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Io(e===Lc.CHILD_ADDED||e===Lc.CHILD_CHANGED||e===Lc.CHILD_REMOVED,"Only child changes supported for tracking"),Io(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Lc.CHILD_ADDED&&i===Lc.CHILD_REMOVED)this.changeMap.set(n,Lc.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Lc.CHILD_REMOVED&&i===Lc.CHILD_ADDED)this.changeMap.delete(n);else if(e===Lc.CHILD_REMOVED&&i===Lc.CHILD_CHANGED)this.changeMap.set(n,Lc.childRemovedChange(n,r.oldSnap));else if(e===Lc.CHILD_CHANGED&&i===Lc.CHILD_ADDED)this.changeMap.set(n,Lc.childAddedChange(n,t.snapshotNode));else{if(e!==Lc.CHILD_CHANGED||i!==Lc.CHILD_CHANGED)throw So("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Lc.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},qc.prototype.getChanges=function(){return Array.from(this.changeMap.values())},qc);function qc(){this.changeMap=new Map}function Vc(){}var Bc=new(Vc.prototype.getCompleteChild=function(t){return null},Vc.prototype.getChildAfterChild=function(t,e,n){return null},Vc),Hc=(Wc.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new Oc(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},Wc.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();return 0===(t=this.writes_.calcIndexedSlice(r,e,1,n,t)).length?null:t[0]},Wc);function Wc(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var Kc=function(t,e){this.viewCache=t,this.changes=e},zc=(Gc.prototype.assertIndexed=function(t){Io(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Io(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},Gc.prototype.applyOperation=function(t,e,n,r){var i=new Uc;if(e.type===gc.OVERWRITE)var o=e,s=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(Io(o.source.fromServer,"Unknown source."),a=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,a,i));else if(e.type===gc.MERGE)s=(o=e).source.fromUser?this.applyUserMerge_(t,o.path,o.children,n,r,i):(Io(o.source.fromServer,"Unknown source."),a=o.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,o.path,o.children,n,r,a,i));else if(e.type===gc.ACK_USER_WRITE){var a=e;s=a.revert?this.revertUserWrite_(t,a.path,n,r,i):this.ackUserWrite_(t,a.path,a.affectedTree,n,r,i)}else{if(e.type!==gc.LISTEN_COMPLETE)throw So("Unknown operation type: "+e.type);s=this.listenComplete_(t,e.path,n,i)}return i=i.getChanges(),Gc.maybeAddValueEvent_(t,s,i),new Kc(s,i)},Gc.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Lc.valueChange(e.getCompleteEventSnap())))},Gc.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s,a,u,c,l,h=void 0;return l=e.isEmpty()?(Io(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(s=(s=t.getCompleteServerSnap())instanceof Lu?s:Lu.EMPTY_NODE,s=n.calcCompleteEventChildren(s),this.filter_.updateFullNode(t.getEventCache().getNode(),s,i)):(a=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),a,i))):".priority"===(a=e.getFront())?(Io(1===e.getLength(),"Can't have a priority with additional path components"),u=o.getNode(),h=t.getServerCache().getNode(),null!=(c=n.calcEventCacheAfterServerOverwrite(e,u,h))?this.filter_.updatePriority(u,c):o.getNode()):(u=e.popFront(),c=void 0,null!=(c=o.isCompleteForChild(a)?(h=t.getServerCache().getNode(),null!=(h=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h))?o.getNode().getImmediateChild(a).updateChild(u,h):o.getNode().getImmediateChild(a)):n.calcCompleteChild(a,t.getServerCache()))?this.filter_.updateChild(o.getNode(),a,c,u,r,i):o.getNode()),t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},Gc.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(a.getNode(),n,null);else if(u.filtersNodes()&&!a.isFiltered())var c=a.getNode().updateChild(e,n),l=u.updateFullNode(a.getNode(),c,null);else{if(o=e.getFront(),!a.isCompleteForPath(e)&&1<e.getLength())return t;c=e.popFront(),n=a.getNode().getImmediateChild(o).updateChild(c,n),l=".priority"===o?u.updatePriority(a.getNode(),n):u.updateChild(a.getNode(),o,n,c,Bc,null)}return u=t.updateServerSnap(l,a.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),i=new Hc(r,u,i),this.generateEventCacheAfterServerEvent_(u,e,r,i,s)},Gc.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Hc(r,t,i);return e.isEmpty()?(a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(a,!0,this.filter_.filtersNodes())):".priority"===(s=e.getFront())?(a=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered())):(r=e.popFront(),i=u.getNode().getImmediateChild(s),a=void 0,a=r.isEmpty()?n:null!=(e=c.getCompleteChild(s))?".priority"===r.getBack()&&e.getChild(r.parent()).isEmpty()?e:e.updateChild(r,n):Lu.EMPTY_NODE,i.equals(a)?t:(o=this.filter_.updateChild(u.getNode(),s,a,r,c,o),t.updateEventSnap(o,u.isFullyInitialized(),this.filter_.filtersNodes())))},Gc.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},Gc.prototype.applyUserMerge_=function(t,e,n,r,i,o){var s=this,a=t;return n.foreach((function(n,u){n=e.child(n),Gc.cacheHasChild_(t,n.getFront())&&(a=s.applyUserOverwrite_(a,n,u,r,i,o))})),n.foreach((function(n,u){n=e.child(n),Gc.cacheHasChild_(t,n.getFront())||(a=s.applyUserOverwrite_(a,n,u,r,i,o))})),a},Gc.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},Gc.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=(n=e.isEmpty()?n:Tc.Empty.setTree(e,n),t.getServerCache().getNode());return n.children.inorderTraversal((function(e,n){var l;c.hasChild(e)&&(l=t.getServerCache().getNode().getImmediateChild(e),n=a.applyMerge_(l,n),u=a.applyServerOverwrite_(u,new ya(e),n,r,i,o,s))})),n.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;c.hasChild(e)||l||(l=t.getServerCache().getNode().getImmediateChild(e),n=a.applyMerge_(l,n),u=a.applyServerOverwrite_(u,new ya(e),n,r,i,o,s))})),u},Gc.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=Tc.Empty;return a.getNode().forEachChild(ou,(function(t,e){u=u.set(new ya(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=Tc.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},Gc.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache();return i=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered()),this.generateEventCacheAfterServerEvent_(i,e,n,Bc,r)},Gc.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s,a,u=new Hc(n,t,r),c=t.getEventCache().getNode();return r=void 0,e.isEmpty()||".priority"===e.getFront()?(a=void 0,a=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(s=t.getServerCache().getNode(),Io(s instanceof Lu,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(s)),r=this.filter_.updateFullNode(c,a,i)):(s=e.getFront(),null==(a=n.calcCompleteChild(s,t.getServerCache()))&&t.getServerCache().isCompleteForChild(s)&&(a=c.getImmediateChild(s)),(r=null!=a?this.filter_.updateChild(c,s,a,e.popFront(),u,i):t.getEventCache().getNode().hasChild(s)?this.filter_.updateChild(c,s,Lu.EMPTY_NODE,e.popFront(),u,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(r=this.filter_.updateFullNode(r,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(ya.Empty),t.updateEventSnap(r,o,this.filter_.filtersNodes())},Gc);function Gc(t){this.filter_=t}var Qc=(Yc.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Lc.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Lc.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Lc.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Lc.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Lc.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Lc.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Lc.VALUE,t,n,e),i},Yc.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this;(n=n.filter((function(t){return t.type===e}))).sort(this.compareChanges_.bind(this)),n.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},Yc.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},Yc.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw So("Should only compare child_ events.");return t=new Ja(t.childName,t.snapshotNode),e=new Ja(e.childName,e.snapshotNode),this.index_.compare(t,e)},Yc);function Yc(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var Xc,$c=(Jc.prototype.getQuery=function(){return this.query_},Jc.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},Jc.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},Jc.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},Jc.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},Jc.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Io(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){(t=t.createCancelEvent(e,n))&&r.push(t)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},Jc.prototype.applyOperation=function(t,e,n){t.type===gc.MERGE&&null!==t.source.queryId&&(Io(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Io(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_;return n=this.processor_.applyOperation(r,t,e,n),this.processor_.assertIndexed(n.viewCache),Io(n.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=n.viewCache,this.generateEventsForChanges_(n.changes,n.viewCache.getEventCache().getNode(),null)},Jc.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gu,(function(t,e){n.push(Lc.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(Lc.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},Jc.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n=n?[n]:this.eventRegistrations_)},Jc);function Jc(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Fc(n.getIndex()),i=n.getNodeFilter();this.processor_=new zc(i);var o=e.getServerCache();t=e.getEventCache(),n=r.updateFullNode(Lu.EMPTY_NODE,o.getNode(),null),e=i.updateFullNode(Lu.EMPTY_NODE,t.getNode(),null),r=new Oc(n,o.isFullyInitialized(),r.filtersNodes()),i=new Oc(e,t.isFullyInitialized(),i.filtersNodes()),this.viewCache_=new Pc(i,r),this.eventGenerator_=new Qc(this.query_)}var Zc=(Object.defineProperty(tl,"__referenceConstructor",{get:function(){return Io(Xc,"Reference.ts has not been loaded"),Xc},set:function(t){Io(!Xc,"__referenceConstructor has already been defined"),Xc=t},enumerable:!1,configurable:!0}),tl.prototype.isEmpty=function(){return 0===this.views.size},tl.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return Io(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var a=[];try{for(var u=mo(this.views.values()),c=u.next();!c.done;c=u.next())a=a.concat((s=c.value).applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},tl.prototype.addEventRegistration=function(t,e,n,r,i){var o,s,a=t.queryIdentifier(),u=this.views.get(a);return u||(s=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof Lu?n.calcCompleteEventChildren(r):Lu.EMPTY_NODE,!1),i=new Pc(new Oc(o,s,!1),new Oc(r,i,!1)),u=new $c(t,i),this.views.set(a,u)),u.addEventRegistration(e),u.getInitialEvents(e)},tl.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),s=[],a=[],u=this.hasCompleteView();if("default"===o)try{for(var c=mo(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=bo(l.value,2),f=h[0],p=h[1];a=a.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||s.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(a=a.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||s.push(p.getQuery())));return u&&!this.hasCompleteView()&&s.push(new tl.__referenceConstructor(t.repo,t.path)),{removed:s,events:a}},tl.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=mo(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},tl.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=mo(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},tl.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},tl.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},tl.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},tl.prototype.getCompleteView=function(){var t,e;try{for(var n=mo(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},tl);function tl(){this.views=new Map}var el=(nl.prototype.addWrite=function(t,e){if(t.isEmpty())return new nl(new Tc(e));if(null!=(i=this.writeTree_.findRootMostValueAndPath(t))){var n=i.path,r=i.value,i=ya.relativePath(n,t);return r=r.updateChild(i,e),new nl(this.writeTree_.set(n,r))}return e=new Tc(e),new nl(this.writeTree_.setTree(t,e))},nl.prototype.addWrites=function(t,e){var n=this;return ha(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},nl.prototype.removeWrite=function(t){return t.isEmpty()?nl.Empty:new nl(this.writeTree_.setTree(t,Tc.Empty))},nl.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},nl.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(ya.relativePath(e.path,t)):null},nl.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gu,(function(e,n){t.push(new Ja(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ja(e,n.value))})),t},nl.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new nl(null!=e?new Tc(e):this.writeTree_.subtree(t))},nl.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},nl.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Io(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(ya.Empty,this.writeTree_,t)},nl.Empty=new nl(new Tc(null)),nl);function nl(t){this.writeTree_=t}var rl=(il.prototype.childWrites=function(t){return new ol(t,this)},il.prototype.addOverwrite=function(t,e,n,r){Io(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},il.prototype.addMerge=function(t,e,n){Io(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},il.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},il.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Io(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&0<=s;){var a=this.allWrites_[s];a.visible&&(n<=s&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):ha(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},il.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},il.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(ya.Empty)){var o=il.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);return o.apply(e||Lu.EMPTY_NODE)}return null}return null!=(o=this.visibleWrites_.getCompleteNode(t))?o:(o=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?e:null!=e||o.hasCompleteWrite(ya.Empty)?o.apply(e||Lu.EMPTY_NODE):null},il.prototype.calcCompleteEventChildren=function(t,e){var n=Lu.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(gu,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(gu,(function(t,e){e=i.childCompoundWrite(new ya(t)).apply(e),n=n.updateImmediateChild(t,e)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},il.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){return Io(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.child(e),this.visibleWrites_.hasCompleteWrite(t)?null:(t=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},il.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e);return null!=(t=this.visibleWrites_.getCompleteNode(r))?t:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},il.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},il.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t);if(null!=(t=a.getCompleteNode(ya.Empty)))s=t;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),h=l.getNext();h&&u.length<r;)0!==c(h,n)&&u.push(h),h=l.getNext();return u},il.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},il.prototype.resetTree_=function(){this.visibleWrites_=il.layerTree_(this.allWrites_,il.DefaultFilter_,ya.Empty),this.lastWriteId_=0<this.allWrites_.length?this.allWrites_[this.allWrites_.length-1].writeId:-1},il.DefaultFilter_=function(t){return t.visible},il.layerTree_=function(t,e,n){for(var r=el.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=ya.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=ya.relativePath(s,n),r=r.addWrite(ya.Empty,o.snap.getChild(a)));else{if(!o.children)throw So("WriteRecord should have .snap or .children");n.contains(s)?(a=ya.relativePath(n,s),r=r.addWrites(a,o.children)):s.contains(n)&&((a=ya.relativePath(s,n)).isEmpty()?r=r.addWrites(ya.Empty,o.children):(o=Qo(o.children,a.getFront()))&&(a=o.getChild(a.popFront()),r=r.addWrite(ya.Empty,a)))}}}return r},il);function il(){this.visibleWrites_=el.Empty,this.allWrites_=[],this.lastWriteId_=-1}var ol=(sl.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},sl.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},sl.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},sl.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},sl.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},sl.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},sl.prototype.child=function(t){return new sl(this.treePath_.child(t),this.writeTree_)},sl);function sl(t,e){this.treePath_=t,this.writeTree_=e}var al=(ul.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Ac(mc.User,t,e)):[]},ul.prototype.applyUserMerge=function(t,e,n){return this.pendingWriteTree_.addMerge(t,e,n),e=Tc.fromObject(e),this.applyOperationToSyncPoints_(new kc(mc.User,t,e))},ul.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Tc.Empty;return null!=n.snap?r=r.set(ya.Empty,!0):ha(n.children,(function(t,e){r=r.set(new ya(t),e)})),this.applyOperationToSyncPoints_(new wc(n.path,r,e))}return[]},ul.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Ac(mc.Server,t,e))},ul.prototype.applyServerMerge=function(t,e){return e=Tc.fromObject(e),this.applyOperationToSyncPoints_(new kc(mc.Server,t,e))},ul.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Sc(mc.Server,t))},ul.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);return null==r?[]:(r=(n=ul.parseQueryKey_(r)).path,n=n.queryId,t=ya.relativePath(r,t),e=new Ac(mc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e))},ul.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);return r?(r=(n=ul.parseQueryKey_(r)).path,n=n.queryId,t=ya.relativePath(r,t),e=Tc.fromObject(e),e=new kc(mc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e)):[]},ul.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);return n?(n=(e=ul.parseQueryKey_(n)).path,e=e.queryId,t=ya.relativePath(n,t),t=new Sc(mc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,t)):[]},ul.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){t=ya.relativePath(t,n),r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()}));var o=this.syncPointTree_.get(n);o?(i=i||o.hasCompleteView(),r=r||o.getCompleteServerCache(ya.Empty)):(o=new Zc,this.syncPointTree_=this.syncPointTree_.set(n,o)),null!=r?c=!0:(c=!1,r=Lu.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){(e=e.getCompleteServerCache(ya.Empty))&&(r=r.updateImmediateChild(t,e))})));var s,a=o.viewExistsForQuery(t);a||t.getQueryParams().loadsAllData()||(u=ul.makeQueryKey_(t),Io(!this.queryToTagMap.has(u),"View does not exist, but we have a tag"),s=ul.getNextQueryTag_(),this.queryToTagMap.set(u,s),this.tagToQueryMap.set(s,u));var u=this.pendingWriteTree_.childWrites(n),c=o.addEventRegistration(t,e,u,r,c);return a||i||(o=o.viewForQuery(t),c=c.concat(this.setupListener_(t,o))),c},ul.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),s=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var a=o.removeEventRegistration(t,e,n);if(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),s=a.events,o=-1!==(e=a.removed).findIndex((function(t){return t.getQueryParams().loadsAllData()})),a=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()})),o&&!a&&!(i=this.syncPointTree_.subtree(i)).isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var l=(h=u[c]).getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(ul.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}!a&&0<e.length&&!n&&(o?this.listenProvider_.stopListening(ul.queryForListening_(t),null):e.forEach((function(t){var e=r.queryToTagMap.get(ul.makeQueryKey_(t));r.listenProvider_.stopListening(ul.queryForListening_(t),e)}))),this.removeTags_(e)}return s},ul.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){if(e=ya.relativePath(e,t),e=n.getCompleteServerCache(e))return e}));return n.calcCompleteEventCache(t,r,e,!0)},ul.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),ha(n,(function(t,e){r=r.concat(e)})),r}))},ul.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(n=ul.makeQueryKey_(r),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},ul.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},ul.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t);if(e=this.createListenerForView_(e),e=this.listenProvider_.startListening(ul.queryForListening_(t),r,e.hashFn,e.onComplete),n=this.syncPointTree_.subtree(n),r)Io(!n.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=n.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),ha(n,(function(t,e){r=r.concat(e)})),r})),o=0;o<i.length;++o){var s=i[o];this.listenProvider_.stopListening(ul.queryForListening_(s),this.tagForQuery_(s))}return e},ul.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Lu.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path):(t=function(t,e){var n="Unknown Error";return"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable"),(n=new Error(t+" at "+e.path.toString()+": "+n)).code=t.toUpperCase(),n}(t,n),e.removeEventRegistration(n,null,t))}}},ul.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},ul.parseQueryKey_=function(t){var e=t.indexOf("$");return Io(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ya(t.substr(0,e))}},ul.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},ul.prototype.tagForQuery_=function(t){return t=ul.makeQueryKey_(t),this.queryToTagMap.get(t)},ul.getNextQueryTag_=function(){return ul.nextQueryTag_++},ul.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);return Io(n,"Missing sync point for query tag that we're tracking"),t=this.pendingWriteTree_.childWrites(t),n.applyOperation(e,t,null)},ul.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ya.Empty))},ul.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(ya.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(ya.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);return u&&a&&(e=n?n.getImmediateChild(s):null,s=r.child(s),o=o.concat(this.applyOperationHelper_(a,u,e,s))),i&&(o=o.concat(i.applyOperation(t,r,n))),o},ul.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(ya.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(ya.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e);(e=t.operationForChild(e))&&(s=s.concat(i.applyOperationDescendantsHelper_(e,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},ul.nextQueryTag_=1,ul);function ul(t){this.listenProvider_=t,this.syncPointTree_=Tc.Empty,this.pendingWriteTree_=new rl,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var cl=(ll.prototype.getNode=function(t){return this.rootNode_.getChild(t)},ll.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},ll);function ll(){this.rootNode_=Lu.EMPTY_NODE}var hl=(fl.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Go(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},fl.prototype.get=function(){return Ao(this.counters_)},fl);function fl(){this.counters_={}}var pl=(dl.getCollection=function(t){return t=t.toString(),this.collections_[t]||(this.collections_[t]=new hl),this.collections_[t]},dl.getOrCreateReporter=function(t,e){return t=t.toString(),this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},dl.collections_={},dl.reporters_={},dl);function dl(){}var gl=(vl.prototype.get=function(){var t=this.collection_.get(),e=go({},t);return this.last_&&ha(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},vl);function vl(t){this.collection_=t,this.last_=null}var yl=(ml.prototype.includeStat=function(t){this.statsToReport_[t]=!0},ml.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;ha(e,(function(e,i){0<i&&Go(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),da(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},ml);function ml(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new gl(t),t=1e4+2e4*Math.random(),da(this.reportStats_.bind(this),Math.floor(t))}var bl=(_l.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new wl(i)),e.add(r)}e&&this.eventLists_.push(e)},_l.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},_l.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},_l.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},_l);function _l(){this.eventLists_=[],this.recursionDepth_=0}var wl=(El.prototype.add=function(t){this.events_.push(t)},El.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),ra&&oa("event: "+n.toString()),pa(e))}},El.prototype.getPath=function(){return this.path_},El);function El(t){this.path_=t,this.events_=[]}function Tl(t){this.allowedEvents_=t,this.listeners_={},Io(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}Tl.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=_o(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Tl.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Tl.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Tl.prototype.validateEventType_=function(t){Io(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)};var Il,Sl=(po(Cl,Il=L=Tl),Cl.getInstance=function(){return new Cl},Cl.prototype.getInitialEvent=function(t){return Io("visible"===t,"Unknown event type: "+t),[this.visible_]},Cl);function Cl(){var t,e,n=Il.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var Al,Nl=(po(kl,Al=L),kl.getInstance=function(){return new kl},kl.prototype.getInitialEvent=function(t){return Io("online"===t,"Unknown event type: "+t),[this.online_]},kl.prototype.currentlyOnline=function(){return this.online_},kl);function kl(){var t=Al.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Do()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var xl=(Ol.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Ol.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&pa((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Ol);function Ol(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Dl=(Pl.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new xl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new Rl((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bo(t,5),r=n[0],i=n[1],s=n[2];if(o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=s;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(r=bo(t,2))[0],r=r[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(wa)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},Pl.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Pl.forceAllow=function(){Pl.forceAllow_=!0},Pl.forceDisallow=function(){Pl.forceDisallow_=!0},Pl.isAvailable=function(){return!!Pl.forceAllow_||!(Pl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Pl.prototype.markConnectionHealthy=function(){},Pl.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Pl.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Pl.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Pl.prototype.send=function(t){t=Ko(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=Xs(t=function(t){return t=Eo(t),Co.encodeByteArray(t,!0)}(t),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},Pl.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Pl.prototype.incrementIncomingBytes_=function(t){t=Ko(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},Pl);function Pl(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sa(t),this.stats_=pl.getCollection(e),this.urlFn=function(t){return e.connectionURL(Ta,t)}}var Rl=(Ll.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||oa("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Ll.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},Ll.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},Ll.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(t={}).id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift();e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return this.addLongPollTag_(t+=e,this.currentSerial),!0}return!1},Ll.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},Ll.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},Ll.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){oa("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},Ll);function Ll(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ea(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ll.createIFrame_(),e="",this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(e='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){oa("frame writing exception"),t.stack&&oa(t.stack),oa(t)}}var Ml="";function Fl(t){Ml=t}var jl=null;"undefined"!=typeof MozWebSocket?jl=MozWebSocket:"undefined"!=typeof WebSocket&&(jl=WebSocket);var Ul=(ql.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(wa)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(Ea,r)},ql.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Js.set("previous_websocket_failure",!0);try{this.mySock=new jl(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(e){return this.log_("Error instantiating WebSocket."),(t=e.message||e.data)&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&n.log_(t),n.onClosed_()}},ql.prototype.start=function(){},ql.forceDisallow=function(){ql.forceDisallow_=!0},ql.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==jl&&!ql.forceDisallow_},ql.previouslyFailed=function(){return Js.isInMemoryStorage||!0===Js.get("previous_websocket_failure")},ql.prototype.markConnectionHealthy=function(){Js.remove("previous_websocket_failure")},ql.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=Wo(t),this.onMessage(t))},ql.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},ql.prototype.extractFrameCount_=function(t){if(Io(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},ql.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(this.bytesReceived+=(t=t.data).length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),(null!==this.frames||null!==(t=this.extractFrameCount_(t)))&&this.appendFrame_(t))},ql.prototype.send=function(t){this.resetKeepAlive(),t=Ko(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=Xs(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},ql.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},ql.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},ql.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},ql.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},ql.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},ql.responsesRequiredToBeHealthy=2,ql.healthyTimeout=3e4,ql);function ql(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sa(this.connId),this.stats_=pl.getCollection(e),this.connURL=ql.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var Vl=(Object.defineProperty(Bl,"ALL_TRANSPORTS",{get:function(){return[Dl,Ul]},enumerable:!1,configurable:!0}),Bl.prototype.initTransports_=function(t){var e,n,r=Ul&&Ul.isAvailable(),i=r&&!Ul.previouslyFailed();if(t.webSocketOnly&&(r||zs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ul];else{var o=this.transports_=[];try{for(var s=mo(Bl.ALL_TRANSPORTS),a=s.next();!a.done;a=s.next()){var u=a.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},Bl.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},Bl.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},Bl);function Bl(t){this.initTransports_(t)}var Hl=(Wl.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=da((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))},Wl.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Wl.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},Wl.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},Wl.prototype.sendRequest=function(t){this.sendData_(t={t:"d",d:t})},Wl.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Wl.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Wl.prototype.onSecondaryMessageReceived_=function(t){var e=Ys("t",t);if(t=Ys("d",t),"c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},Wl.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Wl.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Wl.prototype.onPrimaryMessageReceived_=function(t){var e=Ys("t",t);t=Ys("d",t),"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},Wl.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},Wl.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Wl.prototype.onControl_=function(t){var e=Ys("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?Ws("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ws("Unknown control packet command: "+e)},Wl.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&zs("Protocol version mismatch detected"),this.tryStartUpgrade_())},Wl.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},Wl.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);t=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,t),da((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},Wl.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},Wl.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):da((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},Wl.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Wl.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},Wl.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Wl.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},Wl.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},Wl.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Wl.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Wl);function Wl(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sa("c:"+this.id+":"),this.transportManager_=new Vl(e),this.log_("Connection created"),this.start_()}function Kl(){}Kl.prototype.put=function(t,e,n,r){},Kl.prototype.merge=function(t,e,n,r){},Kl.prototype.refreshAuthToken=function(t){},Kl.prototype.onDisconnectPut=function(t,e,n){},Kl.prototype.onDisconnectMerge=function(t,e,n){},Kl.prototype.onDisconnectCancel=function(t,e){},Kl.prototype.reportStats=function(t){};var zl,Gl=1e3,Ql=(po(Yl,zl=nu=Kl),Yl.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_;this.log_(Ko(e={r:r,a:t,b:e})),Io(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},Yl.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Io(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Io(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},Yl.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,a=o.s;Yl.warnOnListenWarnings_(s,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==a&&e.removeListen_(r,i),t.onComplete&&t.onComplete(a,s))}))},Yl.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&Go(t,"w")&&(t=Qo(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&zs("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+(t='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+(e=e.path.toString())+" to your security rules for better performance."))},Yl.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},Yl.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=zo(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},Yl.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=zo(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s;e=e.d||"error",r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))})))},Yl.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Io(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},Yl.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},Yl.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},Yl.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},Yl.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},Yl.prototype.sendOnDisconnect_=function(t,e,n,r){this.log_("onDisconnect "+t,n={p:e,d:n}),this.sendRequest(t,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},Yl.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},Yl.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},Yl.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},Yl.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},Yl.prototype.reportStats=function(t){var e=this;this.connected_&&(this.log_("reportStats",t={c:t}),this.sendRequest("s",t,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+(t=t.d))})))},Yl.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Ko(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},Yl.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Ws("Unrecognized action received from server: "+Ko(t)+"\nAre you using the latest client?")},Yl.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},Yl.prototype.scheduleConnect_=function(t){var e=this;Io(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},Yl.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},Yl.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Yl.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},Yl.prototype.establishConnection_=function(){var t,e,n,r,i,o,s,a,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Yl.nextConnectionId_++,o=(i=this).lastSessionId,s=!1,a=null,this.realtime_={close:u=function(){a?a.close():(s=!0,n())},sendRequest:function(t){Io(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){s?oa("getToken() completed but was canceled"):(oa("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,a=new Hl(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){zs(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),s||(l.repoInfo_.nodeAdmin&&zs(t),u())})))},Yl.prototype.interrupt=function(t){oa("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Yl.prototype.resume=function(t){oa("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Yo(this.interruptReasons_)&&(this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0))},Yl.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},Yl.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},Yl.prototype.onListenRevoked_=function(t,e){e=e?e.map((function(t){return la(t)})).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},Yl.prototype.removeListen_=function(t,e){var n,r=new ya(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},Yl.prototype.onAuthRevoked_=function(t,e){oa("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},Yl.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},Yl.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=mo(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,mo(s.values())),u=a.next();!u.done;u=a.next())this.sendListen_(u.value)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}},Yl.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Ml.replace(/\./g,"-")]=1,Do()?t["framework.cordova"]=1:Ro()&&(t["framework.reactnative"]=1),this.reportStats(t)},Yl.prototype.shouldReconnect_=function(){var t=Nl.getInstance().currentlyOnline();return Yo(this.interruptReasons_)&&t},Yl.nextPersistentConnectionId_=0,Yl.nextConnectionId_=0,Yl);function Yl(t,e,n,r,i,o,s){var a=zl.call(this)||this;if(a.repoInfo_=t,a.applicationId_=e,a.onDataUpdate_=n,a.onConnectStatus_=r,a.onServerInfoUpdate_=i,a.authTokenProvider_=o,a.authOverride_=s,a.id=Yl.nextPersistentConnectionId_++,a.log_=sa("p:"+a.id+":"),a.interruptReasons_={},a.listens=new Map,a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=Gl,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Sl.getInstance().on("visible",a.onVisible_,a),-1===t.host.indexOf("fblocal")&&Nl.getInstance().on("online",a.onOnline_,a),a}var Xl,$l=(po(Jl,Xl=nu),Jl.prototype.reportStats=function(t){throw new Error("Method not implemented.")},Jl.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Io(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},Jl.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var s=Jl.getListenId_(t,n),a={};this.listens_[s]=a,t=t.getQueryParams().toRestQueryStringParameters(),this.restRequest_(o+".json",t,(function(t,e){404===t&&(t=e=null),null===t&&i.onDataUpdate_(o,e,!1,n),Qo(i.listens_,s)===a&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},Jl.prototype.unlisten=function(t,e){e=Jl.getListenId_(t,e),delete this.listens_[e]},Jl.prototype.refreshAuthToken=function(t){},Jl.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(e.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+o);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);var t=null;if(200<=s.status&&s.status<300){try{t=Wo(s.responseText)}catch(t){zs("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&zs("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))},Jl);function Jl(t,e,n){var r=Xl.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=sa("p:rest:"),r.listens_={},r}var Zl="repo_interrupt",th=(eh.prototype.start=function(){var t=this;if(this.stats_=pl.getCollection(this.repoInfo_),this.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new $l(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ko(e)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new Ql(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=pl.getOrCreateReporter(this.repoInfo_,(function(){return new yl(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new cl,this.infoSyncTree_=new al({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new al({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){r=i(n,r),t.eventQueue_.raiseEventsForChangedPath(e.path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},eh.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},eh.prototype.name=function(){return this.repoInfo_.namespace},eh.prototype.serverTime=function(){var t=this.infoData_.getNode(new ya(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},eh.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},eh.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i,o,s=new ya(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e,t=s,0<(o=r?n?(i=Xo(e,(function(t){return qu(t)})),this.serverSyncTree_.applyTaggedQueryMerge(s,i,r)):(i=qu(e),this.serverSyncTree_.applyTaggedQueryOverwrite(s,i,r)):n?(n=Xo(e,(function(t){return qu(t)})),this.serverSyncTree_.applyServerMerge(s,n)):(e=qu(e),this.serverSyncTree_.applyServerOverwrite(s,e))).length&&(t=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(t,o)},eh.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},eh.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},eh.prototype.onServerInfoUpdate_=function(t){var e=this;ha(t,(function(t,n){e.updateInfo_(t,n)}))},eh.prototype.updateInfo_=function(t,e){t=new ya("/.info/"+t),e=qu(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e),this.eventQueue_.raiseEventsForChangedPath(t,e)},eh.prototype.getNextWriteId_=function(){return this.nextWriteId_++},eh.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=(o=lc(e=qu(e,n),n=this.serverSyncTree_.calcCompleteEventCache(t),o),this.getNextWriteId_());o=this.serverSyncTree_.applyUserOverwrite(t,o,s,!0),this.eventQueue_.queueEvents(o),this.server_.put(t.toString(),e.val(!0),(function(e,n){var o="ok"===e;o||zs("set at "+t+" failed: "+e),o=i.serverSyncTree_.ackUserWrite(s,!o),i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)})),e=this.abortTransactions_(t),this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},eh.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,s=!0,a=this.generateServerValues(),u={};ha(e,(function(e,n){s=!1,u[e]=cc(t.child(e),qu(n),r.serverSyncTree_,a)})),s?(oa("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){(a="ok"===e)||zs("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(i,!a),a=0<s.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(a,s),r.callOnCompleteCallback(n,e,o)})),ha(e,(function(e){e=r.abortTransactions_(t.child(e)),r.rerunTransactions_(e)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},eh.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new vc;this.onDisconnect_.forEachTree(ya.Empty,(function(r,i){i=cc(r,i,t.serverSyncTree_,e),n.remember(r,i)}));var r=[];n.forEachTree(ya.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n)),e=t.abortTransactions_(e),t.rerunTransactions_(e)})),this.onDisconnect_=new vc,this.eventQueue_.raiseEventsForChangedPath(ya.Empty,r)},eh.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},eh.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qu(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},eh.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qu(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},eh.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Yo(e))return oa("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&ha(e,(function(e,n){n=qu(n),r.onDisconnect_.remember(t.child(e),n)})),r.callOnCompleteCallback(n,i,o)}))},eh.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},eh.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},eh.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Zl)},eh.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Zl)},eh.prototype.stats=function(t){var e;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=t?(this.statsListener_||(this.statsListener_=new gl(this.stats_)),this.statsListener_.get()):this.stats_.get(),e=Object.keys(t).reduce((function(t,e){return Math.max(e.length,t)}),0),ha(t,(function(t,n){for(var r=t,i=t.length;i<e+2;i++)r+=" ";console.log(r+n)})))},eh.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},eh.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),oa.apply(void 0,_o([n],t))},eh.prototype.callOnCompleteCallback=function(t,e,n){t&&pa((function(){var r,i;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(i=new Error(i)).code=r,t(i))}))},Object.defineProperty(eh.prototype,"database",{get:function(){return this.__database||(this.__database=new Eh(this))},enumerable:!1,configurable:!0}),eh);function eh(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new vc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}var nh=(rh.prototype.getStartPost=function(){return this.startPost_},rh.prototype.getEndPost=function(){return this.endPost_},rh.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},rh.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ja(e,n))||(n=Lu.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},rh.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Lu.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(Lu.EMPTY_NODE),i=this;return e.forEachChild(gu,(function(t,e){i.matches(new Ja(t,e))||(r=r.updateImmediateChild(t,Lu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},rh.prototype.updatePriority=function(t,e){return t},rh.prototype.filtersNodes=function(){return!0},rh.prototype.getIndexedFilter=function(){return this.indexedFilter_},rh.prototype.getIndex=function(){return this.index_},rh.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},rh.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},rh);function rh(t){this.indexedFilter_=new Fc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rh.getStartPost_(t),this.endPost_=rh.getEndPost_(t)}var ih=(oh.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ja(e,n))||(n=Lu.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},oh.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Lu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Lu.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Lu.EMPTY_NODE);var a,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),a=this.index_.getCompare(),function(t,e){return a(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&l(u,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,c)<=0?o++:r=r.updateImmediateChild(s.name,Lu.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},oh.prototype.updatePriority=function(t,e){return t},oh.prototype.filtersNodes=function(){return!0},oh.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},oh.prototype.getIndex=function(){return this.index_},oh.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,s;s=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var a=t;Io(a.numChildren()===this.limit_,"");var u=new Ja(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);return l&&!n.isEmpty()&&0<=p?(null!=i&&i.trackChildChange(Lc.childChangedChange(e,n,h)),a.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(Lc.childRemovedChange(e,h)),h=a.updateImmediateChild(e,Lu.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Lc.childAddedChange(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=s(c,u)?(null!=i&&(i.trackChildChange(Lc.childRemovedChange(c.name,c.node)),i.trackChildChange(Lc.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,Lu.EMPTY_NODE)):t},oh);function oh(t){this.rangedFilter_=new nh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var sh=(ah.prototype.hasStart=function(){return this.startSet_},ah.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},ah.prototype.getIndexStartValue=function(){return Io(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},ah.prototype.getIndexStartName=function(){return Io(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aa},ah.prototype.hasEnd=function(){return this.endSet_},ah.prototype.getIndexEndValue=function(){return Io(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},ah.prototype.getIndexEndName=function(){return Io(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ua},ah.prototype.hasLimit=function(){return this.limitSet_},ah.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},ah.prototype.getLimit=function(){return Io(this.limitSet_,"Only valid if limit has been set"),this.limit_},ah.prototype.getIndex=function(){return this.index_},ah.prototype.copy_=function(){var t=new ah;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},ah.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},ah.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},ah.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},ah.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},ah.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},ah.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},ah.prototype.getQueryObject=function(){var t,e=ah.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==gu&&(n[e.INDEX]=this.index_.toString()),n},ah.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},ah.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===gu},ah.prototype.getNodeFilter=function(){return this.loadsAllData()?new Fc(this.getIndex()):new(this.hasLimit()?ih:nh)(this)},ah.prototype.toRestQueryStringParameters=function(){var t,e=ah.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===gu?e.PRIORITY_INDEX:this.index_===Hu?e.VALUE_INDEX:this.index_===ou?e.KEY_INDEX:(Io(this.index_ instanceof Wu,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=Ko(t),this.startSet_&&(n[e.START_AT]=Ko(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Ko(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Ko(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Ko(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},ah.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},ah.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},ah.DEFAULT=new ah,ah);function ah(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gu}var uh,ch=(po(lh,uh=rc),lh.prototype.getKey=function(){return rs("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},lh.prototype.child=function(t){var e,n,r;return rs("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof ya||(null===this.path.getFront()?(r=!(e=1),La("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):La("Reference.child",1,t,!1)),new lh(this.repo,this.path.child(t))},lh.prototype.getParent=function(){rs("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new lh(this.repo,t)},lh.prototype.getRoot=function(){rs("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},lh.prototype.databaseProp=function(){return this.repo.database},lh.prototype.set=function(t,e){rs("Reference.set",1,2,arguments.length),Ma("Reference.set",this.path),xa("Reference.set",1,t,this.path,!1),os("Reference.set",2,e,!0);var n=new ko;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},lh.prototype.update=function(t,e){if(rs("Reference.update",1,2,arguments.length),Ma("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,zs("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oa("Reference.update",1,t,this.path,!1),os("Reference.update",2,e,!0);var i=new ko;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},lh.prototype.setWithPriority=function(t,e,n){if(rs("Reference.setWithPriority",2,3,arguments.length),Ma("Reference.setWithPriority",this.path),xa("Reference.setWithPriority",1,t,this.path,!1),Da("Reference.setWithPriority",2,e,!1),os("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new ko;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},lh.prototype.remove=function(t){return rs("Reference.remove",0,1,arguments.length),Ma("Reference.remove",this.path),os("Reference.remove",1,t,!0),this.set(null,t)},lh.prototype.transaction=function(t,e,n){if(rs("Reference.transaction",1,3,arguments.length),Ma("Reference.transaction",this.path),os("Reference.transaction",1,t,!1),os("Reference.transaction",2,e,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(is("Reference.transaction",3,!0)+"must be a boolean.")}(0,0,n),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new ko;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new Ka(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},lh.prototype.setPriority=function(t,e){rs("Reference.setPriority",1,2,arguments.length),Ma("Reference.setPriority",this.path),Da("Reference.setPriority",1,t,!1),os("Reference.setPriority",2,e,!0);var n=new ko;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},lh.prototype.push=function(t,e){rs("Reference.push",0,2,arguments.length),Ma("Reference.push",this.path),xa("Reference.push",1,t,this.path,!0),os("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=$a(n),i=(n=this.child(r),this.child(r));return t=null!=t?n.set(t,e).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),"function"==typeof e&&t.catch((function(){})),n},lh.prototype.onDisconnect=function(){return Ma("Reference.onDisconnect",this.path),new Ha(this.repo,this.path)},Object.defineProperty(lh.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(lh.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(lh.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(lh.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),lh);function lh(t,e){if(!(t instanceof th))throw new Error("new Reference() no longer supported - use app.database().");return uh.call(this,t,e,sh.DEFAULT,!1)||this}rc.__referenceConstructor=ch,Zc.__referenceConstructor=ch;var hh,fh=function(){this.children={},this.childCount=0,this.value=null},ph=(dh.prototype.subTree=function(t){for(var e=t instanceof ya?t:new ya(t),n=this,r=e.getFront();null!==r;)n=new dh(r,n,Qo(n.node_.children,r)||new fh),r=(e=e.popFront()).getFront();return n},dh.prototype.getValue=function(){return this.node_.value},dh.prototype.setValue=function(t){Io(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},dh.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},dh.prototype.hasChildren=function(){return 0<this.node_.childCount},dh.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},dh.prototype.forEachChild=function(t){var e=this;ha(this.node_.children,(function(n,r){t(new dh(n,e,r))}))},dh.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},dh.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},dh.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},dh.prototype.path=function(){return new ya(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},dh.prototype.name=function(){return this.name_},dh.prototype.parent=function(){return this.parent_},dh.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},dh.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Go(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},dh);function dh(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new fh),this.name_=t,this.parent_=e,this.node_=n}(W=hh=hh||{})[W.RUN=0]="RUN",W[W.SENT=1]="SENT",W[W.COMPLETED=2]="COMPLETED",W[W.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",W[W.NEEDS_ABORT=4]="NEEDS_ABORT",th.MAX_TRANSACTION_RETRIES_=25,th.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ph},th.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new ch(this,t);o.on("value",i);var s,a={path:t,update:e,onComplete:n,status:null,order:ea(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};e=this.getLatestState_(t),a.currentInputSnapshot=e,void 0===(n=a.update(e.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&(s=new zu(a.currentInputSnapshot,new ch(this,a.path),gu),a.onComplete(null,!1,s))):(Ba("transaction failed: Data returned ",n,a.path),a.status=hh.RUN,(s=(r=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(a),r.setValue(s),r=void 0,"object"==typeof n&&null!==n&&Go(n,".priority")?(r=Qo(n,".priority"),Io(ka(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(this.serverSyncTree_.calcCompleteEventCache(t)||Lu.EMPTY_NODE).getPriority().val(),s=this.generateServerValues(),s=lc(r=qu(n,r),e,s),a.currentOutputSnapshotRaw=r,a.currentOutputSnapshotResolved=s,a.currentWriteId=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserOverwrite(t,s,a.currentWriteId,a.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,a),this.sendReadyTransactions_())},th.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Lu.EMPTY_NODE},th.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Io(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===hh.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},th.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=u=this.getLatestState_(t,r),o=(r=u.hash(),0);o<e.length;o++){var s=e[o];Io(s.status===hh.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=hh.SENT,s.retryCount++;var a=ya.relativePath(t,s.path);i=i.updateChild(a,s.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;this.server_.put(c.toString(),u,(function(r){n.log_("transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o,s,a=[],u=0;u<e.length;u++)e[u].status=hh.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete&&(o=e[u].currentOutputSnapshotResolved,s=new ch(n,e[u].path),s=new zu(o,s,gu),a.push(e[u].onComplete.bind(null,null,!0,s))),e[u].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),u=0;u<a.length;u++)pa(a[u])}else{if("datastale"===r)for(u=0;u<e.length;u++)e[u].status=e[u].status===hh.SENT_NEEDS_ABORT?hh.NEEDS_ABORT:hh.RUN;else for(zs("transaction at "+c.toString()+" failed: "+r),u=0;u<e.length;u++)e[u].status=hh.NEEDS_ABORT,e[u].abortReason=r;n.rerunTransactions_(t)}}),r)},th.prototype.rerunTransactions_=function(t){t=(e=this.getAncestorTransactionNode_(t)).path();var e=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(e,t),t},th.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===hh.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var s,a,u,c=t[o],l=ya.relativePath(e,c.path),h=!1,f=void 0;Io(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===hh.NEEDS_ABORT?(h=!0,f=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):c.status===hh.RUN&&(r=c.retryCount>=th.MAX_TRANSACTION_RETRIES_?(h=!0,f="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):(s=this.getLatestState_(c.path,i),c.currentInputSnapshot=s,void 0!==(u=t[o].update(s.val()))?(Ba("transaction failed: Data returned ",u,c.path),a=qu(u),"object"==typeof u&&null!=u&&Go(u,".priority")||(a=a.updatePriority(s.getPriority())),l=c.currentWriteId,u=lc(a,s,u=this.generateServerValues()),c.currentOutputSnapshotRaw=a,c.currentOutputSnapshotResolved=u,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(l),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,u,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(h=!0,f="nodata",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=hh.COMPLETED,c=t[o].unwatcher,setTimeout(c,Math.floor(0)),t[o].onComplete&&("nodata"===f?(h=new ch(this,t[o].path),h=new zu(c=t[o].currentInputSnapshot,h,gu),n.push(t[o].onComplete.bind(null,null,!1,h))):n.push(t[o].onComplete.bind(null,new Error(f),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)pa(n[o]);this.sendReadyTransactions_()}},th.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},th.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},th.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},th.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==hh.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},th.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path();return(t=this.transactionQueueTree_.subTree(t)).forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(t),t.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},th.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===hh.SENT_NEEDS_ABORT||(e[o].status===hh.SENT?(Io(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=hh.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Io(e[o].status===hh.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)pa(n[o])}};var gh=(vh.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(oa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},vh.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},vh.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},vh.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';zs(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},vh);function vh(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var yh=(mh.prototype.getToken=function(t){return Promise.resolve({accessToken:mh.EMULATOR_AUTH_TOKEN})},mh.prototype.addTokenChangeListener=function(t){t(mh.EMULATOR_AUTH_TOKEN)},mh.prototype.removeTokenChangeListener=function(t){},mh.prototype.notifyForInvalidToken=function(){},mh.EMULATOR_AUTH_TOKEN="owner",mh);function mh(){}var bh,_h=(wh.getInstance=function(){return bh=bh||new wh},wh.prototype.interrupt=function(){var t,e,n,r;try{for(var i=mo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,mo(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next())this.repos_[s][u.value].interrupt()}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},wh.prototype.resume=function(){var t,e,n,r;try{for(var i=mo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,mo(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next())this.repos_[s][u.value].resume()}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},wh.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new Ia(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new yh)},wh.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||Ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),oa("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=Ca(i,r),a=s.repoInfo;return n=void 0,"undefined"!=typeof process&&(n=process.env.FIREBASE_DATABASE_EMULATOR_HOST),n?(o=!0,a=(s=Ca(i="http://"+n+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure,e=r&&o?new yh:new gh(t,e),Fa("Invalid Firebase Database URL",1,s),s.path.isEmpty()||Ks("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,e).database},wh.prototype.deleteRepo=function(t){var e=Qo(this.repos_,t.app.name);e&&Qo(e,t.key)===t||Ks("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},wh.prototype.createRepo=function(t,e,n){var r=Qo(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Qo(r,t.toURLString());return i&&Ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new th(t,this.useRestClient_,e,n),r[t.toURLString()]=i},wh.prototype.forceRestClient=function(t){this.useRestClient_=t},wh);function wh(){this.repos_={},this.useRestClient_=!1}var Eh=(Object.defineProperty(Th.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Th.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new ch(this.repo_,ya.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Th.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),Th.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?Ks("Cannot call useEmulator() after instance has already been initialized."):_h.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},Th.prototype.ref=function(t){return this.checkDeleted_("ref"),rs("database.ref",0,1,arguments.length),t instanceof ch?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},Th.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),rs(e,1,1,arguments.length);var n=Ca(t,this.repo_.repoInfo_.nodeAdmin);return Fa(e,1,n),(t=n.repoInfo).isCustomHost()||t.host===this.repo_.repoInfo_.host||Ks(e+": Host name does not match the current database: (found "+t.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Th.prototype.checkDeleted_=function(t){null===this.repoInternal_&&Ks("Cannot call "+t+" on a deleted database.")},Th.prototype.goOffline=function(){rs("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Th.prototype.goOnline=function(){rs("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Th.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},Th);function Th(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return vo(e,void 0,void 0,(function(){return yo(this,(function(t){return this.checkDeleted_("delete"),_h.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof th||Ks("Don't call new Database() directly - please use firebase.database().")}var Ih=Object.freeze({__proto__:null,forceLongPolling:function(){Ul.forceDisallow(),Dl.forceAllow()},forceWebSockets:function(){Dl.forceDisallow()},isWebSocketsAvailable:function(){return Ul.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace;return t=void 0!==(t=t.nodeAdmin)&&t,Fl(r),(r=new fs("auth-internal",new ds("database-standalone"))).setComponent(new cs("auth-internal",(function(){return i}),"PRIVATE")),{instance:_h.getInstance().databaseFromApp(e,r,n,t),namespace:o}}});Dr=Ql,Ql.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ql.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Sh,Ch=Object.freeze({__proto__:null,DataConnection:Dr,RealTimeConnection:Hl,hijackHash:function(t){var e=Ql.prototype.put;return Ql.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ql.prototype.put=e}},ConnectionTarget:Ia,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){_h.getInstance().forceRestClient(t)}}),Ah=Eh.ServerValue;Fl((Sh=Fs).SDK_VERSION),Sh.INTERNAL.registerComponent(new cs("database",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),_h.getInstance().databaseFromApp(n,t,e)}),"PUBLIC").setServiceProps({Reference:ch,Query:rc,Database:Eh,DataSnapshot:zu,enableLogging:Hs,INTERNAL:Ih,ServerValue:Ah,TEST_ACCESS:Ch}).setMultipleInstances(!0)),Sh.registerVersion("@firebase/database","0.7.1");var Nh=function(t,e){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function kh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var xh={},Oh=L||self;function Dh(){}function Ph(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Rh(t){var e=Ph(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Lh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mh="closure_uid_"+(1e9*Math.random()>>>0),Fh=0;function jh(t,e,n){return t.call.apply(t.bind,arguments)}function Uh(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function qh(t,e,n){return(qh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jh:Uh).apply(null,arguments)}function Vh(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var Bh=Date.now;function Hh(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Wh(){this.j=this.j,this.i=this.i}Wh.prototype.j=!1,Wh.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Mh)&&t[Mh]||(t[Mh]=++Fh))},Wh.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Kh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Gh(){return Array.prototype.concat.apply([],arguments)}function Qh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Yh(t){return/^[\s\xa0]*$/.test(t)}var Xh,$h=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jh(t,e){return-1!=t.indexOf(e)}function Zh(t,e){return t<e?-1:e<t?1:0}var tf=Oh.navigator;function ef(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function nf(t){var e,n={};for(e in t)n[e]=t[e];return n}Xh=tf&&(tf=tf.userAgent)?tf:"";var rf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function of(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<rf.length;i++)e=rf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function sf(t){return sf[" "](t),t}sf[" "]=Dh;var af,uf=Jh(Xh,"Opera"),cf=Jh(Xh,"Trident")||Jh(Xh,"MSIE"),lf=Jh(Xh,"Edge"),hf=lf||cf,ff=Jh(Xh,"Gecko")&&!(Jh(Xh.toLowerCase(),"webkit")&&!Jh(Xh,"Edge"))&&!(Jh(Xh,"Trident")||Jh(Xh,"MSIE"))&&!Jh(Xh,"Edge"),pf=Jh(Xh.toLowerCase(),"webkit")&&!Jh(Xh,"Edge");function df(){var t=Oh.document;return t?t.documentMode:void 0}var gf="",vf=(vf=Xh,ff?/rv:([^\);]+)(\)|;)/.exec(vf):lf?/Edge\/([\d\.]+)/.exec(vf):cf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vf):pf?/WebKit\/(\S+)/.exec(vf):uf?/(?:Version)[ \/]?(\S+)/.exec(vf):void 0);vf&&(gf=vf?vf[1]:""),af=cf&&null!=(vf=df())&&vf>parseFloat(gf)?String(vf):gf;var yf={};function mf(t){return e=t,n=function(){for(var e=0,n=$h(String(af)).split("."),r=$h(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Zh(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Zh(0==s[2].length,0==a[2].length)||Zh(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},r=yf,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var bf=Oh.document&&cf&&(df()||parseInt(af,10))||void 0,_f=!cf||9<=Number(bf),wf=cf&&!mf("9"),Ef=function(){if(!Oh.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oh.addEventListener("test",Dh,e),Oh.removeEventListener("test",Dh,e)}catch(t){}return t}();function Tf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function If(t,e){if(Tf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ff){t:{try{sf(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Sf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Tf.prototype.b=function(){this.defaultPrevented=!0},Hh(If,Tf);var Sf={2:"touch",3:"pen",4:"mouse"};If.prototype.b=function(){If.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Cf="closure_listenable_"+(1e6*Math.random()|0),Af=0;function Nf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Af,this.Y=this.Z=!1}function kf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function xf(t){this.src=t,this.a={},this.b=0}function Of(t,e){var n,r,i,o=e.type;o in t.a&&((i=0<=(r=Kh(n=t.a[o],e)))&&Array.prototype.splice.call(n,r,1),i&&(kf(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Df(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}xf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Df(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Nf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Pf="closure_lm_"+(1e6*Math.random()|0),Rf={};function Lf(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Hf(r),e&&e[Cf]?e.wa(n,r,Lh(i)?!!i.capture:!!i,o):Mf(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Lf(t,e[o],n,r,i);return null}return n=Hf(n),t&&t[Cf]?t.va(e,n,Lh(r)?!!r.capture:!!r,i):Mf(t,e,n,!1,r,i)}function Mf(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Lh(i)?!!i.capture:!!i;if(s&&!_f)return null;var a,u,c=Vf(t);if(c||(t[Pf]=c=new xf(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=qf,r=u=_f?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Ef||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jf(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ff(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Cf]?Of(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jf(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vf(e))?(Of(n,t),0==n.b&&(n.src=null,e[Pf]=null)):kf(t)))}function jf(t){return t in Rf?Rf[t]:Rf[t]="on"+t}function Uf(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ff(t),n.call(r,e)}function qf(t,e){if(t.Y)return!0;if(_f)return Uf(t,new If(e,this));if(!e)t:{e=["window","event"];for(var n=Oh,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Uf(t,e=new If(e,this))}function Vf(t){return(t=t[Pf])instanceof xf?t:null}var Bf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(t){return"function"==Ph(t)?t:(t[Bf]||(t[Bf]=function(e){return t.handleEvent(e)}),t[Bf])}function Wf(){Wh.call(this),this.c=new xf(this),(this.J=this).C=null}function Kf(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new Tf(e,t):e instanceof Tf?e.target=e.target||t:(s=e,of(e=new Tf(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=zf(o,r,!0,e)&&s;if(s=zf(o=e.a=t,r,!0,e)&&s,s=zf(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=zf(o=e.a=n[i],r,!1,e)&&s}function zf(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Of(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}Hh(Wf,Wh),Wf.prototype[Cf]=!0,(nu=Wf.prototype).addEventListener=function(t,e,n,r){Lf(this,t,e,n,r)},nu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Lh(i)?!!i.capture:!!i,r=Hf(r),e&&e[Cf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Df(s=e.a[n],r,i,o))&&(kf(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Vf(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Df(n,r,i,o)),(r=-1<e?n[e]:null)&&Ff(r))}(this,t,e,n,r)},nu.G=function(){if(Wf.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)kf(n[r]);delete e.a[t],e.b--}}this.C=null},nu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},nu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gf=Oh.JSON.stringify;function Qf(){this.b=this.a=null}var Yf,Xf=($f.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},new $f((function(){return new Jf}),(function(t){t.reset()}),100));function $f(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Jf(){this.next=this.b=this.a=null}function Zf(t,e){var n;Yf||(n=Oh.Promise.resolve(void 0),Yf=function(){n.then(np)}),tp||(Yf(),tp=!0),ep.add(t,e)}Qf.prototype.add=function(t,e){var n=Xf.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Jf.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var tp=!(Jf.prototype.reset=function(){this.next=this.b=this.a=null}),ep=new Qf;function np(){for(var t,e;n=e=void 0,n=null,(e=ep).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){Oh.setTimeout((function(){throw t}),0)}(t)}var n=Xf;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}tp=!1}function rp(t,e){Wf.call(this),this.b=t||1,this.a=e||Oh,this.f=qh(this.Xa,this),this.g=Bh()}function ip(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function op(t,e,n){if("function"==Ph(t))n&&(t=qh(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=qh(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oh.setTimeout(t,e||0)}Hh(rp,Wf),(nu=rp.prototype).aa=!1,nu.M=null,nu.Xa=function(){var t;this.aa&&(0<(t=Bh()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Kf(this,"tick"),this.aa&&(ip(this),this.start())))},nu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Bh())},nu.G=function(){rp.X.G.call(this),ip(this),delete this.a};var sp,ap,up,cp=(Nh(ap=hp,up=sp=Wh),ap.prototype=null===up?Object.create(up):(lp.prototype=up.prototype,new lp),hp.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=op((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},hp.prototype.G=function(){sp.prototype.G.call(this),this.a&&(Oh.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},hp);function lp(){this.constructor=ap}function hp(t,e,n){var r=sp.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function fp(t){Wh.call(this),this.b=t,this.a={}}Hh(fp,Wh);var pp=[];function dp(t,e,n,r){Array.isArray(n)||(n&&(pp[0]=n.toString()),n=pp);for(var i=0;i<n.length;i++){var o=Lf(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function gp(t){ef(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ff(t)}),t),t.a={}}function vp(){this.a=!0}function yp(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return Gf(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}fp.prototype.G=function(){fp.X.G.call(this),gp(this)},fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vp.prototype.info=function(){};var mp,bp=null;function _p(){return bp=bp||new Wf}function wp(t){Tf.call(this,"serverreachability",t)}function Ep(t){var e=_p();Kf(e,new wp(e))}function Tp(t){Tf.call(this,"statevent",t)}function Ip(t){var e=_p();Kf(e,new Tp(e))}function Sp(t){Tf.call(this,"timingevent",t)}function Cp(t,e){if("function"!=Ph(t))throw Error("Fn must not be null and must be a function");return Oh.setTimeout((function(){t()}),e)}function Ap(){}function Np(){}function kp(){Tf.call(this,"d")}function xp(){Tf.call(this,"c")}function Op(){}function Dp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new fp(this),this.P=Pp,this.R=new rp(t=hf?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Hh(wp,Tf),Hh(Tp,Tf),Hh(Sp,Tf),W={NO_ERROR:0,Ya:1,fb:2,eb:3,ab:4,cb:5,gb:6,Da:7,TIMEOUT:8,jb:9},Dr={$a:"complete",nb:"success",Ea:"error",Da:"abort",lb:"ready",mb:"readystatechange",TIMEOUT:"timeout",hb:"incrementaldata",kb:"progress",bb:"downloadprogress",ob:"uploadprogress"},Ap.prototype.a=null,L={OPEN:"a",Za:"b",Ea:"c",ib:"d"},Hh(kp,Tf),Hh(xp,Tf),Hh(Op,Ap),mp=new Op;var Pp=45e3,Rp={},Lp={};function Mp(t,e,n){t.H=1,t.i=rd($p(e)),t.j=n,t.I=!0,Fp(t,null)}function Fp(t,e){t.u=Bh(),Up(t),t.l=$p(t.i);var n,r,i,o,s,a,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),vd(u.b,"t",c),t.D=0,t.a=cg(t.g,t.g.C?e:null),0<t.O&&(t.F=new cp(qh(t.Ca,t,t.a),t.O)),dp(t.J,t.a,"readystatechange",t.Va),e=t.B?nf(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ep(),r=t.m,i=t.l,o=t.f,s=t.S,a=t.j,(n=t.c).info((function(){if(n.a)if(a)for(var t="",e=a.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=a;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+r+"\n"+i+"\n"+t}))}function jp(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(o=i=void 0,i=(r=t).D,-1==(o=(a=n).indexOf("\n",i))?Lp:(i=Number(a.substring(i,o)),isNaN(i)?Rp:(o+=1)+i>a.length?Lp:(a=a.substr(o,i),r.D=o+i,a)));if(a==Lp){4==e&&(t.h=4,Ip(),s=!1),yp(t.c,t.f,null,"[Incomplete Response]");break}if(a==Rp){t.h=4,Ip(),yp(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}yp(t.c,t.f,a,null),Wp(t,a)}4==e&&0==n.length&&(t.h=1,Ip(),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),eg(e),e.F=!0,Ip())):(yp(t.c,t.f,n,"[Invalid Chunked Response]"),Hp(t),Bp(t))}function Up(t){t.T=Bh()+t.P,qp(t,t.P)}function qp(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Cp(qh(t.Ta,t),e)}function Vp(t){t.o&&(Oh.clearTimeout(t.o),t.o=null)}function Bp(t){0==t.g.v||t.A||ig(t.g,t)}function Hp(t){Vp(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ip(t.R),gp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Wp(t,e){try{var n,r,i,o,s,a=t.g;if(0!=a.v&&(a.a==t||Td(a.b,t)))if(a.I=t.N,!t.C&&Td(a.b,t)&&3==a.v){try{var u=a.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!a.j){if(a.a){if(!(a.a.u+3e3<t.u))break t;rg(a),zd(a)}tg(a),Ip()}}else a.oa=c[1],0<a.oa-a.P&&c[2]<37500&&a.H&&0==a.o&&!a.m&&(a.m=Cp(qh(a.Qa,a),6e3));if(Ed(a.b)<=1&&a.ea){try{a.ea()}catch(t){}a.ea=void 0}}else sg(a,11)}else if(!t.C&&a.a!=t||rg(a),!Yh(e))for(e=u=a.ka.a.parse(e),u=0;u<e.length;u++)a.P=(c=e[u])[0],c=c[1],2==a.v?"c"==c[0]?(a.J=c[1],a.ga=c[2],null!=(r=c[3])&&(a.ha=r,a.c.info("VER="+a.ha)),null!=(o=c[4])&&(a.pa=o,a.c.info("SVER="+a.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(a.D=n=1.5*r,a.c.info("backChannelRequestTimeoutMs_="+n)),n=a,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(Jh(r,"spdy")||Jh(r,"quic")||Jh(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Id(i,i.b),i.b=null)),!n.A||(s=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=s,nd(n.B,n.A,s))),a.v=3,a.f&&a.f.ta(),a.U&&(a.N=Bh()-t.u,a.c.info("Handshake RTT: "+a.N+"ms")),i=t,(n=a).la=ug(n,n.C?n.ga:null,n.fa),i.C?(Sd(n.b,i),o=i,(s=n.D)&&o.setTimeout(s),o.o&&(Vp(o),Up(o)),n.a=i):Zd(n),0<a.g.length&&Yd(a)):"stop"!=c[0]&&"close"!=c[0]||sg(a,7):3==a.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sg(a,7):Kd(a):"noop"!=c[0]&&a.f&&a.f.sa(c),a.o=0);Ep()}catch(t){}}function Kp(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Rh(t)||"string"==typeof t)zh(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Rh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Rh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zp(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zp)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gp(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qp(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qp(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Qp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(nu=Dp.prototype).setTimeout=function(t){this.P=t},nu.Va=function(t){t=t.target;var e=this.F;e&&3==Vd(t)?e.f():this.Ca(t)},nu.Ca=function(t){try{if(t==this.a)t:{var e=Vd(this.a),n=this.a.ua();if(this.a.W(),!(e<3||3==e&&!hf&&!this.a.$())){this.A||4!=e||7==n||Ep(),Vp(this);var r=this.a.W();if(this.N=r,n=this.a.$(),this.b=200==r,s=this.m,a=this.l,u=this.f,c=this.S,l=e,h=r,this.c.info((function(){return"XMLHTTP RESP ("+u+") [ attempt "+c+"]: "+s+"\n"+a+"\n"+l+" "+h})),this.b){if(this.U&&!this.C){e:{if(this.a){var i=this.a;if((i=i.a?i.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yh(i)){var o=i;break e}}o=null}if(!o){this.b=!1,this.h=3,Ip(),Hp(this),Bp(this);break t}yp(this.c,this.f,o,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Wp(this,o)}this.I?(jp(this,e,n),hf&&this.b&&3==e&&(dp(this.J,this.R,"tick",this.Ua),this.R.start())):(yp(this.c,this.f,n,null),Wp(this,n)),4==e&&Hp(this),this.b&&!this.A&&(4==e?ig(this.g,this):(this.b=!1,Up(this)))}else 400==r&&0<n.indexOf("Unknown SID")?(this.h=3,Ip()):(this.h=0,Ip()),Hp(this),Bp(this)}}}catch(t){}var s,a,u,c,l,h},nu.Ua=function(){var t,e;this.a&&(t=Vd(this.a),e=this.a.$(),this.D<e.length&&(Vp(this),jp(this,t,e),this.b&&4!=t&&Up(this)))},nu.cancel=function(){this.A=!0,Hp(this)},nu.Ta=function(){this.o=null;var t,e=Bh();0<=e-this.T?(t=this.l,this.c.info((function(){return"TIMEOUT: "+t})),2!=this.H&&(Ep(),Ip()),Hp(this),this.h=2,Bp(this)):qp(this,this.T-e)},(nu=zp.prototype).K=function(){Gp(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},nu.L=function(){return Gp(this),this.a.concat()},nu.get=function(t,e){return Qp(this.b,t)?this.b[t]:e},nu.set=function(t,e){Qp(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},nu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Yp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xp(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Xp?(this.a=void 0!==e?e:t.a,Jp(this,t.f),this.j=t.j,Zp(this,t.c),td(this,t.h),this.g=t.g,e=t.b,(n=new fd).c=e.c,e.a&&(n.a=new zp(e.a),n.b=e.b),ed(this,n),this.i=t.i):t&&(n=String(t).match(Yp))?(this.a=!!e,Jp(this,n[1]||"",!0),this.j=id(n[2]||""),Zp(this,n[3]||"",!0),td(this,n[4]),this.g=id(n[5]||"",!0),ed(this,n[6]||"",!0),this.i=id(n[7]||"")):(this.a=!!e,this.b=new fd(null,this.a))}function $p(t){return new Xp(t)}function Jp(t,e,n){t.f=n?id(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zp(t,e,n){t.c=n?id(e,!0):e}function td(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ed(t,e,n){var r,i;e instanceof fd?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(pd(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(dd(this,e),vd(this,n,t))}),r)),r.f=i):(n||(e=od(e,ld)),t.b=new fd(e,t.a))}function nd(t,e,n){t.b.set(e,n)}function rd(t){return nd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Bh()).toString(36)),t}function id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function od(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xp.prototype.toString=function(){var t=[],e=this.f;e&&t.push(od(e,ad,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(od(e,ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(od(n,"/"==n.charAt(0)?cd:ud,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",od(n,hd)),t.join("")};var ad=/[#\/\?@]/g,ud=/[#\?:]/g,cd=/[#\?]/g,ld=/[#\?@]/g,hd=/#/g;function fd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pd(t){t.a||(t.a=new zp,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function dd(t,e){pd(t),e=yd(t,e),Qp(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qp((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gp(t)))}function gd(t,e){return pd(t),e=yd(t,e),Qp(t.a.b,e)}function vd(t,e,n){dd(t,e),0<n.length&&(t.c=null,t.a.set(yd(t,e),Qh(n)),t.b+=n.length)}function yd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function md(t,e){this.b=t,this.a=e}function bd(t){this.g=t||_d,t=Oh.PerformanceNavigationTiming?0<(t=Oh.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Oh.ia&&Oh.ia.ya&&Oh.ia.ya()&&Oh.ia.ya().pb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(nu=fd.prototype).add=function(t,e){pd(this),this.c=null,t=yd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},nu.forEach=function(t,e){pd(this),this.a.forEach((function(n,r){zh(n,(function(n){t.call(e,n,r,this)}),this)}),this)},nu.L=function(){pd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},nu.K=function(t){pd(this);var e=[];if("string"==typeof t)gd(this,t)&&(e=Gh(e,this.a.get(yd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Gh(e,t[n])}return e},nu.set=function(t,e){return pd(this),this.c=null,gd(this,t=yd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},nu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},nu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var _d=10;function wd(t){return t.b||t.a&&t.a.size>=t.f}function Ed(t){return t.b?1:t.a?t.a.size:0}function Td(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Id(t,e){t.a?t.a.add(e):t.b=e}function Sd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Cd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return Qh(t.c);var r=t.c;try{for(var i=kh(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ad(){}function Nd(){this.a=new Ad}function kd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}bd.prototype.cancel=function(){var t,e;if(this.c=Cd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=kh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ad.prototype.stringify=function(t){return Oh.JSON.stringify(t,void 0)},Ad.prototype.parse=function(t){return Oh.JSON.parse(t,void 0)};var xd=Oh.JSON.parse;function Od(t){Wf.call(this),this.headers=new zp,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Dd,this.D=this.F=!1}Hh(Od,Wf);var Dd="",Pd=/^https?$/i,Rd=["POST","PUT"];function Ld(t){return"content-type"==t.toLowerCase()}function Md(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fd(t),Ud(t)}function Fd(t){t.u||(t.u=!0,Kf(t,"complete"),Kf(t,"error"))}function jd(t){if(t.b&&void 0!==xh&&(!t.s[1]||4!=Vd(t)||2!=t.W()))if(t.l&&4==Vd(t))op(t.za,0,t);else if(Kf(t,"readystatechange"),4==Vd(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.B).match(Yp)[1]||null)&&Oh.self&&Oh.self.location&&(i=(r=Oh.self.location.protocol).substr(0,r.length-1)),n=!Pd.test(i?i.toLowerCase():"")),e=n),e)Kf(t,"complete"),Kf(t,"success");else{t.h=6;try{var a=2<Vd(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",Fd(t)}}finally{Ud(t)}}}function Ud(t,e){if(t.a){qd(t);var n=t.a,r=t.s[0]?Dh:null;t.a=null,t.s=null,e||Kf(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function qd(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Oh.clearTimeout(t.m),t.m=null)}function Vd(t){return t.a?t.a.readyState:0}function Bd(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",ef(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nd(t,e,n))}function Hd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wd(t){this.pa=0,this.g=[],this.c=new vp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Ma=this.R=0,this.Ja=Hd("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Fa=Hd("baseRetryDelayMs",5e3,t),this.Pa=Hd("retryDelaySeedMs",1e4,t),this.Ka=Hd("forwardChannelMaxRetries",2,t),this.ma=Hd("forwardChannelRequestTimeoutMs",2e4,t),this.La=t&&t.h||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new bd(t&&t.concurrentRequestLimit),this.ka=new Nd,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.g&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ia=t&&t.f||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kd(t){var e,n;Gd(t),3==t.v&&(e=t.R++,nd(n=$p(t.B),"SID",t.J),nd(n,"RID",e),nd(n,"TYPE","terminate"),$d(t,n),(e=new Dp(t,t.c,e,void 0)).H=2,e.i=rd($p(n)),n=!1,Oh.navigator&&Oh.navigator.sendBeacon&&(n=Oh.navigator.sendBeacon(e.i.toString(),"")),!n&&Oh.Image&&((new Image).src=e.i,n=!0),n||(e.a=cg(e.g,null),e.a.ba(e.i)),e.u=Bh(),Up(e)),ag(t)}function zd(t){t.a&&(eg(t),t.a.cancel(),t.a=null)}function Gd(t){zd(t),t.j&&(Oh.clearTimeout(t.j),t.j=null),rg(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Oh.clearTimeout(t.h),t.h=null)}function Qd(t,e){t.g.push(new md(t.Ma++,e)),3==t.v&&Yd(t)}function Yd(t){wd(t.b)||t.h||(t.h=!0,Zf(t.Ba,t),t.u=0)}function Xd(t,e){var n=e?e.f:t.R++,r=$p(t.B);nd(r,"SID",t.J),nd(r,"RID",n),nd(r,"AID",t.P),$d(t,r),t.i&&t.l&&Bd(r,t.i,t.l),n=new Dp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Jd(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Id(t.b,n),Mp(n,r,e)}function $d(t,e){t.f&&Kp({},(function(t,n){nd(e,n,t)}))}function Jd(t,e,n){n=Math.min(t.g.length,n);var r=t.f?qh(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,e,n){var r=n||"";try{Kp(t,(function(t,n){var i=t;Lh(t)&&(i=Gf(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zd(t){t.a||t.j||(t.T=1,Zf(t.Aa,t),t.o=0)}function tg(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Cp(qh(t.Aa,t),og(t,t.o)),t.o++,1)}function eg(t){null!=t.s&&(Oh.clearTimeout(t.s),t.s=null)}function ng(t){t.a=new Dp(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=$p(t.la);nd(e,"RID","rpc"),nd(e,"SID",t.J),nd(e,"CI",t.H?"0":"1"),nd(e,"AID",t.P),$d(t,e),nd(e,"TYPE","xmlhttp"),t.i&&t.l&&Bd(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=rd($p(e)),n.j=null,n.I=!0,Fp(n,t)}function rg(t){null!=t.m&&(Oh.clearTimeout(t.m),t.m=null)}function ig(t,e){var n,r=null;if(t.a==e){rg(t),eg(t),t.a=null;var i=2}else{if(!Td(t.b,e))return;r=e.s,Sd(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=Bh()-e.u,n=t.u,Kf(i=_p(),new Sp(i)),Yd(t)):Zd(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(Ed(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.Ja?0:t.Ka)))return t.h=Cp(qh(t.Ba,t,e),og(t,t.u)),t.u++,1}}(t,e)||2==i&&tg(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:sg(t,5);break;case 4:sg(t,10);break;case 3:sg(t,6);break;default:sg(t,2)}}function og(t,e){var n=t.Fa+Math.floor(Math.random()*t.Pa);return t.f||(n*=2),n*e}function sg(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=qh(t.Wa,t),r||(r=new Xp("//www.google.com/images/cleardot.gif"),Oh.location&&"http"==Oh.location.protocol||Jp(r,"https"),rd(r)),n=r.toString(),r=o,o=new vp,Oh.Image?((i=new Image).onload=Vh(kd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=Vh(kd,o,i,"TestLoadImage: error",!1,r),i.onabort=Vh(kd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=Vh(kd,o,i,"TestLoadImage: timeout",!1,r),Oh.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Ip(),t.v=0,t.f&&t.f.ra(e),ag(t),Gd(t)}function ag(t){t.v=0,t.I=-1,t.f&&(0==Cd(t.b).length&&0==t.g.length||(t.b.c.length=0,Qh(t.g),t.g.length=0),t.f.qa())}function ug(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Xp?$p(s):new Xp(s,void 0);return""!=u.c?(e&&Zp(u,e+"."+u.c),td(u,u.h)):(r=(a=Oh.location).protocol,i=e?e+"."+a.hostname:a.hostname,o=+a.port,s=n,a=new Xp(null,void 0),r&&Jp(a,r),i&&Zp(a,i),o&&td(a,o),s&&(a.g=s),u=a),t.V&&ef(t.V,(function(t,e){nd(u,e,t)})),n=t.na,(e=t.A)&&n&&nd(u,e,n),nd(u,"VER",t.ha),$d(t,u),u}function cg(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Od(t.La)).F=t.C,e}function lg(){}function hg(){if(cf&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function fg(t,e){Wf.call(this),this.a=new Wd(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Yh(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yh(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new gg(this)}function pg(t){kp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function dg(){xp.call(this),this.status=1}function gg(t){this.a=t}(nu=Od.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:mp),this.a.onreadystatechange=qh(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Md(this,t)}t=n||"";var i,o=new zp(this.headers);r&&Kp(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=Ld,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=Oh.FormData&&t instanceof Oh.FormData,0<=Kh(Rd,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qd(this),0<this.o&&((this.D=(i=this.a,cf&&mf(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=qh(this.xa,this)):this.m=op(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Md(this,t)}},nu.xa=function(){void 0!==xh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Kf(this,"timeout"),this.abort(8))},nu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Kf(this,"complete"),Kf(this,"abort"),Ud(this))},nu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ud(this,!0)),Od.X.G.call(this)},nu.za=function(){this.j||(this.A||this.l||this.g?jd(this):this.Sa())},nu.Sa=function(){jd(this)},nu.W=function(){try{return 2<Vd(this)?this.a.status:-1}catch(n){return-1}},nu.$=function(){try{return this.a?this.a.responseText:""}catch(n){return""}},nu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xd(e)}},nu.ua=function(){return this.h},nu.Oa=function(){return"string"==typeof this.f?this.f:String(this.f)},(nu=Wd.prototype).ha=8,nu.v=1,nu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Dp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?of(r=nf(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Jd(this,n,e),nd(i=$p(this.B),"RID",t),nd(i,"CVER",22),this.A&&nd(i,"X-HTTP-Session-Id",this.A),$d(this,i),this.i&&r&&Bd(i,this.i,r),Id(this.b,n),this.Ga&&nd(i,"TYPE","init"),this.da?(nd(i,"$req",e),nd(i,"SID","null"),n.U=!0,Mp(n,i,null)):Mp(n,i,e),this.v=2}}else 3==this.v&&(t?Xd(this,t):0==this.g.length||wd(this.b)||Xd(this))},nu.Aa=function(){var t;this.j=null,ng(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(this.c.info("BP detection timer enabled: "+(t=2*this.N)),this.s=Cp(qh(this.Ra,this),t))},nu.Ra=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ip(),zd(this),ng(this))},nu.Qa=function(){null!=this.m&&(this.m=null,zd(this),tg(this),Ip())},nu.Wa=function(t){t?(this.c.info("Successfully pinged google.com"),Ip()):(this.c.info("Failed to ping google.com"),Ip())},(nu=lg.prototype).ta=function(){},nu.sa=function(){},nu.ra=function(){},nu.qa=function(){},nu.Ha=function(){},hg.prototype.a=function(t,e){return new fg(t,e)},Hh(fg,Wf),fg.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ip(),t.fa=e,t.V=n||{},t.H=t.S,t.B=ug(t,null,t.fa),Yd(t)},fg.prototype.close=function(){Kd(this.a)},fg.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,Qd(this.a,e)):this.l?((e={}).__data__=Gf(t),Qd(this.a,e)):Qd(this.a,t)},fg.prototype.G=function(){this.a.f=null,delete this.f,Kd(this.a),delete this.a,fg.X.G.call(this)},Hh(pg,kp),Hh(dg,xp),Hh(gg,lg),gg.prototype.ta=function(){Kf(this.a,"a")},gg.prototype.sa=function(t){Kf(this.a,new pg(t))},gg.prototype.ra=function(t){Kf(this.a,new dg)},gg.prototype.qa=function(){Kf(this.a,"b")},hg.prototype.createWebChannel=hg.prototype.a,fg.prototype.send=fg.prototype.h,fg.prototype.open=fg.prototype.g,W.NO_ERROR=0,W.TIMEOUT=8,W.HTTP_ERROR=6,Dr.COMPLETE="complete",(Np.EventType=L).OPEN="a",L.CLOSE="b",L.ERROR="c",L.MESSAGE="d",Wf.prototype.listen=Wf.prototype.va,Od.prototype.listenOnce=Od.prototype.wa,Od.prototype.getLastError=Od.prototype.Oa,Od.prototype.getLastErrorCode=Od.prototype.ua,Od.prototype.getStatus=Od.prototype.W,Od.prototype.getResponseJson=Od.prototype.Na,Od.prototype.getResponseText=Od.prototype.$,Od.prototype.send=Od.prototype.ba;var vg,yg=W,mg=Dr,bg=Np,_g=Od,wg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eg=(po(Ig,vg=Error),Ig),Tg=new Ts("@firebase/firestore");function Ig(t,e){var n=this;return(n=vg.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Sg(){return Tg.logLevel}function Cg(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Tg.logLevel<=ys.DEBUG&&(e=n.map(kg),Tg.debug.apply(Tg,wo(["Firestore (8.0.1): "+t],e)))}function Ag(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Tg.logLevel<=ys.ERROR&&(e=n.map(kg),Tg.error.apply(Tg,wo(["Firestore (8.0.1): "+t],e)))}function Ng(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Tg.logLevel<=ys.WARN&&(e=n.map(kg),Tg.warn.apply(Tg,wo(["Firestore (8.0.1): "+t],e)))}function kg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function xg(t){throw void 0===t&&(t="Unexpected state"),Ag(t="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function Og(t){t||xg()}var Dg=(Pg.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Pg);function Pg(){}function Rg(t,e){return t<e?-1:e<t?1:0}function Lg(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Mg(t){return t+"\0"}var Fg=(jg.fromBase64String=function(t){return new jg(atob(t))},jg.fromUint8Array=function(t){return new jg(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},jg.prototype.toBase64=function(){return btoa(this.i)},jg.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},jg.prototype.o=function(){return 2*this.i.length},jg.prototype.u=function(t){return Rg(this.i,t.i)},jg.prototype.isEqual=function(t){return this.i===t.i},jg);function jg(t){this.i=t}Fg.h=new Fg("");var Ug=(qg.fromBase64String=function(t){try{return new qg(Fg.fromBase64String(t))}catch(t){throw new Eg(wg.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},qg.fromUint8Array=function(t){return new qg(Fg.fromUint8Array(t))},qg.prototype.toBase64=function(){return this.l.toBase64()},qg.prototype.toUint8Array=function(){return this.l.toUint8Array()},qg.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},qg.prototype.isEqual=function(t){return this.l.isEqual(t.l)},qg);function qg(t){this.l=t}function Vg(){if("undefined"==typeof Uint8Array)throw new Eg(wg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bg(){if("undefined"==typeof atob)throw new Eg(wg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hg,Wg=(po(Qg,Hg=Ug),Qg.fromBase64String=function(t){Bg();try{return new Qg(Fg.fromBase64String(t))}catch(t){throw new Eg(wg.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Qg.fromUint8Array=function(t){return Vg(),new Qg(Fg.fromUint8Array(t))},Qg.prototype.toBase64=function(){return Bg(),Hg.prototype.toBase64.call(this)},Qg.prototype.toUint8Array=function(){return Vg(),Hg.prototype.toUint8Array.call(this)},Qg.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Qg),Kg=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},zg=(Object.defineProperty(Gg.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Gg.prototype.isEqual=function(t){return t instanceof Gg&&t.projectId===this.projectId&&t.database===this.database},Gg.prototype.u=function(t){return Rg(this.projectId,t.projectId)||Rg(this.database,t.database)},Gg);function Gg(t,e){this.projectId=t,this.database=e||"(default)"}function Qg(){return null!==Hg&&Hg.apply(this,arguments)||this}function Yg(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Xg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $g(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Jg,Zg,tv=(pv.prototype.get=function(t){var e=this.m(t);if(void 0!==(e=this.R[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.A(i,t))return o}},pv.prototype.has=function(t){return void 0!==this.get(t)},pv.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},pv.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},pv.prototype.forEach=function(t){Xg(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o;t((o=i[r])[0],o=o[1])}}))},pv.prototype.P=function(){return $g(this.R)},pv),ev=(fv.now=function(){return fv.fromMillis(Date.now())},fv.fromDate=function(t){return fv.fromMillis(t.getTime())},fv.fromMillis=function(t){var e=Math.floor(t/1e3);return new fv(e,1e6*(t-1e3*e))},fv.prototype.toDate=function(){return new Date(this.toMillis())},fv.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},fv.prototype.g=function(t){return this.seconds===t.seconds?Rg(this.nanoseconds,t.nanoseconds):Rg(this.seconds,t.seconds)},fv.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},fv.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},fv.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},fv.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},fv),nv=(hv.V=function(t){return new hv(t)},hv.min=function(){return new hv(new ev(0,0))},hv.prototype.u=function(t){return this.timestamp.g(t.timestamp)},hv.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},hv.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},hv.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},hv.prototype.v=function(){return this.timestamp},hv),rv=(Object.defineProperty(lv.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),lv.prototype.isEqual=function(t){return 0===lv.D(this,t)},lv.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof lv?t.forEach((function(t){e.push(t)})):e.push(t),this.C(e)},lv.prototype.limit=function(){return this.offset+this.length},lv.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},lv.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},lv.prototype.O=function(){return this.segments[this.offset]},lv.prototype.k=function(){return this.get(this.length-1)},lv.prototype.get=function(t){return this.segments[this.offset+t]},lv.prototype.P=function(){return 0===this.length},lv.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},lv.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},lv.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},lv.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},lv.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},po(cv,Zg=L=lv),cv.prototype.C=function(t,e,n){return new cv(t,e,n)},cv.prototype.B=function(){return this.L().join("/")},cv.prototype.toString=function(){return this.B()},cv.q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Eg(wg.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new cv(n)},cv.U=function(){return new cv([])},cv),iv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ov=(po(uv,Jg=L),uv.prototype.C=function(t,e,n){return new uv(t,e,n)},uv.K=function(t){return iv.test(t)},uv.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),uv.K(t)||(t="`"+t+"`"),t})).join(".")},uv.prototype.toString=function(){return this.B()},uv.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},uv.j=function(){return new uv(["__name__"])},uv.G=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Eg(wg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Eg(wg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Eg(wg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new uv(e)},uv.U=function(){return new uv([])},uv),sv=(av.H=function(t){return new av(rv.q(t))},av.Y=function(t){return new av(rv.q(t).N(5))},av.prototype.J=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},av.prototype.isEqual=function(t){return null!==t&&0===rv.D(this.path,t.path)},av.prototype.toString=function(){return this.path.toString()},av.D=function(t,e){return rv.D(t.path,e.path)},av.X=function(t){return t.length%2==0},av.Z=function(t){return new av(new rv(t.slice()))},av);function av(t){this.path=t}function uv(){return null!==Jg&&Jg.apply(this,arguments)||this}function cv(){return null!==Zg&&Zg.apply(this,arguments)||this}function lv(t,e,n){void 0===e?e=0:e>t.length&&xg(),void 0===n?n=t.length-e:n>t.length-e&&xg(),this.segments=t,this.offset=e,this.S=n}function hv(t){this.timestamp=t}function fv(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function pv(t,e){this.m=t,this.A=e,this.R={}}function dv(t){return null==t}function gv(t){return 0===t&&1/t==-1/0}function vv(t){return"number"==typeof t&&Number.isInteger(t)&&!gv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yv=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function mv(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new yv(t,e,n,r,i,o,s)}function bv(t){var e=t;return null===e.tt&&(t=e.path.B(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return(t=t).field.B()+t.op.toString()+my(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return(t=t).field.B()+t.dir})).join(","),dv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Xb(e.startAt)),e.endAt&&(t+="|ub:",t+=Xb(e.endAt)),e.tt=t),e.tt}function _v(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if((n=t.orderBy[i]).dir!==(r=e.orderBy[i]).dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if((o=t.filters[a]).op!==(s=e.filters[a]).op||!o.field.isEqual(s.field)||!dy(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jb(t.startAt,e.startAt)&&Jb(t.endAt,e.endAt)}function wv(t){return sv.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Ev(t){this.count=t}var Tv,Iv=(Sv.prototype.st=function(t){return new Sv(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Sv.prototype.it=function(t,e){return new Sv(this.target,this.targetId,this.et,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Sv.prototype.rt=function(t){return new Sv(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},Sv);function Sv(t,e,n,r,i,o,s){void 0===i&&(i=nv.min()),void 0===o&&(o=nv.min()),void 0===s&&(s=Fg.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Cv(t){switch(t){case wg.OK:return xg(),0;case wg.CANCELLED:case wg.UNKNOWN:case wg.DEADLINE_EXCEEDED:case wg.RESOURCE_EXHAUSTED:case wg.INTERNAL:case wg.UNAVAILABLE:case wg.UNAUTHENTICATED:return;case wg.INVALID_ARGUMENT:case wg.NOT_FOUND:case wg.ALREADY_EXISTS:case wg.PERMISSION_DENIED:case wg.FAILED_PRECONDITION:case wg.ABORTED:case wg.OUT_OF_RANGE:case wg.UNIMPLEMENTED:case wg.DATA_LOSS:return 1;default:return xg(),0}}function Av(t){if(void 0===t)return Ag("GRPC error has no .code"),wg.UNKNOWN;switch(t){case Tv.OK:return wg.OK;case Tv.CANCELLED:return wg.CANCELLED;case Tv.UNKNOWN:return wg.UNKNOWN;case Tv.DEADLINE_EXCEEDED:return wg.DEADLINE_EXCEEDED;case Tv.RESOURCE_EXHAUSTED:return wg.RESOURCE_EXHAUSTED;case Tv.INTERNAL:return wg.INTERNAL;case Tv.UNAVAILABLE:return wg.UNAVAILABLE;case Tv.UNAUTHENTICATED:return wg.UNAUTHENTICATED;case Tv.INVALID_ARGUMENT:return wg.INVALID_ARGUMENT;case Tv.NOT_FOUND:return wg.NOT_FOUND;case Tv.ALREADY_EXISTS:return wg.ALREADY_EXISTS;case Tv.PERMISSION_DENIED:return wg.PERMISSION_DENIED;case Tv.FAILED_PRECONDITION:return wg.FAILED_PRECONDITION;case Tv.ABORTED:return wg.ABORTED;case Tv.OUT_OF_RANGE:return wg.OUT_OF_RANGE;case Tv.UNIMPLEMENTED:return wg.UNIMPLEMENTED;case Tv.DATA_LOSS:return wg.DATA_LOSS;default:return xg()}}(W=Tv=Tv||{})[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";var Nv=(Pv.prototype.ot=function(t,e){return new Pv(this.D,this.root.ot(t,e,this.D).copy(null,null,xv.at,null,null))},Pv.prototype.remove=function(t){return new Pv(this.D,this.root.remove(t,this.D).copy(null,null,xv.at,null,null))},Pv.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Pv.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Pv.prototype.P=function(){return this.root.P()},Object.defineProperty(Pv.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Pv.prototype.ct=function(){return this.root.ct()},Pv.prototype.ut=function(){return this.root.ut()},Pv.prototype.ht=function(t){return this.root.ht(t)},Pv.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},Pv.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Pv.prototype.lt=function(t){return this.root.lt(t)},Pv.prototype._t=function(){return new kv(this.root,null,this.D,!1)},Pv.prototype.ft=function(t){return new kv(this.root,t,this.D,!1)},Pv.prototype.dt=function(){return new kv(this.root,null,this.D,!0)},Pv.prototype.wt=function(t){return new kv(this.root,t,this.D,!0)},Pv),kv=(Dv.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},Dv.prototype.At=function(){return 0<this.Tt.length},Dv.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},Dv),xv=(Ov.prototype.copy=function(t,e,n,r,i){return new Ov(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Ov.prototype.P=function(){return!1},Ov.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},Ov.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},Ov.prototype.min=function(){return this.left.P()?this:this.left.min()},Ov.prototype.ct=function(){return this.min().key},Ov.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},Ov.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},Ov.prototype.gt=function(){if(this.left.P())return Ov.EMPTY;var t=this;return t.left.yt()||t.left.left.yt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.gt(),null)).Pt()},Ov.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.P()||r.left.yt()||r.left.left.yt()||(r=r.Vt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.yt()&&(r=r.bt()),r.right.P()||r.right.yt()||r.right.left.yt()||(r=r.vt()),0===e(t,r.key)){if(r.right.P())return Ov.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.gt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Pt()},Ov.prototype.yt=function(){return this.color},Ov.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},Ov.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},Ov.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},Ov.prototype.St=function(){var t=this.copy(null,null,Ov.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Ov.prototype.bt=function(){var t=this.copy(null,null,Ov.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Ov.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Ov.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},Ov.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw xg();if(this.right.yt())throw xg();var t=this.left.Nt();if(t!==this.right.Nt())throw xg();return t+(this.yt()?0:1)},Ov);function Ov(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ov.RED,this.left=null!=r?r:Ov.EMPTY,this.right=null!=i?i:Ov.EMPTY,this.size=this.left.size+1+this.right.size}function Dv(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}function Pv(t,e){this.D=t,this.root=e||xv.EMPTY}function Rv(){this.size=0}xv.EMPTY=null,xv.RED=!0,xv.at=!1,xv.EMPTY=(Object.defineProperty(Rv.prototype,"key",{get:function(){throw xg()},enumerable:!1,configurable:!0}),Object.defineProperty(Rv.prototype,"value",{get:function(){throw xg()},enumerable:!1,configurable:!0}),Object.defineProperty(Rv.prototype,"color",{get:function(){throw xg()},enumerable:!1,configurable:!0}),Object.defineProperty(Rv.prototype,"left",{get:function(){throw xg()},enumerable:!1,configurable:!0}),Object.defineProperty(Rv.prototype,"right",{get:function(){throw xg()},enumerable:!1,configurable:!0}),Rv.prototype.copy=function(t,e,n,r,i){return this},Rv.prototype.ot=function(t,e,n){return new xv(t,e)},Rv.prototype.remove=function(t,e){return this},Rv.prototype.P=function(){return!0},Rv.prototype.ht=function(t){return!1},Rv.prototype.lt=function(t){return!1},Rv.prototype.ct=function(){return null},Rv.prototype.ut=function(){return null},Rv.prototype.yt=function(){return!1},Rv.prototype.Ct=function(){return!0},Rv.prototype.Nt=function(){return 0},new Rv);var Lv=(Uv.prototype.has=function(t){return null!==this.data.get(t)},Uv.prototype.first=function(){return this.data.ct()},Uv.prototype.last=function(){return this.data.ut()},Object.defineProperty(Uv.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Uv.prototype.indexOf=function(t){return this.data.indexOf(t)},Uv.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},Uv.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(0<=this.D(r.key,t[1]))return;e(r.key)}},Uv.prototype.Ft=function(t,e){for(var n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},Uv.prototype.Ot=function(t){return(t=this.data.ft(t)).At()?t.It().key:null},Uv.prototype._t=function(){return new Mv(this.data._t())},Uv.prototype.ft=function(t){return new Mv(this.data.ft(t))},Uv.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},Uv.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Uv.prototype.P=function(){return this.data.P()},Uv.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},Uv.prototype.isEqual=function(t){if(!(t instanceof Uv))return!1;if(this.size!==t.size)return!1;for(var e=this.data._t(),n=t.data._t();e.At();){var r=e.It().key,i=n.It().key;if(0!==this.D(r,i))return!1}return!0},Uv.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},Uv.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},Uv.prototype.copy=function(t){var e=new Uv(this.D);return e.data=t,e},Uv),Mv=(jv.prototype.It=function(){return this.Mt.It().key},jv.prototype.At=function(){return this.Mt.At()},jv),Fv=new Nv(sv.D);function jv(t){this.Mt=t}function Uv(t){this.D=t,this.data=new Nv(this.D)}var qv=new Nv(sv.D),Vv=new Nv(sv.D),Bv=new Lv(sv.D);function Hv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Bv,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wv=new Lv(Rg),Kv=(ay.Bt=function(t){return new ay(t.D)},ay.prototype.has=function(t){return null!=this.$t.get(t)},ay.prototype.get=function(t){return this.$t.get(t)},ay.prototype.first=function(){return this.Lt.ct()},ay.prototype.last=function(){return this.Lt.ut()},ay.prototype.P=function(){return this.Lt.P()},ay.prototype.indexOf=function(t){return(t=this.$t.get(t))?this.Lt.indexOf(t):-1},Object.defineProperty(ay.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),ay.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},ay.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},ay.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},ay.prototype.isEqual=function(t){if(!(t instanceof ay))return!1;if(this.size!==t.size)return!1;for(var e=this.Lt._t(),n=t.Lt._t();e.At();){var r=e.It().key,i=n.It().key;if(!r.isEqual(i))return!1}return!0},ay.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},ay.prototype.copy=function(t,e){var n=new ay;return n.D=this.D,n.$t=t,n.Lt=e,n},ay),zv=(sy.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);!n||0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):xg()},sy.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},sy),Gv=(oy.Gt=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new oy(t,e,Kv.Bt(e),i,n,r,!0,!1)},Object.defineProperty(oy.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),oy.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&bb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},oy),Qv=(iy.Xt=function(t,e){var n=new Map;return n.set(t,Yv.Zt(t,e)),new iy(nv.min(),n,Wv,Fv,Hv())},iy),Yv=(ry.Zt=function(t,e){return new ry(Fg.h,e,Hv(),Hv(),Hv())},ry),Xv=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},$v=function(t,e){this.targetId=t,this.oe=e},Jv=function(t,e,n,r){void 0===n&&(n=Fg.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Zv=(Object.defineProperty(ny.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),ny.prototype.de=function(t){0<t.o()&&(this.le=!0,this.ue=t)},ny.prototype.we=function(){var t=Hv(),e=Hv(),n=Hv();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xg()}})),new Yv(this.ue,this.he,t,e,n)},ny.prototype.Ee=function(){this.le=!1,this.ce=cy()},ny.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},ny.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},ny.prototype.me=function(){this.ae+=1},ny.prototype.Ae=function(){--this.ae},ny.prototype.Re=function(){this.le=!0,this.he=!0},ny),ty=(ey.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof tb?this.ve(r,t.re):t.re instanceof eb&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},ey.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:xg()}}))},ey.prototype.Ce=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},ey.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count;(t=this.ke(e))&&(wv(t=t.target)?0===n?(t=new sv(t.path),this.Se(e,t,new eb(t,nv.min()))):Og(1===n):this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e)))},ey.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var o=e.ke(i);o&&(r.te&&wv(o.target)&&(o=new sv(o.target.path),null!==e.ye.get(o)||e.Le(i,o)||e.Se(i,o,new eb(o,t))),r.fe&&(n.set(i,r.we()),r.Ee()))}));var r=Hv();this.Ve.forEach((function(t,n){var i=!0;n.Ft((function(t){return!(t=e.ke(t))||2===t.et||(i=!1)})),i&&(r=r.add(t))}));var i=new Qv(t,n,this.pe,this.ye,r);return this.ye=Fv,this.Ve=uy(),this.pe=new Lv(Rg),i},ey.prototype.ve=function(t,e){var n;this.xe(t)&&(n=this.Le(t,e.key)?2:0,this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t)))},ey.prototype.Se=function(t,e,n){var r;this.xe(t)&&(r=this.Ne(t),this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n)))},ey.prototype.removeTarget=function(t){this.ge.delete(t)},ey.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},ey.prototype.me=function(t){this.Ne(t).me()},ey.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Zv,this.ge.set(t,e)),e},ey.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new Lv(Rg),this.Ve=this.Ve.ot(t,e)),e},ey.prototype.xe=function(t){var e=null!==this.ke(t);return e||Cg("WatchChangeAggregator","Detected inactive target",t),e},ey.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},ey.prototype.Fe=function(t){var e=this;this.ge.set(t,new Zv),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},ey.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},ey);function ey(t){this.Pe=t,this.ge=new Map,this.ye=Fv,this.Ve=uy(),this.pe=new Lv(Rg)}function ny(){this.ae=0,this.ce=cy(),this.ue=Fg.h,this.he=!1,this.le=!0}function ry(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}function iy(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}function oy(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}function sy(){this.qt=new Nv(sv.D)}function ay(t){this.D=t?function(e,n){return t(e,n)||sv.D(e.key,n.key)}:function(t,e){return sv.D(t.key,e.key)},this.$t=qv,this.Lt=new Nv(this.D)}function uy(){return new Nv(sv.D)}function cy(){return new Nv(sv.D)}function ly(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hy(t){return t=by(t.mapValue.fields.__local_write_time__.timestampValue),new ev(t.seconds,t.nanos)}var fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function py(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:10:xg()}function dy(t,e){var n,r=py(t);if(r!==py(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hy(t).isEqual(hy(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=by(t.timestampValue);return e=by(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,wy(t.bytesValue).isEqual(wy(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,_y((n=t).geoPointValue.latitude)===_y(r.geoPointValue.latitude)&&_y(n.geoPointValue.longitude)===_y(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?_y(t.integerValue)===_y(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=_y(t.doubleValue))===(e=_y(e.doubleValue))?gv(t)===gv(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return Lg(t.arrayValue.values||[],e.arrayValue.values||[],dy);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Yg(r)!==Yg(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!dy(r[n],i[n])))return!1;return!0}();default:return xg()}}function gy(t,e){return void 0!==(t.values||[]).find((function(t){return dy(t,e)}))}function vy(t,e){var n,r,i=py(t),o=py(e);if(i!==o)return Rg(i,o);switch(i){case 0:return 0;case 1:return Rg(t.booleanValue,e.booleanValue);case 2:return n=e,(r=_y(t.integerValue||t.doubleValue))<(n=_y(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return yy(t.timestampValue,e.timestampValue);case 4:return yy(hy(t),hy(e));case 5:return Rg(t.stringValue,e.stringValue);case 6:return function(t,e){return t=wy(t),e=wy(e),t.u(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Rg(n[i],r[i]);if(0!==o)return o}return Rg(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return r=e.geoPointValue,0!==(n=Rg(_y((i=t.geoPointValue).latitude),_y(r.latitude)))?n:Rg(_y(i.longitude),_y(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=vy(n[i],r[i]);if(o)return o}return Rg(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Rg(r[s],o[s]);if(0!==a)return a;if(0!==(a=vy(n[r[s]],i[o[s]])))return a}return Rg(r.length,o.length)}(t.mapValue,e.mapValue);default:throw xg()}}function yy(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Rg(t,e);var n=by(t);return t=by(e),0!==(e=Rg(n.seconds,t.seconds))?e:Rg(n.nanos,t.nanos)}function my(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=by(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wy(e.bytesValue).toBase64():"referenceValue"in e?sv.Y(n=e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):xg();var n}(t)}function by(t){if(Og(!!t),"string"!=typeof t)return{seconds:_y(t.seconds),nanos:_y(t.nanos)};var e=0,n=fy.exec(t);return Og(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function _y(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wy(t){return"string"==typeof t?Fg.fromBase64String(t):Fg.fromUint8Array(t)}function Ey(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Ty(t){return t&&"integerValue"in t}function Iy(t){return!!t&&"arrayValue"in t}function Sy(t){return t&&"nullValue"in t}function Cy(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ay(t){return t&&"mapValue"in t}var Ny={asc:"ASCENDING",desc:"DESCENDING"},ky={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xy=function(t,e){this._=t,this.Ke=e};function Oy(t){return{integerValue:""+t}}function Dy(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gv(e)?"-0":e}}function Py(t,e){return vv(e)?Oy(e):Dy(t,e)}function Ry(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ly(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function My(t){return Og(!!t),nv.V((t=by(t),new ev(t.seconds,t.nanos)))}function Fy(t,e){return new rv(["projects",t.projectId,"databases",t.database]).child("documents").child(e).B()}function jy(t){return Og(em(t=rv.q(t))),t}function Uy(t,e){return Fy(t._,e.path)}function qy(t,e){return Og((e=jy(e)).get(1)===t._.projectId),Og(!e.get(3)&&!t._.database||e.get(3)===t._.database),new sv(Wy(e))}function Vy(t,e){return Fy(t._,e)}function By(t){return 4===(t=jy(t)).length?rv.U():Wy(t)}function Hy(t){return new rv(["projects",t._.projectId,"databases",t._.database]).B()}function Wy(t){return Og(4<t.length&&"documents"===t.get(4)),t.N(5)}function Ky(t,e,n){return{name:Uy(t,e),fields:n.proto.mapValue.fields}}function zy(t,e){var n,r,i;if(e instanceof Dm)n={update:Ky(t,e.key,e.value)};else if(e instanceof Hm)n={delete:Uy(t,e.key)};else if(e instanceof Pm)n={update:Ky(t,e.key,e.data),updateMask:(i=e.Qe,r=[],i.fields.forEach((function(t){return r.push(t.B())})),{fieldPaths:r})};else if(e instanceof jm)n={transform:{document:Uy(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof om)return{fieldPath:t.field.B(),setToServerValue:"REQUEST_TIME"};if(e instanceof sm)return{fieldPath:t.field.B(),appendMissingElements:{values:e.elements}};if(e instanceof hm)return{fieldPath:t.field.B(),removeAllFromArray:{values:e.elements}};if(e instanceof gm)return{fieldPath:t.field.B(),increment:e.We};throw xg()}))}};else{if(!(e instanceof Wm))return xg();n={verify:Uy(t,e.key)}}return e.Ge.je||(n.currentDocument=void 0!==(i=e.Ge).updateTime?{updateTime:(e=t,t=i.updateTime,Ry(e,t.v()))}:void 0!==i.exists?{exists:i.exists}:xg()),n}function Gy(t,e){var n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Tm.updateTime(My(o.updateTime)):void 0!==o.exists?Tm.exists(o.exists):Tm.ze():Tm.ze();if(e.update){var r=qy(t,e.update.name),i=new Km({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=new bm((o=e.updateMask.fieldPaths||[]).map((function(t){return ov.G(t)})));return new Pm(r,i,o,n)}return new Dm(r,i,n)}if(e.delete){var s=qy(t,e.delete);return new Hm(s,n)}return e.transform?(i=qy(t,e.transform.document),s=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;return"setToServerValue"in e?(Og("REQUEST_TIME"===e.setToServerValue),n=new om):"appendMissingElements"in e?n=new sm(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new hm(e.removeAllFromArray.values||[]):"increment"in e?n=new gm(t,e.increment):xg(),e=ov.G(e.fieldPath),new _m(e,n)}(t,e)})),Og(!0===n.exists),new jm(i,s)):e.verify?(e=qy(t,e.verify),new Wm(e,n)):xg()}function Qy(t,e){return{documents:[Vy(t,e.path)]}}function Yy(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=Vy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vy(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map((function(t){if("=="===t.op){if(Cy(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NAN"}};if(Sy(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Cy(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NAN"}};if(Sy(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jy(t.field),op:(e=t.op,ky[e]),value:t.value}};var e}))).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map((function(t){return{field:Jy((t=t).field),direction:(t=t.dir,Ny[t])}}))}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.Ke||dv(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Xy(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xy(e.endAt)),n}function Xy(t){return{before:t.before,values:t.position}}function $y(t){var e=!!t.before;return new Kb(t=t.values||[],e)}function Jy(t){return{fieldPath:t.B()}}function Zy(t){return ov.G(t.fieldPath)}function tm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Zy(t.unaryFilter.field);return Sb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Zy(t.unaryFilter.field);return Sb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=Zy(t.unaryFilter.field),Sb.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=Zy(t.unaryFilter.field),Sb.create(t,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xg()}}function em(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function nm(t,e){return t instanceof gm?Ty(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var rm,im,om=(po(um,im=Dr=function(){this.He=void 0}),um),sm=(po(am,rm=Dr),am);function am(t){var e=this;return(e=rm.call(this)||this).elements=t,e}function um(){return null!==im&&im.apply(this,arguments)||this}function cm(t,e){for(var n=mm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return dy(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var lm,hm=(po(fm,lm=Dr),fm);function fm(t){var e=this;return(e=lm.call(this)||this).elements=t,e}function pm(t,e){for(var n=mm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!dy(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var dm,gm=(po(vm,dm=Dr),vm);function vm(t,e){var n=this;return(n=dm.call(this)||this).serializer=t,n.We=e,n}function ym(t){return _y(t.integerValue||t.doubleValue)}function mm(t){return Iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bm=(wm.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},wm.prototype.isEqual=function(t){return Lg(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},wm),_m=function(t,e){this.field=t,this.transform=e};function wm(t){(this.fields=t).sort(ov.D)}function Em(t,e){this.version=t,this.transformResults=e}var Tm=(Im.ze=function(){return new Im},Im.exists=function(t){return new Im(void 0,t)},Im.updateTime=function(t){return new Im(t)},Object.defineProperty(Im.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Im.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Im);function Im(t,e){this.updateTime=t,this.exists=e}function Sm(t,e){return void 0!==t.updateTime?e instanceof tb&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof tb}function Cm(t,e,n){return t instanceof Dm?new tb(t.key,n.version,t.value,{hasCommittedMutations:!0}):t instanceof Pm?function(t,e,n){return Sm(t.Ge,e)?(e=Mm(t,e),new tb(t.key,n.version,e,{hasCommittedMutations:!0})):new nb(t.key,n.version)}(t,e,n):t instanceof jm?function(t,e,n){if(Og(null!=n.transformResults),!Sm(t.Ge,e))return new nb(t.key,n.version);var r=e;return e=function(t,e,n){var r=[];Og(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof tb&&(a=e.field(o.field)),r.push((o=s,s=a,a=n[i],o instanceof sm?cm(o,s):o instanceof hm?pm(o,s):a))}return r}(t.fieldTransforms,e,n.transformResults),n=n.version,e=qm(t,r.data(),e),new tb(t.key,n,e,{hasCommittedMutations:!0})}(t,e,n):new eb(t.key,n.version,{hasCommittedMutations:!0})}function Am(t,e,n,r){return t instanceof Dm?function(t,e){return Sm(t.Ge,e)?(e=km(e),new tb(t.key,e,t.value,{Je:!0})):e}(t,e):t instanceof Pm?function(t,e){if(!Sm(t.Ge,e))return e;var n=km(e);return e=Mm(t,e),new tb(t.key,n,e,{Je:!0})}(t,e):t instanceof jm?function(t,e,n,r){if(!Sm(t.Ge,e))return e;var i=e;return r=function(t,e,n,r){for(var i,o=[],s=0,a=t;s<a.length;s++){var u=a[s],c=u.transform,l=null;n instanceof tb&&(l=n.field(u.field)),null===l&&r instanceof tb&&(l=r.field(u.field)),o.push((i=l,u=e,l=void 0,(c=c)instanceof om?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(l.fields.__previous_value__=i),{mapValue:l}):c instanceof sm?cm(c,i):c instanceof hm?pm(c,i):(i=ym(c=nm(l=c,i))+ym(l.We),Ty(c)&&Ty(l.We)?Oy(i):Dy(l.serializer,i))))}return o}(t.fieldTransforms,n,e,r),r=qm(t,i.data(),r),new tb(t.key,i.version,r,{Je:!0})}(t,e,r,n):Sm((t=t).Ge,e=e)?new eb(t.key,nv.min()):e}function Nm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Lg(t.fieldTransforms,t.fieldTransforms,(function(t,e){return(t=t).field.isEqual((e=e).field)&&(e=e.transform,(t=t.transform)instanceof sm&&e instanceof sm||t instanceof hm&&e instanceof hm?Lg(t.elements,e.elements,dy):t instanceof gm&&e instanceof gm?dy(t.We,e.We):t instanceof om&&e instanceof om)})))}function km(t){return t instanceof tb?t.version:nv.min()}var xm,Om,Dm=(po(Lm,Om=L=function(){}),Lm),Pm=(po(Rm,xm=L),Rm);function Rm(t,e,n,r){var i=this;return(i=xm.call(this)||this).key=t,i.data=e,i.Qe=n,i.Ge=r,i.type=1,i}function Lm(t,e,n){var r=this;return(r=Om.call(this)||this).key=t,r.value=e,r.Ge=n,r.type=0,r}function Mm(t,e){return n=t,e=e instanceof tb?e.data():Km.empty(),r=new zm(e),n.Qe.fields.forEach((function(t){var e;t.P()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))})),r.Xe();var n,r}var Fm,jm=(po(Um,Fm=L),Um);function Um(t,e){var n=this;return(n=Fm.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ge=Tm.exists(!0),n}function qm(t,e,n){for(var r=new zm(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Vm,Bm,Hm=(po(Xm,Bm=L),Xm),Wm=(po(Ym,Vm=L),Ym),Km=(Qm.empty=function(){return new Qm({mapValue:{}})},Qm.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ay(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},Qm.prototype.isEqual=function(t){return dy(this.proto,t.proto)},Qm),zm=(Gm.prototype.set=function(t,e){return this.en(t,e),this},Gm.prototype.delete=function(t){return this.en(t,null),this},Gm.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===py(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.k(),e)},Gm.prototype.Xe=function(){var t=this.nn(ov.U(),this.tn);return null!=t?new Km(t):this.Ze},Gm.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Ay(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var s;e instanceof Map?null!=(s=n.nn(t.child(i),e))&&(o[i]=s,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Gm);function Gm(t){void 0===t&&(t=Km.empty()),this.Ze=t,this.tn=new Map}function Qm(t){this.proto=t}function Ym(t,e){var n=this;return(n=Vm.call(this)||this).key=t,n.Ge=e,n.type=4,n}function Xm(t,e){var n=this;return(n=Bm.call(this)||this).key=t,n.Ge=e,n.type=3,n}var $m,Jm,Zm,tb=(po(sb,Zm=W=function(t,e){this.key=t,this.version=e}),sb.prototype.field=function(t){return this.sn.field(t)},sb.prototype.data=function(){return this.sn},sb.prototype.rn=function(){return this.sn.proto},sb.prototype.isEqual=function(t){return t instanceof sb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},sb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(sb.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),sb),eb=(po(ob,Jm=W),ob.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(ob.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),ob.prototype.isEqual=function(t){return t instanceof ob&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},ob),nb=(po(ib,$m=W),ib.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(ib.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),ib.prototype.isEqual=function(t){return t instanceof ib&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},ib),rb=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null};function ib(){return null!==$m&&$m.apply(this,arguments)||this}function ob(t,e,n){var r=this;return(r=Jm.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function sb(t,e,n,r){var i=this;return(i=Zm.call(this,t,e)||this).sn=n,i.Je=!!r.Je,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function ab(t,e,n,r,i,o,s,a){return new rb(t,e,n,r,i,o,s,a)}function ub(t){return new rb(t)}function cb(t){return!dv(t.limit)&&"F"===t.an}function lb(t){return!dv(t.limit)&&"L"===t.an}function hb(t){return 0<t.on.length?t.on[0].field:null}function fb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function pb(t){return null!==t.collectionGroup}function db(t){var e=t;if(null===e.cn){e.cn=[];var n=fb(e);if(t=hb(e),null!==n&&null===t)n.W()||e.cn.push(new t_(n)),e.cn.push(new t_(ov.j(),"asc"));else{for(var r=!1,i=0,o=e.on;i<o.length;i++){var s=o[i];e.cn.push(s),s.field.W()&&(r=!0)}r||(n=0<e.on.length?e.on[e.on.length-1].dir:"asc",e.cn.push(new t_(ov.j(),n)))}}return e.cn}function gb(t){var e=t;if(!e.un)if("F"===e.an)e.un=mv(e.path,e.collectionGroup,db(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=db(e);r<i.length;r++){var o=i[r];n.push(new t_(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kb(e.endAt.position,!e.endAt.before):null;t=e.startAt?new Kb(e.startAt.position,!e.startAt.before):null,e.un=mv(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.un}function vb(t,e,n){return new rb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yb(t,e){return new rb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function mb(t,e){return new rb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function bb(t,e){return _v(gb(t),gb(e))&&t.an===e.an}function _b(t){return bv(gb(t))+"|lt:"+t.an}function wb(t){return"Query(target="+(n=(e=gb(t)).path.B(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(t=t).field.B()+" "+t.op+" "+my(t.value)})).join(", ")+"]"),dv(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(t=t).field.B()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Xb(e.startAt)),e.endAt&&(n+=", endAt: "+Xb(e.endAt)),"Target("+n+"); limitType=")+t.an+")";var e,n}function Eb(t,e){return r=e.key.path,(null!==(n=t).collectionGroup?e.key.J(n.collectionGroup)&&n.path.M(r):sv.X(n.path)?n.path.isEqual(r):n.path.$(r))&&function(e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||$b(e.startAt,db(e),r))&&(!e.endAt||!$b(e.endAt,db(e),r)));var n,r}function Tb(t){return function(e,n){for(var r=!1,i=0,o=db(t);i<o.length;i++){var s=o[i],a=function(t,e,n){switch(n=t.field.W()?sv.D(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?vy(r,t):xg()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return xg()}}(s,e,n);if(0!==a)return a;r=r||s.field.W()}return 0}}var Ib,Sb=(po(Cb,Ib=function(){}),Cb.create=function(t,e,n){return t.W()?"in"===e||"not-in"===e?this.ln(t,e,n):new xb(t,e,n):"array-contains"===e?new Vb(t,n):"in"===e?new Bb(t,n):"not-in"===e?new Hb(t,n):"array-contains-any"===e?new Wb(t,n):new Cb(t,e,n)},Cb.ln=function(t,e,n){return new("in"===e?Ob:Db)(t,n)},Cb.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this._n(vy(t,this.value)):null!==t&&py(this.value)===py(t)&&this._n(vy(t,this.value))},Cb.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return xg()}},Cb.prototype.hn=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Cb);function Cb(t,e,n){var r=this;return(r=Ib.call(this)||this).field=t,r.op=e,r.value=n,r}var Ab,Nb,kb,xb=(po(Lb,kb=Sb),Lb.prototype.matches=function(t){return t=sv.D(t.key,this.key),this._n(t)},Lb),Ob=(po(Rb,Nb=Sb),Rb.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},Rb),Db=(po(Pb,Ab=Sb),Pb.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},Pb);function Pb(t,e){var n=this;return(n=Ab.call(this,t,"not-in",e)||this).keys=Mb(0,e),n}function Rb(t,e){var n=this;return(n=Nb.call(this,t,"in",e)||this).keys=Mb(0,e),n}function Lb(t,e,n){var r=this;return(r=kb.call(this,t,e,n)||this).key=sv.Y(n.referenceValue),r}function Mb(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return sv.Y(t.referenceValue)}))}var Fb,jb,Ub,qb,Vb=(po(Yb,qb=Sb),Yb.prototype.matches=function(t){return Iy(t=t.field(this.field))&&gy(t.arrayValue,this.value)},Yb),Bb=(po(Qb,Ub=Sb),Qb.prototype.matches=function(t){return null!==(t=t.field(this.field))&&gy(this.value.arrayValue,t)},Qb),Hb=(po(Gb,jb=Sb),Gb.prototype.matches=function(t){return!gy(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!gy(this.value.arrayValue,t)},Gb),Wb=(po(zb,Fb=Sb),zb.prototype.matches=function(t){var e=this;return!(!Iy(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return gy(e.value.arrayValue,t)}))},zb),Kb=function(t,e){this.position=t,this.before=e};function zb(t,e){return Fb.call(this,t,"array-contains-any",e)||this}function Gb(t,e){return jb.call(this,t,"not-in",e)||this}function Qb(t,e){return Ub.call(this,t,"in",e)||this}function Yb(t,e){return qb.call(this,t,"array-contains",e)||this}function Xb(t){return(t.before?"b":"a")+":"+t.position.map(my).join(",")}function $b(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.W()?sv.D(sv.Y(s.referenceValue),n.key):vy(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Jb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!dy(t.position[n],e.position[n]))return!1;return!0}var Zb,t_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e},e_=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},n_=(h_.prototype.reset=function(){this.In=0},h_.prototype.Rn=function(){this.In=this.Tn},h_.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);0<i&&Cg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},h_.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},h_.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},h_.prototype.gn=function(){return(Math.random()-.5)*this.In},h_),r_=(l_.prototype.catch=function(t){return this.next(void 0,t)},l_.prototype.next=function(t,e){var n=this;return this.Dn&&xg(),this.Dn=!0,this.Sn?this.error?this.Cn(e,this.error):this.Nn(t,this.result):new l_((function(r,i){n.bn=function(e){n.Nn(t,e).next(r,i)},n.vn=function(t){n.Cn(e,t).next(r,i)}}))},l_.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},l_.prototype.Fn=function(t){try{var e=t();return e instanceof l_?e:l_.resolve(e)}catch(t){return l_.reject(t)}},l_.prototype.Nn=function(t,e){return t?this.Fn((function(){return t(e)})):l_.resolve(e)},l_.prototype.Cn=function(t,e){return t?this.Fn((function(){return t(e)})):l_.reject(e)},l_.resolve=function(t){return new l_((function(e,n){e(t)}))},l_.reject=function(t){return new l_((function(e,n){n(t)}))},l_.On=function(t){return new l_((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},l_.kn=function(t){for(var e=l_.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?l_.resolve(e):t()}))}(r[n]);return e},l_.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.On(r)},l_),i_=(c_.delete=function(t){return Cg("SimpleDb","Removing database:",t),y_(window.indexedDB.deleteDatabase(t)).xn()},c_.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(c_.Bn())return!0;var t=Oo(),e=0<(n=c_.$n(t))&&n<10,n=0<(n=c_.qn(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},c_.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},c_.Kn=function(t,e){return t.store(e)},c_.$n=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},c_.qn=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},c_.prototype.Qn=function(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Cg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t=t.target.result)},i.onblocked=function(){r(new s_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){r("VersionError"===(e=e.target.error).name?new Eg(wg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new s_(t,e))},i.onupgradeneeded=function(t){Cg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Cg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},c_.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},c_.prototype.runTransaction=function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o,s,a;return yo(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u;return yo(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,s.Qn(t)];case 2:return s.db=c.sent(),e=p_.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),r_.reject(t)})).xn(),u={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(c.sent(),a),u)];case 4:return Cg("SimpleDb","Transaction failed with error:",(a=c.sent()).message,"Retrying:",u="FirebaseError"!==a.name&&o<3),s.close(),u?[3,5]:[2,{value:Promise.reject(a)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},c_.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c_),o_=(Object.defineProperty(u_.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(u_.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(u_.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),u_.prototype.done=function(){this.Hn=!0},u_.prototype.Xn=function(t){this.Yn=t},u_.prototype.delete=function(){return y_(this.zn.delete())},u_),s_=(po(a_,Zb=Eg),a_);function a_(t,e){var n=this;return(n=Zb.call(this,wg.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function u_(t){this.zn=t,this.Hn=!1,this.Yn=null}function c_(t,e,n){this.name=t,this.version=e,this.Mn=n,12.2===c_.$n(Oo())&&Ag("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function l_(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}function h_(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}function f_(t){return"IndexedDbTransactionError"===t.name}var p_=(v_.open=function(t,e,n,r){try{return new v_(e,t.transaction(r,n))}catch(t){throw new s_(e,t)}},Object.defineProperty(v_.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),v_.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(Cg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},v_.prototype.store=function(t){return t=this.transaction.objectStore(t),new d_(t)},v_),d_=(g_.prototype.put=function(t,e){return y_(t=void 0!==e?(Cg("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Cg("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},g_.prototype.add=function(t){return Cg("SimpleDb","ADD",this.store.name,t,t),y_(this.store.add(t))},g_.prototype.get=function(t){var e=this;return y_(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Cg("SimpleDb","GET",e.store.name,t,n),n}))},g_.prototype.delete=function(t){return Cg("SimpleDb","DELETE",this.store.name,t),y_(this.store.delete(t))},g_.prototype.count=function(){return Cg("SimpleDb","COUNT",this.store.name),y_(this.store.count())},g_.prototype.ts=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.es(e,(function(t,e){n.push(e)})).next((function(){return n}))},g_.prototype.ns=function(t,e){return Cg("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).ss=!1,e=this.cursor(e),this.es(e,(function(t,e,n){return n.delete()}))},g_.prototype.rs=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.es(n,e)},g_.prototype.os=function(t){var e=this.cursor({});return new r_((function(n,r){e.onerror=function(t){t=b_(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},g_.prototype.es=function(t,e){var n=[];return new r_((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new o_(o),(t=e(o.primaryKey,o.value,i))instanceof r_&&(t=t.catch((function(t){return i.done(),r_.reject(t)})),n.push(t)),i.Sn?r():null===i.Jn?o.continue():o.continue(i.Jn)):r()}})).next((function(){return r_.On(n)}))},g_.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},g_.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},g_);function g_(t){this.store=t}function v_(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new e_,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new s_(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){e=b_(e.target.error),n.Zn.reject(new s_(t,e))}}function y_(t){return new r_((function(e,n){t.onsuccess=function(t){e(t=t.target.result)},t.onerror=function(t){t=b_(t.target.error),n(t)}}))}var m_=!1;function b_(t){var e=i_.$n(Oo());if(12.2<=e&&e<13&&0<=t.message.indexOf(e="An internal error was encountered in the Indexed Database server")){var n=new Eg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return m_||(m_=!0,setTimeout((function(){throw n}),0)),n}return t}function __(){return"undefined"!=typeof window?window:null}function w_(){return"undefined"!=typeof document?document:null}var E_=(S_._s=function(t,e,n,r,i){return(i=new S_(t,e,Date.now()+n,r,i)).start(n),i},S_.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},S_.prototype.pn=function(){return this.ds()},S_.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Eg(wg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},S_.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},S_.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},S_),T_=(Object.defineProperty(I_.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),I_.prototype.ws=function(t){this.enqueue(t)},I_.prototype.bs=function(t){this.vs(),this.Ss(t)},I_.prototype.Ds=function(){var t;this.Is||(this.Is=!0,(t=w_())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs))},I_.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},I_.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},I_.prototype.Ns=function(){return vo(this,void 0,void 0,(function(){var t,e=this;return yo(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!f_(t=n.sent()))throw t;return Cg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Ts.length&&this.ys.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},I_.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,Ag("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n},I_.prototype.yn=function(t,e,n){var r=this;return this.vs(),-1<this.gs.indexOf(t)&&(e=0),n=E_._s(this,t,e,n,(function(t){return r.xs(t)})),this.As.push(n),n},I_.prototype.vs=function(){this.Rs&&xg()},I_.prototype.Fs=function(){},I_.prototype.Os=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},I_.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},I_.prototype.Ms=function(t){var e=this;return this.Os().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()}))},I_.prototype.$s=function(t){this.gs.push(t)},I_.prototype.xs=function(t){t=this.As.indexOf(t),this.As.splice(t,1)},I_);function I_(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new n_(this,"async_queue_retry"),this.Vs=function(){var e=w_();e&&Cg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=w_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}function S_(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new e_,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}function C_(t,e){if(Ag("AsyncQueue",e+": "+t),f_(t))return new Eg(wg.UNAVAILABLE,e+": "+t);throw t}function A_(){this.Bs=new tv(_b,bb),this.onlineState="Unknown",this.qs=new Set}var N_=function(){this.Ls=void 0,this.listeners=[]};function k_(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:if(i=!1,(o=(n=t).Bs.get(r=e.query))||(i=!0,o=new N_),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.Us(r)];case 2:return s.Ls=a.sent(),[3,4];case 3:return s=C_(s=a.sent(),"Initialization of query '"+wb(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Ks(n.onlineState),o.Ls&&e.Qs(o.Ls)&&O_(n),[2]}}))}))}function x_(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s;return yo(this,(function(a){return i=!1,(o=(n=t).Bs.get(r=e.query))&&0<=(s=o.listeners.indexOf(e))&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.Ws(r))]:[2]}))}))}function O_(t){t.qs.forEach((function(t){t.next()}))}var D_=(L_.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Gv(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},L_.prototype.onError=function(t){this.js.error(t)},L_.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},L_.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},L_.prototype.Hs=function(t){return 0<t.docChanges.length||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},L_.prototype.Js=function(t){t=Gv.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},L_),P_=(R_.prototype.Zs=function(){return null!=this.uid},R_.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},R_.prototype.isEqual=function(t){return t.uid===this.uid},R_);function R_(t){this.uid=t}function L_(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}function M_(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t}P_.UNAUTHENTICATED=new P_(null),P_.ei=new P_("google-credentials-uid"),P_.ni=new P_("first-party-uid");var F_=(rw.prototype.getToken=function(){return Promise.resolve(null)},rw.prototype.ri=function(){},rw.prototype.oi=function(t){(this.ii=t)(P_.UNAUTHENTICATED)},rw.prototype.ai=function(){this.ii=null},rw),j_=(nw.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.hi!==e?(Cg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Og("string"==typeof n.accessToken),new M_(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},nw.prototype.ri=function(){this.forceRefresh=!0},nw.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},nw.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},nw.prototype.li=function(){var t=this.auth&&this.auth.getUid();return Og(null===t||"string"==typeof t),new P_(t)},nw),U_=(Object.defineProperty(ew.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),ew),q_=(tw.prototype.getToken=function(){return Promise.resolve(new U_(this._i,this.fi))},tw.prototype.oi=function(t){t(P_.ni)},tw.prototype.ai=function(){},tw.prototype.ri=function(){},tw),V_=(Z_.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Cm(o,e,r[i]))}return e},Z_.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Am(i,e,e,this.di))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Am(u,e,o,this.di))}return e},Z_.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},Z_.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Hv())},Z_.prototype.isEqual=function(t){return this.batchId===t.batchId&&Lg(this.mutations,t.mutations,Nm)&&Lg(this.baseMutations,t.baseMutations,Nm)},Z_),B_=(J_.from=function(t,e,n){Og(t.mutations.length===n.length);for(var r=Vv,i=t.mutations,o=0;o<i.length;o++)r=r.ot(i[o].key,n[o].version);return new J_(t,e,n,r)},J_),H_=(Object.defineProperty($_.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),$_.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},$_.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},$_.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?r_.resolve(n):this.vi(t,e)},$_.prototype.getEntries=function(t,e){return this.Si(t,e)},$_.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},$_.prototype.Vi=function(){},Dr=$_,"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),W_=(X_.prototype.Ni=function(t){this.Ci.push(t)},X_.prototype.xi=function(){this.Ci.forEach((function(t){return t()}))},L=X_,Y_.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next((function(r){return n.Li(t,e,r)}))},Y_.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t}))},Y_.prototype.Bi=function(t,e,n){var r=Fv;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ti(t,e);r=r.ot(t,e)})),r},Y_.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next((function(e){return n.Ui(t,e)}))},Y_.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next((function(r){r=n.Bi(t,e,r);var i=Fv;return r.forEach((function(t,e){e=e||new eb(t,nv.min()),i=i.ot(t,e)})),i}))},Y_.prototype.Qi=function(t,e,n){return sv.X((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Wi(t,e.path):pb(e)?this.ji(t,e,n):this.Gi(t,e,n);var r},Y_.prototype.Wi=function(t,e){return this.Mi(t,new sv(e)).next((function(t){var e=qv;return t instanceof tb&&(e=e.ot(t.key,t)),e}))},Y_.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,o=qv;return this.ki.zi(t,i).next((function(s){return r_.forEach(s,(function(s){var a=(a=e,s=s.child(i),new rb(s,null,a.on.slice(),a.filters.slice(),a.limit,a.an,a.startAt,a.endAt));return r.Gi(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},Y_.prototype.Gi=function(t,e,n){var r,i,o=this;return this.Fi.Qi(t,e,n).next((function(n){return r=n,o.Oi.Hi(t,e)})).next((function(e){return o.Yi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Am(u,l=r.get(c),l,o.di);r=l instanceof tb?r.ot(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Eb(e,n)||(r=r.remove(t))})),r}))},Y_.prototype.Yi=function(t,e,n){for(var r=Hv(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Pm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Fi.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof tb&&(c=c.ot(t,e))})),c}))},Y_),K_=(Q_.Zi=function(t,e){for(var n=Hv(),r=Hv(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Q_(t,e.fromCache,n,r)},Q_),z_=(G_.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},G_.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},G_);function G_(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}function Q_(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}function Y_(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}function X_(){this.Ci=[]}function $_(){this.Ri=new tv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Pi=!1}function J_(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}function Z_(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}function tw(t,e){this._i=t,this.fi=e}function ew(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=P_.ni}function nw(t){var e=this;this.ci=null,this.currentUser=P_.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then((function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)}),(function(){})))}function rw(){this.ii=null}function iw(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=Rg(n,t))?Rg(r,e):t}z_.ir=-1;var ow=(cw.prototype.cr=function(){return++this.ar},cw.prototype.ur=function(t){var e=[t,this.cr()];this.buffer.size<this.rr?this.buffer=this.buffer.add(e):iw(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(cw.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),cw),sw={hr:!1,lr:0,_r:0,dr:0},aw=(uw.Ir=function(t){return new uw(t,uw.mr,uw.Ar)},uw);function uw(t,e,n){this.wr=t,this.Er=e,this.Tr=n}function cw(t){this.rr=t,this.buffer=new Lv(iw),this.ar=0}aw.mr=10,aw.Ar=1e3,aw.Rr=new aw(41943040,aw.mr,aw.Ar),aw.Pr=new aw(-1,0,0);var lw=(pw.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},pw.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(pw.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),pw.prototype.pr=function(t){var e=this,n=this.yr?3e5:6e4;Cg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",n,(function(){return vo(e,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:this.Vr=null,this.yr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return n.sent(),[3,7];case 3:return f_(e=n.sent())?(Cg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return n.sent(),[2]}}))}))}))},pw),hw=(fw.prototype.Dr=function(t,e){return this.Sr.Cr(t).next((function(t){return Math.floor(e/100*t)}))},fw.prototype.Nr=function(t,e){var n=this;if(0===e)return r_.resolve(z_.ir);var r=new ow(e);return this.Sr.Ce(t,(function(t){return r.ur(t.sequenceNumber)})).next((function(){return n.Sr.Fr(t,(function(t){return r.ur(t)}))})).next((function(){return r.maxValue}))},fw.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},fw.prototype.kr=function(t,e){return this.Sr.kr(t,e)},fw.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(Cg("LruGarbageCollector","Garbage collection skipped; disabled"),r_.resolve(sw)):this.$r(t).next((function(r){return r<n.params.wr?(Cg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),sw):n.Lr(t,e)}))},fw.prototype.$r=function(t){return this.Sr.$r(t)},fw.prototype.Lr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Dr(t,this.params.Er).next((function(e){return r=e>c.params.Tr?(Cg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Tr+" from "+e),c.params.Tr):e,o=Date.now(),c.Nr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Or(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.kr(t,n)})).next((function(t){return u=Date.now(),Sg()<=ys.DEBUG&&Cg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),r_.resolve({hr:!0,lr:r,_r:i,dr:t})}))},fw);function fw(t,e){this.Sr=t,this.params=e}function pw(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}function dw(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=gw(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return gw(e)}function gw(t){return t+"\x01\x01"}function vw(t){var e=t.length;if(Og(2<=e),2===e)return Og("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),rv.U();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||n<s)&&xg(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:xg()}o=s+2}return new rv(r)}var yw=function(t){this.Br=t};function mw(t,e){if(e.document)return i=!!e.hasCommittedMutations,t=qy(t.Br,(r=e.document).name),n=My(r.updateTime),r=new Km({mapValue:{fields:r.fields}}),new tb(t,n,r,{hasCommittedMutations:!!i});var n,r;if(e.noDocument){var i=sv.Z(e.noDocument.path),o=Tw(e.noDocument.readTime);return new eb(i,o,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(o=sv.Z(e.unknownDocument.path),e=Tw(e.unknownDocument.version),new nb(o,e)):xg()}function bw(t,e,n){var r=_w(n);if(n=e.key.path.F().L(),e instanceof tb){var i={name:Uy(i=t.Br,(o=e).key),fields:o.rn().mapValue.fields,updateTime:Ry(i,o.version.v())};return new rE(null,null,i,o=e.hasCommittedMutations,r,n)}if(e instanceof eb){i=e.key.path.L();var o=Ew(e.version),s=e.hasCommittedMutations;return new rE(null,new eE(i,o),null,s,r,n)}return e instanceof nb?(s=e.key.path.L(),e=Ew(e.version),new rE(new nE(s,e),null,null,!0,r,n)):xg()}function _w(t){return[(t=t.v()).seconds,t.nanoseconds]}function ww(t){return t=new ev(t[0],t[1]),nv.V(t)}function Ew(t){return t=t.v(),new zw(t.seconds,t.nanoseconds)}function Tw(t){return t=new ev(t.seconds,t.nanoseconds),nv.V(t)}function Iw(t,e){var n=(e.baseMutations||[]).map((function(e){return Gy(t.Br,e)})),r=e.mutations.map((function(e){return Gy(t.Br,e)})),i=ev.fromMillis(e.localWriteTimeMs);return new V_(e.batchId,i,n,r)}function Sw(t){var e=Tw(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Tw(t.lastLimboFreeSnapshotVersion):nv.min(),r=void 0!==t.query.documents?(Og(1===(r=t.query).documents.length),gb(ub(By(r.documents[0])))):function(t){var e=By(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Og(1===r),(s=n.from[0]).allDescendants?i=s.collectionId:e=e.child(s.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[tm(e)]:void 0!==e.fieldFilter?[(n=e,Sb.create(Zy(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xg()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):xg():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new t_(Zy((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=dv(a="object"==typeof(a=n.limit)?a.value:a)?null:a);var s=null;n.startAt&&(s=$y(n.startAt));var a=null;return n.endAt&&(a=$y(n.endAt)),gb(ab(e,i,t,o,r,"F",s,a))}(t.query);return new Iv(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Fg.fromBase64String(t.resumeToken))}function Cw(t,e){var n=Ew(e.nt),r=Ew(e.lastLimboFreeSnapshotVersion),i=(wv(e.target)?Qy:Yy)(t.Br,e.target);return t=e.resumeToken.toBase64(),new oE(e.targetId,bv(e.target),n,t,e.sequenceNumber,r,i)}var Aw=(Nw.Kr=function(t,e,n,r){return Og(""!==t.uid),new Nw(t.Zs()?t.uid:"",e,n,r)},Nw.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ow(t).rs({index:Jw.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},Nw.prototype.Wr=function(t,e,n,r){var i=this,o=Dw(t),s=Ow(t);return s.add({}).next((function(a){Og("number"==typeof a);for(var u,c,l,h,f,p=new V_(a,e,n,r),d=(u=i.serializer,c=i.userId,h=(l=p).baseMutations.map((function(t){return zy(u.Br,t)})),f=l.mutations.map((function(t){return zy(u.Br,t)})),new Jw(c,l.batchId,l.di.toMillis(),h,f)),g=[],v=new Lv((function(t,e){return Rg(t.B(),e.B())})),y=0,m=r;y<m.length;y++){var b=m[y],_=Zw.key(i.userId,b.key.path,a);v=v.add(b.key.path.F()),g.push(s.put(d)),g.push(o.put(_,Zw.PLACEHOLDER))}return v.forEach((function(e){g.push(i.ki.jr(t,e))})),t.Ni((function(){i.Ur[a]=p.keys()})),r_.On(g).next((function(){return p}))}))},Nw.prototype.Gr=function(t,e){var n=this;return Ow(t).get(e).next((function(t){return t?(Og(t.userId===n.userId),Iw(n.serializer,t)):null}))},Nw.prototype.zr=function(t,e){var n=this;return this.Ur[e]?r_.resolve(this.Ur[e]):this.Gr(t,e).next((function(t){return t?(t=t.keys(),n.Ur[e]=t):null}))},Nw.prototype.Hr=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return Ow(t).rs({index:Jw.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&(Og(e.batchId>=r),i=Iw(n.serializer,e)),o.done()})).next((function(){return i}))},Nw.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ow(t).rs({index:Jw.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},Nw.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ow(t).ts(Jw.userMutationsIndex,n).next((function(t){return t.map((function(t){return Iw(e.serializer,t)}))}))},Nw.prototype.$i=function(t,e){var n=this,r=Zw.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return Dw(t).rs({range:r},(function(r,o,s){var a=r[0],u=r[1];if(r=r[2],u=vw(u),a===n.userId&&e.path.isEqual(u))return Ow(t).get(r).next((function(t){if(!t)throw xg();Og(t.userId===n.userId),i.push(Iw(n.serializer,t))}));s.done()})).next((function(){return i}))},Nw.prototype.Ki=function(t,e){var n=this,r=new Lv(Rg),i=[];return e.forEach((function(e){var o=Zw.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=Dw(t).rs({range:o},(function(t,i,o){var s=t[0],a=t[1];t=t[2],a=vw(a),s===n.userId&&e.path.isEqual(a)?r=r.add(t):o.done()})),i.push(o)})),r_.On(i).next((function(){return n.Xr(t,r)}))},Nw.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=Zw.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new Lv(Rg));return Dw(t).rs({range:e},(function(t,e,s){var a=t[0],u=t[1];t=t[2],u=vw(u),a===n.userId&&r.M(u)?u.length===i&&(o=o.add(t)):s.done()})).next((function(){return n.Xr(t,o)}))},Nw.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ow(t).get(e).next((function(t){if(null===t)throw xg();Og(t.userId===n.userId),r.push(Iw(n.serializer,t))})))})),r_.On(i).next((function(){return r}))},Nw.prototype.Zr=function(t,e){var n=this;return xw(t.eo,this.userId,e).next((function(r){return t.Ni((function(){n.no(e.batchId)})),r_.forEach(r,(function(e){return n.qr.so(t,e)}))}))},Nw.prototype.no=function(t){delete this.Ur[t]},Nw.prototype.io=function(t){var e=this;return this.Qr(t).next((function(n){if(!n)return r_.resolve();n=IDBKeyRange.lowerBound(Zw.prefixForUser(e.userId));var r=[];return Dw(t).rs({range:n},(function(t,n,i){t[0]===e.userId?(t=vw(t[1]),r.push(t)):i.done()})).next((function(){Og(0===r.length)}))}))},Nw.prototype.ro=function(t,e){return kw(t,this.userId,e)},Nw.prototype.oo=function(t){var e=this;return Pw(t).get(this.userId).next((function(t){return t||new $w(e.userId,-1,"")}))},Nw);function Nw(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}function kw(t,e,n){var r=(n=Zw.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return Dw(t).rs({range:n,ss:!0},(function(t,n,o){t[0]===e&&t[1]===r&&(i=!0),o.done()})).next((function(){return i}))}function xw(t,e,n){var r=t.store(Jw.store),i=t.store(Zw.store),o=[],s=(t=IDBKeyRange.only(n.batchId),0);t=r.rs({range:t},(function(t,e,n){return s++,n.delete()})),o.push(t.next((function(){Og(1===s)})));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=Zw.key(e,l.key.path,n.batchId);o.push(i.delete(h)),a.push(l.key)}return r_.On(o).next((function(){return a}))}function Ow(t){return SE.Kn(t,Jw.store)}function Dw(t){return SE.Kn(t,Zw.store)}function Pw(t){return SE.Kn(t,$w.store)}var Rw,Lw=(jw.prototype.yi=function(t,e,n){return qw(t).put(Vw(e),n)},jw.prototype.pi=function(t,e){return t=qw(t),e=Vw(e),t.delete(e)},jw.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ao(t,r)}))},jw.prototype.bi=function(t,e){var n=this;return qw(t).get(Vw(e)).next((function(t){return n.co(t)}))},jw.prototype.uo=function(t,e){var n=this;return qw(t).get(Vw(e)).next((function(t){var e=n.co(t);return e?{ho:e,size:Bw(t)}:null}))},jw.prototype.getEntries=function(t,e){var n=this,r=Fv;return this.lo(t,e,(function(t,e){e=n.co(e),r=r.ot(t,e)})).next((function(){return r}))},jw.prototype._o=function(t,e){var n=this,r=Fv,i=new Nv(sv.D);return this.lo(t,e,(function(t,e){var o=n.co(e);i=o?(r=r.ot(t,o),i.ot(t,Bw(e))):(r=r.ot(t,null),i.ot(t,0))})).next((function(){return{fo:r,do:i}}))},jw.prototype.lo=function(t,e,n){if(e.P())return r_.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return qw(t).rs({range:r},(function(t,e,r){for(var s=sv.Z(t);o&&sv.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},jw.prototype.Qi=function(t,e,n){var r,i=this,o=qv,s=e.path.length+1,a={};return n.isEqual(nv.min())?(r=e.path.L(),a.range=IDBKeyRange.lowerBound(r)):(r=e.path.L(),n=_w(n),a.range=IDBKeyRange.lowerBound([r,n],!0),a.index=rE.collectionReadTimeIndex),qw(t).rs(a,(function(t,n,r){t.length===s&&(n=mw(i.serializer,n),e.path.M(n.key.path)?n instanceof tb&&Eb(e,n)&&(o=o.ot(n.key,n)):r.done())})).next((function(){return o}))},jw.prototype.wo=function(t){return new Mw(this,!!t&&t.Eo)},jw.prototype.To=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},jw.prototype.getMetadata=function(t){return Uw(t).get(iE.key).next((function(t){return Og(!!t),t}))},jw.prototype.ao=function(t,e){return Uw(t).put(iE.key,e)},jw.prototype.co=function(t){return t?(t=mw(this.serializer,t))instanceof eb&&t.version.isEqual(nv.min())?null:t:null},jw),Mw=(po(Fw,Rw=Dr),Fw.prototype.Di=function(t){var e=this,n=[],r=0,i=new Lv((function(t,e){return Rg(t.B(),e.B())}));return this.Ri.forEach((function(o,s){var a,u=e.mo.get(o);s?(a=bw(e.Io.serializer,s,e.readTime),i=i.add(o.path.F()),s=Bw(a),r+=s-u,n.push(e.Io.yi(t,o,a))):(r-=u,e.Eo?(u=bw(e.Io.serializer,new eb(o,nv.min()),e.readTime),n.push(e.Io.yi(t,o,u))):n.push(e.Io.pi(t,o)))})),i.forEach((function(r){n.push(e.Io.ki.jr(t,r))})),n.push(this.Io.updateMetadata(t,r)),r_.On(n)},Fw.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next((function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)}))},Fw.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next((function(t){var e=t.fo;return t.do.forEach((function(t,e){n.mo.set(t,e)})),e}))},Fw);function Fw(t,e){var n=this;return(n=Rw.call(this)||this).Io=t,n.Eo=e,n.mo=new tv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function jw(t,e){this.serializer=t,this.ki=e}function Uw(t){return SE.Kn(t,iE.store)}function qw(t){return SE.Kn(t,rE.store)}function Vw(t){return t.path.L()}function Bw(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xg();e=t.noDocument}return JSON.stringify(e).length}var Hw=(Xw.prototype.jr=function(t,e){return this.Ao.add(e),r_.resolve()},Xw.prototype.zi=function(t,e){return r_.resolve(this.Ao.getEntries(e))},Xw),Ww=(Yw.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new Lv(rv.D);return t=!r.has(n),this.index[e]=r.add(n),t},Yw.prototype.has=function(t){var e=t.k();return t=t.F(),(e=this.index[e])&&e.has(t)},Yw.prototype.getEntries=function(t){return(this.index[t]||new Lv(rv.D)).L()},Yw),Kw=(Qw.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Og(n<r&&0<=n&&r<=10);var o=new p_("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(Gw.store),(s=t).createObjectStore($w.store,{keyPath:$w.keyPath}),s.createObjectStore(Jw.store,{keyPath:Jw.keyPath,autoIncrement:!0}).createIndex(Jw.userMutationsIndex,Jw.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Zw.store),cE(t),t.createObjectStore(rE.store));var s,a=r_.resolve();return n<3&&3<=r&&(0!==n&&((s=t).deleteObjectStore(sE.store),s.deleteObjectStore(oE.store),s.deleteObjectStore(aE.store),cE(t)),a=a.next((function(){return t=o.store(aE.store),e=new aE(0,0,nv.min().v(),0),t.put(aE.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(a=a.next((function(){return e=t,(n=o).store(Jw.store).ts().next((function(t){e.deleteObjectStore(Jw.store),e.createObjectStore(Jw.store,{keyPath:Jw.keyPath,autoIncrement:!0}).createIndex(Jw.userMutationsIndex,Jw.userMutationsKeyPath,{unique:!0});var r=n.store(Jw.store);return t=t.map((function(t){return r.put(t)})),r_.On(t)}));var e,n}))),a=a.next((function(){t.createObjectStore(lE.store,{keyPath:lE.keyPath})}))),n<5&&5<=r&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(a=a.next((function(){return t.createObjectStore(iE.store),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&9<=r&&(a=a.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(rE.store)).createIndex(rE.readTimeIndex,rE.readTimeIndexPath,{unique:!1}),n.createIndex(rE.collectionReadTimeIndex,rE.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},Qw.prototype.addDocumentGlobal=function(t){var e=0;return t.store(rE.store).rs((function(t,n){e+=Bw(n)})).next((function(){var n=new iE(e);return t.store(iE.store).put(iE.key,n)}))},Qw.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store($w.store),r=t.store(Jw.store);return n.ts().next((function(n){return r_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Jw.userMutationsIndex,i).next((function(r){return r_.forEach(r,(function(r){return Og(r.userId===n.userId),r=Iw(e.serializer,r),xw(t,n.userId,r).next((function(){}))}))}))}))}))},Qw.prototype.ensureSequenceNumbers=function(t){var e=t.store(sE.store),n=t.store(rE.store);return t.store(aE.store).get(aE.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new rv(n);n=[0,dw(o)],r.push(e.get(n).next((function(n){return n?r_.resolve():e.put(new sE(0,dw(o),t.highestListenSequenceNumber))})))})).next((function(){return r_.On(r)}))}))},Qw.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.k();return t=t.F(),r.put({collectionId:e,parent:dw(t)})}}t.createObjectStore(uE.store,{keyPath:uE.keyPath});var r=e.store(uE.store),i=new Ww;return e.store(rE.store).rs({ss:!0},(function(t,e){return n((t=new rv(t)).F())})).next((function(){return e.store(Zw.store).rs({ss:!0},(function(t,e){return n(vw(t[1]).F())}))}))},Qw.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(oE.store);return n.rs((function(t,r){return r=Sw(r),r=Cw(e.serializer,r),n.put(r)}))},Qw),zw=function(t,e){this.seconds=t,this.nanoseconds=e},Gw=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function Qw(t){this.serializer=t}function Yw(){this.index={}}function Xw(){this.Ao=new Ww}Gw.store="owner",Gw.key="owner";var $w=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$w.store="mutationQueues",$w.keyPath="userId";var Jw=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Jw.store="mutations",Jw.keyPath="batchId",Jw.userMutationsIndex="userMutationsIndex",Jw.userMutationsKeyPath=["userId","batchId"];var Zw=(tE.prefixForUser=function(t){return[t]},tE.prefixForPath=function(t,e){return[t,dw(e)]},tE.key=function(t,e,n){return[t,dw(e),n]},tE);function tE(){}Zw.store="documentMutations",Zw.PLACEHOLDER=new Zw;var eE=function(t,e){this.path=t,this.readTime=e},nE=function(t,e){this.path=t,this.version=e},rE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rE.store="remoteDocuments",rE.readTimeIndex="readTimeIndex",rE.readTimeIndexPath="readTime",rE.collectionReadTimeIndex="collectionReadTimeIndex",rE.collectionReadTimeIndexPath=["parentPath","readTime"];var iE=function(t){this.byteSize=t};iE.store="remoteDocumentGlobal",iE.key="remoteDocumentGlobalKey";var oE=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};oE.store="targets",oE.keyPath="targetId",oE.queryTargetsIndexName="queryTargetsIndex",oE.queryTargetsKeyPath=["canonicalId","targetId"];var sE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sE.store="targetDocuments",sE.keyPath=["targetId","path"],sE.documentTargetsIndex="documentTargetsIndex",sE.documentTargetsKeyPath=["path","targetId"];var aE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};aE.key="targetGlobalKey",aE.store="targetGlobal";var uE=function(t,e){this.collectionId=t,this.parent=e};function cE(t){t.createObjectStore(sE.store,{keyPath:sE.keyPath}).createIndex(sE.documentTargetsIndex,sE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(oE.store,{keyPath:oE.keyPath}).createIndex(oE.queryTargetsIndexName,oE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(aE.store)}uE.store="collectionParents",uE.keyPath=["collectionId","parent"];var lE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};lE.store="clientMetadata",lE.keyPath="clientId";var hE=wo(wo(wo([$w.store,Jw.store,Zw.store,rE.store,oE.store,Gw.store,aE.store,sE.store],[lE.store]),[iE.store]),[uE.store]),fE=(pE.prototype.jr=function(t,e){var n=this;if(this.Ro.has(e))return r_.resolve();var r=e.k(),i=e.F();return t.Ni((function(){n.Ro.add(e)})),i={collectionId:r,parent:dw(i)},dE(t).put(i)},pE.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Mg(e),""],!1,!0);return dE(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vw(o.parent))}return n}))},pE);function pE(){this.Ro=new Ww}function dE(t){return SE.Kn(t,uE.store)}var gE=(mE.prototype.next=function(){return this.Po+=2,this.Po},mE.yo=function(){return new mE(0)},mE.Vo=function(){return new mE(-1)},mE),vE=(yE.prototype.po=function(t){var e=this;return this.bo(t).next((function(n){var r=new gE(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next((function(){return n.highestTargetId}))}))},yE.prototype.So=function(t){return this.bo(t).next((function(t){return nv.V(new ev(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},yE.prototype.Do=function(t){return this.bo(t).next((function(t){return t.highestListenSequenceNumber}))},yE.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)}))},yE.prototype.No=function(t,e){var n=this;return this.xo(t,e).next((function(){return n.bo(t).next((function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)}))}))},yE.prototype.Oo=function(t,e){return this.xo(t,e)},yE.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next((function(){return bE(t).delete(e.targetId)})).next((function(){return n.bo(t)})).next((function(e){return Og(0<e.targetCount),--e.targetCount,n.vo(t,e)}))},yE.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return bE(t).rs((function(s,a){(a=Sw(a)).sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.ko(t,a)))})).next((function(){return r_.On(o)})).next((function(){return i}))},yE.prototype.Ce=function(t,e){return bE(t).rs((function(t,n){n=Sw(n),e(n)}))},yE.prototype.bo=function(t){return _E(t).get(aE.key).next((function(t){return Og(null!==t),t}))},yE.prototype.vo=function(t,e){return _E(t).put(aE.key,e)},yE.prototype.xo=function(t,e){return bE(t).put(Cw(this.serializer,e))},yE.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},yE.prototype.$o=function(t){return this.bo(t).next((function(t){return t.targetCount}))},yE.prototype.Lo=function(t,e){var n=bv(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return bE(t).rs({range:n,index:oE.queryTargetsIndexName},(function(t,n,i){n=Sw(n),_v(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},yE.prototype.Bo=function(t,e,n){var r=this,i=[],o=wE(t);return e.forEach((function(e){var s=dw(e.path);i.push(o.put(new sE(n,s))),i.push(r.qr.qo(t,n,e))})),r_.On(i)},yE.prototype.Uo=function(t,e,n){var r=this,i=wE(t);return r_.forEach(e,(function(e){var o=dw(e.path);return r_.On([i.delete([n,o]),r.qr.Ko(t,n,e)])}))},yE.prototype.Mo=function(t,e){return t=wE(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},yE.prototype.Qo=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=wE(t);var n=Hv();return t.rs({range:e,ss:!0},(function(t,e,r){t=vw(t[1]),t=new sv(t),n=n.add(t)})).next((function(){return n}))},yE.prototype.ro=function(t,e){e=dw(e.path),e=IDBKeyRange.bound([e],[Mg(e)],!1,!0);var n=0;return wE(t).rs({index:sE.documentTargetsIndex,ss:!0,range:e},(function(t,e,r){0!==t[0]&&(n++,r.done())})).next((function(){return 0<n}))},yE.prototype.Ue=function(t,e){return bE(t).get(e).next((function(t){return t?Sw(t):null}))},yE);function yE(t,e){this.qr=t,this.serializer=e}function mE(t){this.Po=t}function bE(t){return SE.Kn(t,oE.store)}function _E(t){return SE.Kn(t,aE.store)}function wE(t){return SE.Kn(t,sE.store)}var EE,TE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IE=(po(AE,EE=L),AE),SE=(CE.Kn=function(t,e){if(t instanceof IE)return i_.Kn(t.eo,e);throw xg()},CE.prototype.start=function(){var t=this;return this.ra().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Eg(wg.FAILED_PRECONDITION,TE);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.sa.Do(e)}))})).then((function(e){t.zo=new z_(e,t.jo)})).then((function(){t.Ho=!0})).catch((function(e){return t.na&&t.na.close(),Promise.reject(e)}))},CE.prototype.ua=function(t){var e=this;return this.ta=function(n){return vo(e,void 0,void 0,(function(){return yo(this,(function(e){return this.br?[2,t(n)]:[2]}))}))},t(this.isPrimary)},CE.prototype.ha=function(t){var e=this;this.na.jn((function(n){return vo(e,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},CE.prototype.la=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return vo(e,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},CE.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return kE(e).put(new lE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._a(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.ta(!1)})))}))})).next((function(){return t.fa(e)})).next((function(n){return t.isPrimary&&!n?t.da(e).next((function(){return!1})):!!n&&t.wa(e).next((function(){return!0}))}))})).catch((function(e){if(f_(e))return Cg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Cg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.ta(e)})),t.isPrimary=e}))},CE.prototype._a=function(t){var e=this;return NE(t).get(Gw.key).next((function(t){return r_.resolve(e.Ea(t))}))},CE.prototype.Ta=function(t){return kE(t).delete(this.clientId)},CE.prototype.Ia=function(){return vo(this,void 0,void 0,(function(){var t,e,n,r=this;return yo(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=CE.Kn(t,lE.store);return e.ts().next((function(t){var n=r.Aa(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return r_.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.ia)for(e=0,n=t;e<n.length;e++)this.ia.removeItem(this.Ra(n[e].clientId));i.label=2;case 2:return[2]}}))}))},CE.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.ra().then((function(){return t.Ia()})).then((function(){return t.ca()}))}))},CE.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},CE.prototype.fa=function(t){var e=this;return this.Go?r_.resolve(!0):NE(t).get(Gw.key).next((function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new Eg(wg.FAILED_PRECONDITION,TE);return!1}}return!(!e.networkEnabled||!e.inForeground)||kE(t).ts().next((function(t){return void 0===e.Aa(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Cg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},CE.prototype.ga=function(){return vo(this,void 0,void 0,(function(){var t=this;return yo(this,(function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[Gw.store,lE.store],(function(e){var n=new IE(e,z_.ir);return t.da(n).next((function(){return t.Ta(n)}))}))];case 1:return e.sent(),this.na.close(),this.ba(),[2]}}))}))},CE.prototype.Aa=function(t,e){var n=this;return t.filter((function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)}))},CE.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return kE(e).ts().next((function(e){return t.Aa(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(CE.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),CE.prototype.Sa=function(t){return Aw.Kr(t,this.serializer,this.ki,this.qr)},CE.prototype.Da=function(){return this.sa},CE.prototype.Ca=function(){return this.Fi},CE.prototype.Na=function(){return this.ki},CE.prototype.runTransaction=function(t,e,n){var r,i=this;return Cg("IndexedDbPersistence","Starting transaction:",t),this.na.runTransaction(t,"readonly"===e?"readonly":"readwrite",hE,(function(o){return r=new IE(o,i.zo?i.zo.next():z_.ir),"readwrite-primary"===e?i._a(r).next((function(t){return!!t||i.fa(r)})).next((function(e){if(!e)throw Ag("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.ta(!1)})),new Eg(wg.FAILED_PRECONDITION,H_);return n(r)})).next((function(t){return i.wa(r).next((function(){return t}))})):i.xa(r).next((function(){return n(r)}))})).then((function(t){return r.xi(),t}))},CE.prototype.xa=function(t){var e=this;return NE(t).get(Gw.key).next((function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Eg(wg.FAILED_PRECONDITION,TE)}))},CE.prototype.wa=function(t){var e=new Gw(this.clientId,this.allowTabSynchronization,Date.now());return NE(t).put(Gw.key,e)},CE.Ln=function(){return i_.Ln()},CE.prototype.da=function(t){var e=this,n=NE(t);return n.get(Gw.key).next((function(t){return e.Ea(t)?(Cg("IndexedDbPersistence","Releasing primary lease."),n.delete(Gw.key)):r_.resolve()}))},CE.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Ag("Detected an update time that is in the future: "+t+" > "+n),1))},CE.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()}))},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},CE.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},CE.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws((function(){return e.ga()}))},this.window.addEventListener("unload",this.Yo))},CE.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},CE.prototype.Pa=function(t){try{var e=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return Cg("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Ag("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},CE.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(n){Ag("Failed to set zombie client id.",n)}},CE.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(n){}},CE.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},CE);function CE(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.fn=i,this.window=o,this.document=s,this.jo=u,this.Go=c,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!CE.Ln())throw new Eg(wg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new xE(this,r),this.ea=e+"main",this.serializer=new yw(a),this.na=new i_(this.ea,10,new Kw(this.serializer)),this.sa=new vE(this.qr,this.serializer),this.ki=new fE,this.Fi=new Lw(e=this.serializer,a=this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===c&&Ag("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function AE(t,e){var n=this;return(n=EE.call(this)||this).eo=t,n.Wo=e,n}function NE(t){return SE.Kn(t,Gw.store)}function kE(t){return SE.Kn(t,lE.store)}var xE=(OE.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next((function(t){return e.next((function(e){return t+e}))}))},OE.prototype.Fa=function(t){var e=0;return this.Fr(t,(function(t){e++})).next((function(){return e}))},OE.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},OE.prototype.Fr=function(t,e){return this.Oa(t,(function(t,n){return e(n)}))},OE.prototype.qo=function(t,e,n){return DE(t,n)},OE.prototype.Ko=function(t,e,n){return DE(t,n)},OE.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},OE.prototype.so=DE,OE.prototype.ka=function(t,e){return r=e,i=!1,Pw(n=t).os((function(t){return kw(n,t,r).next((function(t){return t&&(i=!0),r_.resolve(!t)}))})).next((function(){return i}));var n,r,i},OE.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],o=0;return this.Oa(t,(function(s,a){a<=e&&(a=n.ka(t,s).next((function(e){if(!e)return o++,r.bi(t,s).next((function(){return r.pi(s),wE(t).delete([0,dw(s.path)])}))})),i.push(a))})).next((function(){return r_.On(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},OE.prototype.removeTarget=function(t,e){return e=e.st(t.Wo),this.db.Da().Oo(t,e)},OE.prototype.Ma=DE,OE.prototype.Oa=function(t,e){t=wE(t);var n,r=z_.ir;return t.rs({index:sE.documentTargetsIndex},(function(t,i){var o=t[0];t=i.path,i=i.sequenceNumber,0===o?(r!==z_.ir&&e(new sv(vw(n)),r),r=i,n=t):r=z_.ir})).next((function(){r!==z_.ir&&e(new sv(vw(n)),r)}))},OE.prototype.$r=function(t){return this.db.Ca().To(t)},OE);function OE(t,e){this.db=t,this.gr=new hw(this,e)}function DE(t,e){return wE(t).put((t=t.Wo,new sE(0,dw(e.path),t)))}function PE(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var RE=(LE.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Mr(n,e.La)}))},LE);function LE(t,e,n){this.persistence=t,this.$a=e,this.La=new Nv(Rg),this.Ba=new tv(bv,_v),this.qa=nv.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new W_(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}function ME(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return r=(n=t).Oi,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Oi.Jr(t).next((function(s){return o=s,r=n.persistence.Sa(e),i=new W_(n.Ua,r,n.persistence.Na()),r.Jr(t)})).next((function(e){for(var n=[],r=[],s=Hv(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,p=e;f<p.length;f++){var d=p[f];r.push(d.batchId);for(var g=0,v=d.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.qi(t,s).next((function(t){return{Wa:t,ja:n,Ga:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Oi=r,n.Ka=i,n.$a.Qa(n.Ka),o)]}}))}))}function FE(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.Ua.wo({Eo:!0});return r=n,i=t,s=h,u=(a=(o=e).batch).keys(),c=r_.resolve(),u.forEach((function(t){c=c.next((function(){return s.bi(i,t)})).next((function(e){var n=e;Og(null!==(e=o.Ai.get(t))),(!n||n.version.u(e)<0)&&(n=a.wi(t,n,o))&&s.yi(n,o.mi)}))})),c.next((function(){return r.Oi.Zr(i,a)})).next((function(){return h.apply(t)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,l)}))}))}function jE(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.sa.So(t)}))}function UE(t,e){var n=t,r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ua.wo({Eo:!0});i=n.La;var s=[];e.zt.forEach((function(e,o){var a,u,c,l=i.get(o);l&&(s.push(n.sa.Uo(t,e.se,o).next((function(){return n.sa.Bo(t,e.ee,o)}))),0<(c=e.resumeToken).o()&&(a=l.it(c,r).st(t.Wo),i=i.ot(o,a),u=l,c=e,Og(0<(l=a).resumeToken.o()),(0===u.resumeToken.o()||3e8<=l.nt.p()-u.nt.p()||0<c.ee.size+c.ne.size+c.se.size)&&s.push(n.sa.Oo(t,a))))}));var a,u=Fv,c=Hv();return e.Yt.forEach((function(t,e){c=c.add(t)})),s.push(o.getEntries(t,c).next((function(i){e.Yt.forEach((function(a,c){var l=i.get(a);c instanceof eb&&c.version.isEqual(nv.min())?(o.pi(a,r),u=u.ot(a,c)):null==l||0<c.version.u(l.version)||0===c.version.u(l.version)&&l.hasPendingWrites?(o.yi(c,r),u=u.ot(a,c)):Cg("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version),e.Jt.has(a)&&s.push(n.persistence.qr.Ma(t,a))}))}))),r.isEqual(nv.min())||(a=n.sa.So(t).next((function(e){return n.sa.Co(t,t.Wo,r)})),s.push(a)),r_.On(s).next((function(){return o.apply(t)})).next((function(){return n.Ka.Ui(t,u)}))})).then((function(t){return n.La=i,t}))}function qE(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.sa.Lo(t,e).next((function(i){return i?r_.resolve(r=i):n.sa.po(t).next((function(i){return r=new Iv(e,i,0,t.Wo),n.sa.No(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.La.get(t.targetId);return(null===r||0<t.nt.u(r.nt))&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t}))}function VE(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o;return yo(this,(function(s){switch(s.label){case 0:i=(r=t).La.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.qr.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!f_(o=s.sent()))throw o;return Cg("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.La=r.La.remove(e),r.Ba.delete(i.target),[2]}}))}))}function BE(t,e,n){var r=t,i=nv.min(),o=Hv();return r.persistence.runTransaction("Execute query","readonly",(function(t){return s=r,a=t,u=gb(e),(void 0!==(s=(c=s).Ba.get(u))?r_.resolve(c.La.get(s)):c.sa.Lo(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.$a.Qi(t,e,n?i:nv.min(),n?o:Hv())})).next((function(t){return{documents:t,za:o}}));var s,a,u,c}))}function HE(t,e){var n=t,r=n.sa;return(t=n.La.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function WE(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=t,r=e.Ua,i=Fv,o=_w(t=e.qa),t=qw(n),n=IDBKeyRange.lowerBound(o,!0),t.rs({index:rE.readTimeIndex,range:n},(function(t,e){var n=mw(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{Ha:i,readTime:ww(o)}}));var n,r,i,o})).then((function(t){var n=t.Ha;return e.qa=t=t.readTime,n}))}function KE(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=qw(t),e=nv.min(),t.rs({index:rE.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=ww(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.qa=t}))]}))}))}function zE(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){if(t.code!==wg.FAILED_PRECONDITION||t.message!==H_)throw t;return Cg("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function GE(t,e,n,r,i){var o=this;this.Bc=t,this.qc=e,this.cs=n,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=i,this.Gc.zc((function(t){n.ws((function(){return vo(o,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return dT(this)?(Cg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return(e=t).Wc.add(4),[4,aT(e)];case 1:return n.sent(),e.Hc.set("Unknown"),e.Wc.delete(4),[4,sT(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Hc=new tT(n,r)}oT.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},oT.prototype.nc=function(){return 2===this.state},oT.prototype.start=function(){3!==this.state?this.auth():this.sc()},oT.prototype.stop=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},oT.prototype.ic=function(){this.state=0,this.ys.reset()},oT.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,(function(){return t.oc()})))},oT.prototype.ac=function(t){this.cc(),this.stream.send(t)},oT.prototype.oc=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){return this.nc()?[2,this.close(0)]:[2]}))}))},oT.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},oT.prototype.close=function(t,e){return vo(this,void 0,void 0,(function(){return yo(this,(function(n){switch(n.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():e&&e.code===wg.RESOURCE_EXHAUSTED?(Ag(e.toString()),Ag("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===wg.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(e)];case 1:return n.sent(),[2]}}))}))},oT.prototype.uc=function(){},oT.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._c(e)}),(function(n){e((function(){var e=new Eg(wg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)}))}))},oT.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc((function(){n((function(){return e.state=2,e.listener.wc()}))})),this.stream.hc((function(t){n((function(){return e.fc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},oT.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn((function(){return vo(t,void 0,void 0,(function(){return yo(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},oT.prototype.fc=function(t){return Cg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},oT.prototype.lc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.Za===t?n():(Cg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}};var QE,YE,XE,$E=(po(iT,XE=W=oT),iT.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},iT.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){if("targetChange"in e){var n="NO_CHANGE"===(i=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:xg(),r=e.targetChange.targetIds||[],i=(o=e.targetChange.resumeToken,t.Ke?(Og(void 0===o||"string"==typeof o),Fg.fromBase64String(o||"")):(Og(void 0===o||o instanceof Uint8Array),Fg.fromUint8Array(o||new Uint8Array))),o=e.targetChange.cause,s=o&&(o=void 0===(s=o).code?wg.UNKNOWN:Av(s.code),new Eg(o,s.message||""));r=new Jv(n,r,i,s||null)}else if("documentChange"in e){i=qy(t,(u=e.documentChange).document.name);var a=My(u.document.updateTime);s=new Km({mapValue:{fields:u.document.fields}}),a=new tb(i,a,s,{}),r=new Xv(s=u.targetIds||[],u=u.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){a=qy(t,(u=e.documentDelete).document);var u,c=u.readTime?My(u.readTime):nv.min();c=new eb(a,c),r=new Xv([],u=u.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){var l=qy(t,(c=e.documentRemove).document);r=new Xv([],c=c.removedTargetIds||[],l,null)}else{if(!("filter"in e))return xg();e=new Ev(e=(l=e.filter).count||0),r=new $v(l=l.targetId,e)}return r}(this.serializer,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?nv.min():My(t.readTime):nv.min()}(t),this.listener.Tc(e,t)},iT.prototype.Ic=function(t){var e,n,r,i,o={};o.database=Hy(this.serializer),o.addTarget=(e=this.serializer,(r=wv(r=(n=t).target)?{documents:Qy(e,r)}:{query:Yy(e,r)}).targetId=n.targetId,0<n.resumeToken.o()&&(r.resumeToken=Ly(e,n.resumeToken)),r),i=t,(t=null==(t=function(){switch(i.et){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xg()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.ac(o)},iT.prototype.mc=function(t){var e={};e.database=Hy(this.serializer),e.removeTarget=t,this.ac(e)},iT),JE=(po(rT,YE=W),Object.defineProperty(rT.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),rT.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,YE.prototype.start.call(this)},rT.prototype.uc=function(){this.Ac&&this.Pc([])},rT.prototype.dc=function(t){return this.Ja.Ec("Write",t)},rT.prototype.onMessage=function(t){if(Og(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=(r=t.commitTime,(n=t.writeResults)&&0<n.length?(Og(void 0!==r),n.map((function(t){return function(t,e){var n=My(t.updateTime?t.updateTime:e);return n.isEqual(nv.min())&&(n=My(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new Em(n,e)}(t,r)}))):[]),n=My(t.commitTime);return this.listener.gc(n,e)}var r;return Og(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},rT.prototype.Vc=function(){var t={};t.database=Hy(this.serializer),this.ac(t)},rT.prototype.Pc=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return zy(e.serializer,t)}))},this.ac(t)},rT),ZE=(po(nT,QE=function(){}),nT.prototype.vc=function(){if(this.bc)throw new Eg(wg.FAILED_PRECONDITION,"The client has already been terminated.")},nT.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Sc(t,e,n,i)})).catch((function(t){throw t.code===wg.UNAUTHENTICATED&&r.credentials.ri(),t}))},nT.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Dc(t,e,n,i)})).catch((function(t){throw t.code===wg.UNAUTHENTICATED&&r.credentials.ri(),t}))},nT.prototype.terminate=function(){this.bc=!1},nT),tT=(eT.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,(function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()})))},eT.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,1<=this.Nc&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},eT.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},eT.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},eT.prototype.Mc=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Fc?(Ag(t),this.Fc=!1):Cg("OnlineStateTracker",t)},eT.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},eT);function eT(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}function nT(t,e,n){var r=this;return(r=QE.call(this)||this).credentials=t,r.Ja=e,r.serializer=n,r.bc=!1,r}function rT(t,e,n,r,i){var o=this;return(o=YE.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Ac=!1,o}function iT(t,e,n,r,i){var o=this;return(o=XE.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function oT(t,e,n,r,i,o){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=o,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new n_(t,e)}function sT(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:if(!dT(t))return[3,4];e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function aT(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uT(t,e){t.Qc.has(e.targetId)||(t.Qc.set(e.targetId,e),pT(t)?fT(t):TT(t).nc()&&lT(t,e))}function cT(t,e){var n=t;t=TT(n),n.Qc.delete(e),t.nc()&&hT(n,e),0===n.Qc.size&&(t.nc()?t.rc():dT(n)&&n.Hc.set("Unknown"))}function lT(t,e){t.Yc.me(e.targetId),TT(t).Ic(e)}function hT(t,e){t.Yc.me(e),TT(t).mc(e)}function fT(t){t.Yc=new ty({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),TT(t).start(),t.Hc.Oc()}function pT(t){return dT(t)&&!TT(t).ec()&&0<t.Qc.size}function dT(t){return 0===t.Wc.size}function gT(t){t.Yc=void 0}function vT(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:if(t.Hc.set("Online"),!(e instanceof Jv&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Qc.has(o=i[r])?[4,t.Uc.Jc(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Qc.delete(o),t.Yc.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Cg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yT(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Xv?t.Yc.be(e):e instanceof $v?t.Yc.Oe(e):t.Yc.De(e),n.isEqual(nv.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,jE(t.Bc)];case 8:return i=o.sent(),0<=n.u(i)?[4,(a=n,(u=(s=t).Yc.$e(a)).zt.forEach((function(t,e){var n;0<t.resumeToken.o()&&(n=s.Qc.get(e))&&s.Qc.set(e,n.it(t.resumeToken,a))})),u.Ht.forEach((function(t){var e=s.Qc.get(t);e&&(s.Qc.set(t,e.it(Fg.h,e.nt)),hT(s,t),e=new Iv(e.target,t,1,e.sequenceNumber),lT(s,e))})),s.Uc.Xc(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Cg("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,yT(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var s,a,u}))}))}function yT(t,e,n){return vo(this,void 0,void 0,(function(){var r=this;return yo(this,(function(i){switch(i.label){case 0:if(!f_(e))throw e;return t.Wc.add(1),[4,aT(t)];case 1:return i.sent(),t.Hc.set("Offline"),n=n||function(){return jE(t.Bc)},t.cs.Cs((function(){return vo(r,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return Cg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Wc.delete(1),[4,sT(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function mT(t,e){return e().catch((function(n){return yT(t,n,e)}))}function bT(t){return vo(this,void 0,void 0,(function(){var e,n,r,i;return yo(this,(function(o){switch(o.label){case 0:n=IT(e=t),r=0<e.Kc.length?e.Kc[e.Kc.length-1].batchId:-1,o.label=1;case 1:if(!(dT(e)&&e.Kc.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(s=e.Bc,a=r,(u=s).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===a&&(a=-1),u.Oi.Hr(t,a)})))];case 3:return null===(i=o.sent())?(0===e.Kc.length&&n.rc(),[3,7]):(r=i.batchId,function(t,e){t.Kc.push(e),(t=IT(t)).nc()&&t.Rc&&t.Pc(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,yT(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return _T(e)&&wT(e),[2]}var s,a,u}))}))}function _T(t){return dT(t)&&!IT(t).ec()&&0<t.Kc.length}function wT(t){IT(t).start()}function ET(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Wc.delete(2),[4,sT(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Wc.add(2),[4,aT(n)]);case 3:r.sent(),n.Hc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function TT(t){var e,n,r,i=this;return t.eu||(t.eu=(e=t.qc,n=t.cs,r={wc:(function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){return t.Qc.forEach((function(e,n){lT(t,e)})),[2]}))}))}).bind(null,t),hc:(function(t,e){return vo(this,void 0,void 0,(function(){return yo(this,(function(n){return gT(t),pT(t)?(t.Hc.$c(e),fT(t)):t.Hc.set("Unknown"),[2]}))}))}).bind(null,t),Tc:vT.bind(null,t)},e.vc(),new $E(n,e.Ja,e.credentials,e.serializer,r)),t.jc.push((function(e){return vo(i,void 0,void 0,(function(){return yo(this,(function(n){switch(n.label){case 0:return e?(t.eu.ic(),pT(t)?fT(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:n.sent(),gT(t),n.label=3;case 3:return[2]}}))}))}))),t.eu}function IT(t){var e,n,r,i=this;return t.nu||(t.nu=(e=t.qc,n=t.cs,r={wc:(function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){return IT(t).Vc(),[2]}))}))}).bind(null,t),hc:(function(t,e){return vo(this,void 0,void 0,(function(){return yo(this,(function(n){switch(n.label){case 0:return e&&IT(t).Rc?[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return Cv(r=e.code)&&r!==wg.ABORTED?(n=t.Kc.shift(),IT(t).ic(),[4,mT(t,(function(){return t.Uc.tu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,bT(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _T(t)&&wT(t),[2]}}))}))}).bind(null,t),yc:(function(t){return vo(this,void 0,void 0,(function(){var e,n,r;return yo(this,(function(i){for(e=IT(t),n=0,r=t.Kc;n<r.length;n++)e.Pc(r[n].mutations);return[2]}))}))}).bind(null,t),gc:(function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:return r=t.Kc.shift(),i=B_.from(r,e,n),[4,mT(t,(function(){return t.Uc.Zc(i)}))];case 1:return o.sent(),[4,bT(t)];case 2:return o.sent(),[2]}}))}))}).bind(null,t)},e.vc(),new JE(n,e.Ja,e.credentials,e.serializer,r)),t.jc.push((function(e){return vo(i,void 0,void 0,(function(){return yo(this,(function(n){switch(n.label){case 0:return e?(t.nu.ic(),[4,bT(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:n.sent(),0<t.Kc.length&&(Cg("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),n.label=4;case 4:return[2]}}))}))}))),t.nu}var ST=(NT.prototype.P=function(){return this.su.P()},NT.prototype.qo=function(t,e){e=new CT(t,e),this.su=this.su.add(e),this.ru=this.ru.add(e)},NT.prototype.au=function(t,e){var n=this;t.forEach((function(t){return n.qo(t,e)}))},NT.prototype.Ko=function(t,e){this.cu(new CT(t,e))},NT.prototype.uu=function(t,e){var n=this;t.forEach((function(t){return n.Ko(t,e)}))},NT.prototype.hu=function(t){var e=this,n=new sv(new rv([])),r=new CT(n,t),i=(t=new CT(n,t+1),[]);return this.ru.xt([r,t],(function(t){e.cu(t),i.push(t.key)})),i},NT.prototype.lu=function(){var t=this;this.su.forEach((function(e){return t.cu(e)}))},NT.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},NT.prototype._u=function(t){var e=new sv(new rv([])),n=new CT(e,t),r=(t=new CT(e,t+1),Hv());return this.ru.xt([n,t],(function(t){r=r.add(t.key)})),r},NT.prototype.ro=function(t){var e=new CT(t,0);return null!==(e=this.su.Ot(e))&&t.isEqual(e.key)},NT),CT=(AT.iu=function(t,e){return sv.D(t.key,e.key)||Rg(t.fu,e.fu)},AT.ou=function(t,e){return Rg(t.fu,e.fu)||sv.D(t.key,e.key)},AT);function AT(t,e){this.key=t,this.fu=e}function NT(){this.su=new Lv(CT.iu),this.ru=new Lv(CT.ou)}function kT(t,e){return"firestore_clients_"+t+"_"+e}function xT(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.Zs()&&(n+="_"+e.uid),n}function OT(t,e){return"firestore_targets_"+t+"_"+e}var DT=(ZT.du=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Eg(r.error.code,r.error.message)),i?new ZT(t,e,r.state,o):(Ag("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},ZT.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},ZT),PT=(JT.du=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Eg(n.error.code,n.error.message)),r?new JT(t,n.state,i):(Ag("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},JT.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},JT),RT=($T.du=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Wv,o=0;r&&o<n.activeTargetIds.length;++o)r=vv(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new $T(t,i):(Ag("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},$T),LT=(XT.du=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new XT(e.clientId,e.onlineState):(Ag("SharedClientState","Failed to parse online state: "+t),null)},XT),MT=(YT.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},YT.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},YT.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},YT),FT=(QT.Ln=function(t){return!(!t||!t.localStorage)},QT.prototype.start=function(){return vo(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c=this;return yo(this,(function(l){switch(l.label){case 0:return[4,this.mu.va()];case 1:for(o=l.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this.Iu&&(r=this.getItem(kT(this.persistenceKey,n)))&&(i=RT.du(n,r))&&(this.Pu=this.Pu.ot(i.clientId,i));for(this.Du(),(o=this.storage.getItem(this.Su))&&(s=this.Cu(o))&&this.Nu(s),a=0,u=this.gu;a<u.length;a++)this.Ru(u[a]);return this.gu=[],this.window.addEventListener("unload",(function(){return c.ga()})),this.br=!0,[2]}}))}))},QT.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},QT.prototype.xu=function(){return this.Fu(this.Pu)},QT.prototype.Ou=function(t){var e=!1;return this.Pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},QT.prototype.ku=function(t){this.Mu(t,"pending")},QT.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},QT.prototype.Bu=function(t){var e,n="not-current";return this.Ou(t)&&(!(e=this.storage.getItem(OT(this.persistenceKey,t)))||(e=PT.du(t,e))&&(n=e.state)),this.qu.Eu(t),this.Du(),n},QT.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},QT.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},QT.prototype.Qu=function(t){this.removeItem(OT(this.persistenceKey,t))},QT.prototype.Wu=function(t,e,n){this.ju(t,e,n)},QT.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.Lu(t)})),this.currentUser=t,n.forEach((function(t){r.ku(t)}))},QT.prototype.zu=function(t){this.Hu(t)},QT.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},QT.prototype.getItem=function(t){var e=this.storage.getItem(t);return Cg("SharedClientState","READ",t,e),e},QT.prototype.setItem=function(t,e){Cg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},QT.prototype.removeItem=function(t){Cg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},QT.prototype.Ru=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Cg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yu)return void Ag("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return vo(e,void 0,void 0,(function(){var t,e,r,i,o;return yo(this,(function(s){if(this.br){if(null!==n.key)if(this.pu.test(n.key)){if(null==n.newValue)return t=this.Yu(n.key),[2,this.Ju(t,null)];if(t=this.Xu(n.key,n.newValue))return[2,this.Ju(t.clientId,t)]}else if(this.bu.test(n.key)){if(null!==n.newValue&&(e=this.Zu(n.key,n.newValue)))return[2,this.th(e)]}else if(this.vu.test(n.key)){if(null!==n.newValue&&(r=this.eh(n.key,n.newValue)))return[2,this.nh(r)]}else if(n.key===this.Su){if(null!==n.newValue&&(i=this.Cu(n.newValue)))return[2,this.Nu(i)]}else n.key===this.Vu&&(o=function(t){var e=z_.ir;if(null!=t)try{var n=JSON.parse(t);Og("number"==typeof n),e=n}catch(t){Ag("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==z_.ir&&this.tr(o)}else this.gu.push(n);return[2]}))}))}))}},Object.defineProperty(QT.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),QT.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},QT.prototype.Mu=function(t,e,n){n=new DT(this.currentUser,t,e,n),t=xT(this.persistenceKey,this.currentUser,t),this.setItem(t,n.wu())},QT.prototype.Lu=function(t){t=xT(this.persistenceKey,this.currentUser,t),this.removeItem(t)},QT.prototype.Hu=function(t){t={clientId:this.Iu,onlineState:t},this.storage.setItem(this.Su,JSON.stringify(t))},QT.prototype.ju=function(t,e,n){var r=OT(this.persistenceKey,t);n=new PT(t,e,n),this.setItem(r,n.wu())},QT.prototype.Yu=function(t){return(t=this.pu.exec(t))?t[1]:null},QT.prototype.Xu=function(t,e){return t=this.Yu(t),RT.du(t,e)},QT.prototype.Zu=function(t,e){var n=this.bu.exec(t);return t=Number(n[1]),DT.du(new P_(n=void 0!==n[2]?n[2]:null),t,e)},QT.prototype.eh=function(t,e){return t=this.vu.exec(t),t=Number(t[1]),PT.du(t,e)},QT.prototype.Cu=function(t){return LT.du(t)},QT.prototype.th=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(Cg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},QT.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},QT.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),o=this.Fu(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.mu.rh(s,a).then((function(){n.Pu=r}))},QT.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},QT.prototype.Fu=function(t){var e=Wv;return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},QT),jT=(GT.prototype.ku=function(t){},GT.prototype.$u=function(t,e,n){},GT.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},GT.prototype.Wu=function(t,e,n){this.ah[t]=e},GT.prototype.Uu=function(t){this.oh.Tu(t)},GT.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},GT.prototype.Qu=function(t){delete this.ah[t]},GT.prototype.xu=function(){return this.oh.activeTargetIds},GT.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},GT.prototype.start=function(){return this.oh=new MT,Promise.resolve()},GT.prototype.Gu=function(t,e,n){},GT.prototype.zu=function(t){},GT.prototype.ga=function(){},GT.prototype.sr=function(t){},GT),UT=function(t){this.key=t},qT=function(t){this.key=t},VT=(Object.defineProperty(zT.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),zT.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new zv,i=(e||this).fh,o=(e||this).Qt,s=i,a=!1,u=cb(this.query)&&i.size===this.query.limit?i.last():null,c=lb(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=(h=e instanceof tb?e:null)&&(Eb(n.query,h)?h:null),f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations);e=!1,l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),e=!0):n.Th(l,h)||(r.track({type:2,doc:h}),e=!0,(u&&0<n._h(h,u)||c&&n._h(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),e=!0):l&&!h&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(a=!0)),e&&(o=h?(s=s.add(h),p?o.add(t):o.delete(t)):(s=s.delete(t),o.delete(t)))})),cb(this.query)||lb(this.query))for(;s.size>this.query.limit;){var l=cb(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:s,Eh:r,Ih:a,Qt:o}},zT.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},zT.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var o=t.Eh.Ut();o.sort((function(t,e){return i=e.type,n(t.type)-n(i)||r._h(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xg()}}var i})),this.mh(n);var s=e?this.Ah():[];return e=(n=0===this.lh.size&&this.te?1:0)!==this.hh,this.hh=n,0!==o.length||e?{snapshot:new Gv(this.query,t.fh,i,o,t.Qt,0==n,e,!1),Rh:s}:{Rh:s}},zT.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new zv,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},zT.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},zT.prototype.mh=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},zT.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Hv(),this.fh.forEach((function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new qT(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new UT(t))})),n},zT.prototype.gh=function(t){return this.uh=t.za,this.lh=Hv(),t=this.wh(t.documents),this.Di(t,!0)},zT.prototype.yh=function(){return Gv.Gt(this.query,this.fh,this.Qt,0===this.hh)},zT),BT=function(t,e,n){this.query=t,this.targetId=e,this.view=n},HT=function(t){this.key=t,this.Vh=!1},WT=(Object.defineProperty(KT.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),KT);function KT(t,e,n,r,i,o){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new tv(_b,bb),this.xh=new Map,this.Fh=[],this.Oh=new Nv(sv.D),this.kh=new Map,this.Mh=new ST,this.$h={},this.Lh=new Map,this.Bh=gE.Vo(),this.onlineState="Unknown",this.qh=void 0}function zT(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Hv(),this.Qt=Hv(),this._h=Tb(t),this.fh=new Kv(this._h)}function GT(){this.oh=new MT,this.ah={},this.Cc=null,this.tr=null}function QT(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new Nv(Rg),this.br=!1,this.gu=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.yu=kT(this.persistenceKey,this.Iu),this.Vu="firestore_sequence_number_"+this.persistenceKey,this.Pu=this.Pu.ot(this.Iu,new MT),this.pu=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Su="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.Au)}function YT(){this.activeTargetIds=Wv}function XT(t,e){this.clientId=t,this.onlineState=e}function $T(t,e){this.clientId=t,this.activeTargetIds=e}function JT(t,e,n){this.targetId=t,this.state=e,this.error=n}function ZT(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function tI(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o,s;return yo(this,(function(a){switch(a.label){case 0:return t.Kh=function(e,n,r){return function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o;return yo(this,(function(s){switch(s.label){case 0:return(i=e.view.wh(n)).Ih?[4,BE(t.Bc,e.query,!1).then((function(t){return e.view.wh(t=t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.zt.get(e.targetId),o=e.view.Di(i,t.Uh,o),[2,(lI(t,e.targetId,o.Rh),o.snapshot)]}}))}))}(t,e,n,r)},[4,BE(t.Bc,e,!0)];case 1:return o=a.sent(),s=new VT(e,o.za),i=s.wh(o.documents),o=Yv.Zt(n,r&&"Offline"!==t.onlineState),o=s.Di(i,t.Uh,o),lI(t,n,o.Rh),s=new BT(e,n,s),[2,(t.Nh.set(e,s),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),o.snapshot)]}}))}))}function eI(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:i=bI(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.Bc,l=e,f=c,p=ev.now(),d=l.reduce((function(t,e){return t.add(e.key)}),Hv()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return f.Ka.qi(t,d).next((function(e){h=e;for(var n,r=[],i=0,o=l;i<o.length;i++){var s=o[i],a=(n=s,a=h.get(s.key),n instanceof jm?function(t){for(var e=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],s=t instanceof tb?t.field(o.field):void 0;null!=(s=nm(o.transform,s||null))&&(e=(null==e?new zm:e).set(o.field,s))}return e?e.Xe():null}(a):null);null!=a&&r.push(new Pm(s.key,a,function t(e){var n=[];return Xg(e.fields||{},(function(e,r){var i=new ov([e]);if(Ay(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,s=r;o<s.length;o++)n.push(i.child(s[o]));else n.push(i)})),new bm(n)}(a.proto.mapValue),Tm.exists(!0)))}return f.Oi.Wr(t,p,r,l)}))})).then((function(t){var e=t.Ii(h);return{batchId:t.batchId,Ri:e}})))];case 2:return r=o.sent(),i.Sh.ku(r.batchId),a=r.batchId,u=n,c=(c=(c=(s=i).$h[s.currentUser.ti()])||new Nv(Rg)).ot(a,u),s.$h[s.currentUser.ti()]=c,[4,fI(i,r.Ri)];case 3:return o.sent(),[4,bT(i.ph)];case 4:return o.sent(),[3,6];case 5:return i=C_(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var s,a,u,c,l,h,f,p,d}))}))}function nI(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,UE(n.Bc,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){(e=n.kh.get(e))&&(Og(t.ee.size+t.ne.size+t.se.size<=1),0<t.ee.size?e.Vh=!0:0<t.ne.size?Og(e.Vh):0<t.se.size&&(Og(e.Vh),e.Vh=!1))})),[4,fI(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rI(t,e,n){var r;((t=t).Uh&&0===n||!t.Uh&&1===n)&&(r=[],t.Nh.forEach((function(t,n){(n=n.view.Ks(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.Bs.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Ks(e)&&(n=!0)})),n&&O_(t)}(t.bh,e),r.length&&t.Ch.Tc(r),t.onlineState=e,t.Uh&&t.Sh.zu(e))}function iI(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.Bc,a=e,(u=s).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Oi.Gr(t,a).next((function(n){return Og(null!==n),e=n.keys(),u.Oi.Zr(t,n)})).next((function(){return u.Oi.io(t)})).next((function(){return u.Ka.qi(t,e)}))})))];case 2:return i=o.sent(),aI(r,e,n),sI(r,e),r.Sh.$u(e,"rejected",n),[4,fI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function oI(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:dT((n=t).ph)||Cg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(s=n.Bc).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return s.Oi.Yr(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Lh.get(r)||[]).push(e),n.Lh.set(r,i),[3,4]);case 3:return i=C_(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var s}))}))}function sI(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function aI(t,e,n){var r=t,i=r.$h[r.currentUser.ti()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i)}function uI(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Qh(o,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach((function(e){t.Mh.ro(e)||cI(t,e)}))}function cI(t,e){var n=t.Oh.get(e);null!==n&&(cT(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),hI(t))}function lI(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof UT?(t.Mh.qo(o.key,e),function(t,e){t.Oh.get(e=e.key)||(Cg("SyncEngine","New document in limbo: "+e),t.Fh.push(e),hI(t))}(t,o)):o instanceof qT?(Cg("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Ko(o.key,e),t.Mh.ro(o.key)||cI(t,o.key)):xg()}}function hI(t){for(;0<t.Fh.length&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new HT(e)),t.Oh=t.Oh.ot(e,n),uT(t.ph,new Iv(gb(ub(e.path)),n,2,z_.ir))}}function fI(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return i=[],o=[],s=[],(r=t).Nh.P()?[3,3]:(r.Nh.forEach((function(t,a){s.push(r.Kh(a,e,n).then((function(t){t&&(r.Uh&&r.Sh.Wu(a.targetId,t.fromCache?"not-current":"current"),i.push(t),t=K_.Zi(a.targetId,t),o.push(t))})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Ch.Tc(i),[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return yo(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return r_.forEach(e,(function(e){return r_.forEach(e.Ji,(function(r){return n.persistence.qr.qo(t,e.targetId,r)})).next((function(){return r_.forEach(e.Xi,(function(r){return n.persistence.qr.Ko(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!f_(r=c.sent()))throw r;return Cg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(u=o[i]).targetId,u.fromCache||(a=n.La.get(s),u=a.rt(u=a.nt),n.La=n.La.ot(s,u));return[2]}}))}))}(r.Bc,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function pI(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Cg("SyncEngine","User change. New user:",e.ti()),[4,ME(n.Bc,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Lh.forEach((function(t){t.forEach((function(t){t.reject(new Eg(wg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Lh.clear(),n.Sh.Gu(e,r.ja,r.Ga),[4,fI(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function dI(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o;return yo(this,(function(s){switch(s.label){case 0:return[4,(a=(i=t).Bc,u=e,l=(c=a).Oi,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.zr(t,u).next((function(e){return e?c.Ka.qi(t,e):r_.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,bT(i.ph)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(aI(i,e,r||null),sI(i,e),i.Bc.Oi.no(e)):xg(),s.label=4;case 4:return[4,fI(i,o)];case 5:return s.sent(),[3,7];case 6:Cg("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function gI(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return yo(this,(function(c){switch(c.label){case 0:return mI(n=t),bI(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.xu(),[4,vI(n,r.L())]);case 1:return i=c.sent(),n.qh=!0,[4,ET(n.ph,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)uT(n.ph,s[o]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(a=[],u=Promise.resolve(),n.xh.forEach((function(t,e){n.Sh.Ku(e)?a.push(e):u=u.then((function(){return uI(n,e),VE(n.Bc,e,!0)})),cT(n.ph,e)})),[4,u]);case 4:return c.sent(),[4,vI(n,a)];case 5:return c.sent(),(l=n).kh.forEach((function(t,e){cT(l.ph,e)})),l.Mh.lu(),l.kh=new Map,l.Oh=new Nv(sv.D),n.qh=!1,[4,ET(n.ph,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}var l}))}))}function vI(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p;return yo(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,s=e,d.label=1;case 1:return o<s.length?(u=void 0,(c=n.xh.get(a=s[o]))&&0!==c.length?[4,qE(n.Bc,gb(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=n.Nh.get(f=h[l]),[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,BE((n=t).Bc,e.query,!0)];case 1:return r=i.sent(),r=e.view.gh(r),[2,(n.Uh&&lI(n,e.targetId,r.Rh),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,HE(n.Bc,a)];case 8:return p=d.sent(),[4,qE(n.Bc,p)];case 9:return u=d.sent(),[4,tI(n,yI(p),a,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.Tc(i),r)]}}))}))}function yI(t){return ab(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mI(t){return t.ph.Uc.Xc=nI.bind(null,t),t.ph.Uc.qe=(function(t,e){var n=t;if((t=n.kh.get(e))&&t.Vh)return Hv().add(t.key);var r=Hv();if(!(e=n.xh.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var s=n.Nh.get(s=o[i]);r=r.kt(s.view.dh)}return r}).bind(null,t),t.ph.Uc.Jc=(function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return(r=t).Sh.Wu(e,"rejected",n),s=r.kh.get(e),(i=s&&s.key)?(o=(o=new Nv(sv.D)).ot(i,new eb(i,nv.min())),s=Hv().add(i),s=new Qv(nv.min(),new Map,new Lv(Rg),o,s),[4,nI(r,s)]):[3,2];case 1:return a.sent(),r.Oh=r.Oh.remove(i),r.kh.delete(e),hI(r),[3,4];case 2:return[4,VE(r.Bc,e,!1).then((function(){return uI(r,e,n)})).catch(zE)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}).bind(null,t),t.Ch.Tc=(function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s,a=o[i];if(s=n.Bs.get(s=a.query)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Qs(a)&&(r=!0);s.Ls=a}}r&&O_(n)}).bind(null,t.bh),t.Ch.Qh=(function(t,e,n){var r=t;if(t=r.Bs.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.Bs.delete(e)}).bind(null,t.bh),t}function bI(t){return t.ph.Uc.Zc=(function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,FE(n.Bc,e)];case 2:return i=o.sent(),aI(n,r,null),sI(n,r),n.Sh.$u(r,"acknowledged"),[4,fI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}).bind(null,t),t.ph.Uc.tu=iI.bind(null,t),t}var _I,wI,EI,TI=(QI.prototype.Qa=function(t){this.Wh=t},QI.prototype.Qi=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.W())||n.isEqual(nv.min())?this.jh(t,e):this.Wh.qi(t,r).next((function(o){var s=i.Gh(e,o);return(cb(e)||lb(e))&&i.Ih(e.an,s,r,n)?i.jh(t,e):(Sg()<=ys.DEBUG&&Cg("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wb(e)),i.Wh.Qi(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},QI.prototype.Gh=function(t,e){var n=new Lv(Tb(t));return e.forEach((function(e,r){r instanceof tb&&Eb(t,r)&&(n=n.add(r))})),n},QI.prototype.Ih=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.u(r))},QI.prototype.jh=function(t,e){return Sg()<=ys.DEBUG&&Cg("IndexFreeQueryEngine","Using full collection scan to execute query:",wb(e)),this.Wh.Qi(t,e,nv.min())},QI),II=(GI.prototype.Qr=function(t){return r_.resolve(0===this.Oi.length)},GI.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++,n=new V_(i,e,n,r),this.Oi.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.Hh=this.Hh.add(new CT(a.key,i)),this.ki.jr(t,a.key.path.F())}return r_.resolve(n)},GI.prototype.Gr=function(t,e){return r_.resolve(this.Yh(e))},GI.prototype.Hr=function(t,e){return e=this.Jh(e+=1),r_.resolve(this.Oi.length>(e=e<0?0:e)?this.Oi[e]:null)},GI.prototype.Yr=function(){return r_.resolve(0===this.Oi.length?-1:this.zh-1)},GI.prototype.Jr=function(t){return r_.resolve(this.Oi.slice())},GI.prototype.$i=function(t,e){var n=this,r=new CT(e,0),i=(e=new CT(e,Number.POSITIVE_INFINITY),[]);return this.Hh.xt([r,e],(function(t){t=n.Yh(t.fu),i.push(t)})),r_.resolve(i)},GI.prototype.Ki=function(t,e){var n=this,r=new Lv(Rg);return e.forEach((function(t){var e=new CT(t,0);t=new CT(t,Number.POSITIVE_INFINITY),n.Hh.xt([e,t],(function(t){r=r.add(t.fu)}))})),r_.resolve(this.Xh(r))},GI.prototype.Hi=function(t,e){var n=e.path,r=n.length+1;sv.X(e=n)||(e=e.child("")),e=new CT(new sv(e),0);var i=new Lv(Rg);return this.Hh.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(i=i.add(t.fu)),!0)}),e),r_.resolve(this.Xh(i))},GI.prototype.Xh=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.Yh(t))&&n.push(t)})),n},GI.prototype.Zr=function(t,e){var n=this;Og(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return r_.forEach(e.mutations,(function(i){var o=new CT(i.key,e.batchId);return r=r.delete(o),n.qr.so(t,i.key)})).next((function(){n.Hh=r}))},GI.prototype.no=function(t){},GI.prototype.ro=function(t,e){var n=new CT(e,0);return n=this.Hh.Ot(n),r_.resolve(e.isEqual(n&&n.key))},GI.prototype.io=function(t){return r_.resolve()},GI.prototype.Zh=function(t,e){return this.Jh(t)},GI.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},GI.prototype.Yh=function(t){return(t=this.Jh(t))<0||t>=this.Oi.length?null:this.Oi[t]},GI),SI=(zI.prototype.yi=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:o,readTime:n}),this.size+=o-i,this.ki.jr(t,r.path.F())},zI.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},zI.prototype.bi=function(t,e){return e=this.docs.get(e),r_.resolve(e?e.ho:null)},zI.prototype.getEntries=function(t,e){var n=this,r=Fv;return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)})),r_.resolve(r)},zI.prototype.Qi=function(t,e,n){for(var r=qv,i=new sv(e.path.child("")),o=this.docs.ft(i);o.At();){var s=(a=o.It()).key,a=(u=a.value).ho,u=u.readTime;if(!e.path.M(s.path))break;u.u(n)<=0||a instanceof tb&&Eb(e,a)&&(r=r.ot(a.key,a))}return r_.resolve(r)},zI.prototype.el=function(t,e){return r_.forEach(this.docs,(function(t){return e(t)}))},zI.prototype.wo=function(t){return new CI(this)},zI.prototype.To=function(t){return r_.resolve(this.size)},zI),CI=(po(KI,EI=Dr),KI.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach((function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)})),r_.On(n)},KI.prototype.vi=function(t,e){return this.Io.bi(t,e)},KI.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},KI),AI=(WI.prototype.Ce=function(t,e){return this.nl.forEach((function(t,n){return e(n)})),r_.resolve()},WI.prototype.So=function(t){return r_.resolve(this.lastRemoteSnapshotVersion)},WI.prototype.Do=function(t){return r_.resolve(this.sl)},WI.prototype.po=function(t){return this.highestTargetId=this.rl.next(),r_.resolve(this.highestTargetId)},WI.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),r_.resolve()},WI.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new gE(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},WI.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,r_.resolve()},WI.prototype.Oo=function(t,e){return this.xo(e),r_.resolve()},WI.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),--this.targetCount,r_.resolve()},WI.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return this.nl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.nl.delete(s),o.push(r.Mo(t,a.targetId)),i++)})),r_.On(o).next((function(){return i}))},WI.prototype.$o=function(t){return r_.resolve(this.targetCount)},WI.prototype.Lo=function(t,e){return e=this.nl.get(e)||null,r_.resolve(e)},WI.prototype.Bo=function(t,e,n){return this.il.au(e,n),r_.resolve()},WI.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach((function(e){i.push(r.so(t,e))})),r_.On(i)},WI.prototype.Mo=function(t,e){return this.il.hu(e),r_.resolve()},WI.prototype.Qo=function(t,e){return e=this.il._u(e),r_.resolve(e)},WI.prototype.ro=function(t,e){return r_.resolve(this.il.ro(e))},WI),NI=(HI.prototype.start=function(){return Promise.resolve()},HI.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(HI.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),HI.prototype.ha=function(){},HI.prototype.la=function(){},HI.prototype.Na=function(){return this.ki},HI.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new II(this.ki,this.qr),this.ol[t.ti()]=e),e},HI.prototype.Da=function(){return this.sa},HI.prototype.Ca=function(){return this.Fi},HI.prototype.runTransaction=function(t,e,n){var r=this;Cg("MemoryPersistence","Starting transaction:",t);var i=new kI(this.zo.next());return this.qr.cl(),n(i).next((function(t){return r.qr.ul(i).next((function(){return t}))})).xn().then((function(t){return i.xi(),t}))},HI.prototype.hl=function(t,e){return r_.kn(Object.values(this.ol).map((function(n){return function(){return n.ro(t,e)}})))},HI),kI=(po(BI,wI=L),BI),xI=(VI.fl=function(t){return new VI(t)},Object.defineProperty(VI.prototype,"dl",{get:function(){if(this._l)return this._l;throw xg()},enumerable:!1,configurable:!0}),VI.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),r_.resolve()},VI.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),r_.resolve()},VI.prototype.so=function(t,e){return this.dl.add(e.toString()),r_.resolve()},VI.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach((function(t){return n.dl.add(t.toString())}));var r=this.persistence.Da();return r.Qo(t,e.targetId).next((function(t){t.forEach((function(t){return n.dl.add(t.toString())}))})).next((function(){return r.ko(t,e)}))},VI.prototype.cl=function(){this._l=new Set},VI.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return r_.forEach(this.dl,(function(r){var i=sv.H(r);return e.wl(t,i).next((function(t){t||n.pi(i)}))})).next((function(){return e._l=null,n.apply(t)}))},VI.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next((function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())}))},VI.prototype.al=function(t){return 0},VI.prototype.wl=function(t,e){var n=this;return r_.kn([function(){return r_.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},VI),OI=(qI.prototype.wc=function(t){this.Il=t},qI.prototype.hc=function(t){this.ml=t},qI.prototype.onMessage=function(t){this.Al=t},qI.prototype.close=function(){this.Tl()},qI.prototype.send=function(t){this.El(t)},qI.prototype.Rl=function(){this.Il()},qI.prototype.Pl=function(t){this.ml(t)},qI.prototype.gl=function(t){this.Al(t)},qI),DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},PI=(UI.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);return Cg("RestConnection","Sending: ",i,n),this.vl(e={},r),this.Sl(t,i,e,n).then((function(t){return Cg("RestConnection","Received: ",t),t}),(function(e){throw Ng("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},UI.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},UI.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},UI.prototype.bl=function(t,e){return this.Vl+"/v1/"+e+":"+DI[t]},po(jI,_I=UI),jI.prototype.Sl=function(t,e,n,r){return new Promise((function(i,o){var s=new _g;s.listenOnce(mg.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case yg.NO_ERROR:var e=s.getResponseJson();Cg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yg.TIMEOUT:Cg("Connection",'RPC "'+t+'" timed out'),o(new Eg(wg.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:var n=s.getStatus();Cg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),0<n?(e=s.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(wg).indexOf(n)?n:wg.UNKNOWN,o(new Eg(n,e.message))):o(new Eg(wg.UNKNOWN,"Server responded with status "+s.getStatus())):o(new Eg(wg.UNAVAILABLE,"Connection failed."));break;default:xg()}}finally{Cg("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},jI.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new hg;this.vl((t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T}).initMessageHeaders,e),Do()||Ro()||0<=Oo().indexOf("Electron/")||0<=(e=Oo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=Oo().indexOf("MSAppHost/")||Po()||(t.httpHeadersOverwriteParam="$httpHeaders"),Cg("Connection","Creating WebChannel: "+(n=n.join("")),t);var i=r.createWebChannel(n,t),o=!1,s=!1,a=new OI({El:function(t){s?Cg("Connection","Not sending because WebChannel is closed:",t):(o||(Cg("Connection","Opening WebChannel transport."),i.open(),o=!0),Cg("Connection","WebChannel sending:",t),i.send(t))},Tl:function(){return i.close()}});return(t=function(t,e){i.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))})(bg.EventType.OPEN,(function(){s||Cg("Connection","WebChannel transport opened.")})),t(bg.EventType.CLOSE,(function(){s||(s=!0,Cg("Connection","WebChannel transport closed"),a.Pl())})),t(bg.EventType.ERROR,(function(t){s||(s=!0,Ng("Connection","WebChannel transport errored:",t),a.Pl(new Eg(wg.UNAVAILABLE,"The operation could not be completed")))})),t(bg.EventType.MESSAGE,(function(t){var e,n,r,o;s||(Og(!!(e=t.data[0])),(n=e.error||(null===(o=e[0])||void 0===o?void 0:o.error))?(Cg("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=Tv[r];if(void 0!==t)return Av(t)}(),o=n.message,void 0===t&&(t=wg.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),s=!0,a.Pl(new Eg(t,o)),i.close()):(Cg("Connection","WebChannel received:",e),a.gl(e)))})),setTimeout((function(){a.Rl()}),0),a},jI),RI=(FI.prototype.zc=function(t){this.Fl.push(t)},FI.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},FI.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},FI.prototype.Cl=function(){Cg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},FI.prototype.xl=function(){Cg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},FI.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},FI),LI=(MI.prototype.zc=function(t){},MI.prototype.ga=function(){},MI);function MI(){}function FI(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}function jI(t){var e=this;return(e=_I.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.T=t.T,e}function UI(t){this.yl=t,this._=t._,this.Vl=(t.ssl?"https":"http")+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}function qI(t){this.El=t.El,this.Tl=t.Tl}function VI(t){this.persistence=t,this.ll=new ST,this._l=null}function BI(t){var e=this;return(e=wI.call(this)||this).Wo=t,e}function HI(t){var e=this;this.ol={},this.zo=new z_(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new AI(this),this.ki=new Hw,this.Fi=new SI(t=this.ki,(function(t){return e.qr.al(t)}))}function WI(t){this.persistence=t,this.nl=new tv(bv,_v),this.lastRemoteSnapshotVersion=nv.min(),this.highestTargetId=0,this.sl=0,this.il=new ST,this.targetCount=0,this.rl=gE.yo()}function KI(t){var e=this;return(e=EI.call(this)||this).Io=t,e}function zI(t,e){this.ki=t,this.tl=e,this.docs=new Nv(sv.D),this.size=0}function GI(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new Lv(CT.iu)}function QI(){}function YI(t){return new xy(t,!0)}var XI,$I,JI=(aS.prototype.initialize=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}}))}))},aS.prototype.Ll=function(t){return null},aS.prototype.Bl=function(t){return e=this.persistence,n=new TI,new RE(e,n,t=t.ql);var e,n},aS.prototype.Ml=function(t){return new NI(xI.fl)},aS.prototype.kl=function(t){return new jT},aS.prototype.terminate=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}}))}))},aS),ZI=(po(sS,$I=JI),sS.prototype.initialize=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return[4,$I.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,KE(this.Bc)];case 2:return e.sent(),[4,this.Ul.initialize(this,t)];case 3:return e.sent(),[4,bI(this.Ul.mu)];case 4:return e.sent(),[4,bT(this.Ul.ph)];case 5:return e.sent(),[2]}}))}))},sS.prototype.Ll=function(t){return new lw(this.persistence.qr.gr,t.cs)},sS.prototype.Ml=function(t){var e=PE(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?aw.Ir(this.cacheSizeBytes):aw.Rr,r=YI(t.yl._);return new SE(this.synchronizeTabs,e,t.clientId,n,t.cs,__(),w_(),r,this.Sh,!!this.forceOwnership)},sS.prototype.kl=function(t){return new jT},sS),tS=(po(oS,XI=ZI),oS.prototype.initialize=function(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:return[4,XI.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Ul.mu,this.Sh instanceof FT?(this.Sh.mu={sh:dI.bind(null,e),ih:(function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o,s;return yo(this,(function(a){switch(a.label){case 0:return(i=t).qh?(Cg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,WE(i.Bc)];case 3:return o=a.sent(),s=Qv.Xt(e,"current"===n),[4,fI(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,VE(i.Bc,e,!0)];case 6:return a.sent(),uI(i,e,r),[3,8];case 7:xg(),a.label=8;case 8:return[2]}}))}))}).bind(null,e),rh:(function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l;return yo(this,(function(h){switch(h.label){case 0:if(!(r=mI(t)).qh)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.xh.has(o=o[i])?(Cg("SyncEngine","Adding an already active target "+o),[3,5]):[4,HE(r.Bc,o)]:[3,6];case 2:return s=h.sent(),[4,qE(r.Bc,s)];case 3:return a=h.sent(),[4,tI(r,yI(s),a.targetId,!1)];case 4:h.sent(),uT(r.ph,a),h.label=5;case 5:return i++,[3,1];case 6:u=function(t){return yo(this,(function(e){switch(e.label){case 0:return r.xh.has(t)?[4,VE(r.Bc,t,!1).then((function(){cT(r.ph,t),uI(r,t)})).catch(zE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?[5,u(l=l[c])]:[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}).bind(null,e),va:(function(t){return t.Bc.persistence.va()}).bind(null,e)},[4,this.Sh.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.ua((function(t){return vo(n,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return[4,gI(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},oS.prototype.kl=function(t){var e=__();if(!FT.Ln(e))throw new Eg(wg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=PE(t.yl._,t.yl.persistenceKey);return new FT(e,t.cs,n,t.clientId,t.ql)},oS),eS=(iS.prototype.initialize=function(t,e){return vo(this,void 0,void 0,(function(){var n=this;return yo(this,(function(r){switch(r.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(e),this.ph=this.Ql(e),this.bh=this.Wl(e),this.mu=this.jl(e,!t.synchronizeTabs),this.Sh.Cc=function(t){return rI(n.mu,t,1)},this.ph.Uc.Gl=pI.bind(null,this.mu),[4,ET(this.ph,this.mu.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},iS.prototype.Wl=function(t){return new A_},iS.prototype.Kl=function(t){var e=YI(t.yl._),n=new PI(n=t.yl);return new ZE(t=t.credentials,n,e)},iS.prototype.Ql=function(t){var e=this;return new GE(this.Bc,this.qc,t.cs,(function(t){return rI(e.mu,t,0)}),t=new(RI.Ln()?RI:LI))},iS.prototype.jl=function(t,e){return function(t,e,n,r,i,o,s){return o=new WT(t,e,n,r,i,o),s&&(o.qh=!0),o}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},iS.prototype.terminate=function(){return function(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return e=t,Cg("RemoteStore","RemoteStore shutting down."),e.Wc.add(5),[4,aT(e)];case 1:return n.sent(),e.Gc.ga(),e.Hc.set("Unknown"),[2]}}))}))}(this.ph)},iS),nS=(rS.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},rS.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},rS.prototype.Hl=function(){this.muted=!0},rS.prototype.zl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},rS);function rS(t){this.observer=t,this.muted=!1}function iS(){}function oS(t,e){var n=this;return(n=XI.call(this,t,e,!1)||this).Ul=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function sS(t,e,n){var r=this;return(r=$I.call(this)||this).Ul=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function aS(){this.synchronizeTabs=!1}function uS(t,e,n){if(!n)throw new Eg(wg.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cS(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Eg(wg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lS(t,e,n,r){if(!0===e&&!0===r)throw new Eg(wg.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":xg();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function fS(t,e){if(e<=0)throw new Eg(wg.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var pS,dS,gS=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new ov(t)},vS=(po(wS,dS=gS),wS.documentId=function(){return new wS(ov.j().B())},wS.prototype.isEqual=function(t){return t instanceof wS&&this.Yl.isEqual(t.Yl)},wS),yS=new RegExp("[~\\*/\\[\\]]"),mS=function(t){this.Jl=t},bS=(po(_S,pS=mS),_S.prototype.Xl=function(t){if(2!==t.Zl)throw t.t_(1===t.Zl?this.Jl+"() can only appear at the top level of your update data":this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},_S.prototype.isEqual=function(t){return t instanceof _S},_S);function _S(){return null!==pS&&pS.apply(this,arguments)||this}function wS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dS.call(this,t)||this}function ES(t,e,n){return new KS({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var TS,IS,SS,CS,AS=(po(HS,CS=mS),HS.prototype.Xl=function(t){return new _m(t.path,new om)},HS.prototype.isEqual=function(t){return t instanceof HS},HS),NS=(po(BS,SS=mS),BS.prototype.Xl=function(t){var e=ES(this,t,!0),n=this.s_.map((function(t){return ZS(t,e)}));return n=new sm(n),new _m(t.path,n)},BS.prototype.isEqual=function(t){return this===t},BS),kS=(po(VS,IS=mS),VS.prototype.Xl=function(t){var e=ES(this,t,!0),n=this.s_.map((function(t){return ZS(t,e)}));return n=new hm(n),new _m(t.path,n)},VS.prototype.isEqual=function(t){return this===t},VS),xS=(po(qS,TS=mS),qS.prototype.Xl=function(t){var e=new gm(t.serializer,Py(t.serializer,this.i_));return new _m(t.path,e)},qS.prototype.isEqual=function(t){return this===t},qS),OS=(Object.defineProperty(US.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(US.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),US.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},US.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},US.prototype.g=function(t){return Rg(this.r_,t.r_)||Rg(this.o_,t.o_)},US),DS=function(t){this.a_=t},PS=/^__.*__$/,RS=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},LS=(jS.prototype.l_=function(t,e){var n=[];return n.push(null!==this.Qe?new Pm(t,this.data,this.Qe,e):new Dm(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new jm(t,this.fieldTransforms)),n},jS),MS=(FS.prototype.l_=function(t,e){return e=[new Pm(t,this.data,this.Qe,e)],0<this.fieldTransforms.length&&e.push(new jm(t,this.fieldTransforms)),e},FS);function FS(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function jS(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function US(t,e){if(!isFinite(t)||t<-90||90<t)throw new Eg(wg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Eg(wg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}function qS(t,e){var n=this;return(n=TS.call(this,t)||this).i_=e,n}function VS(t,e){var n=this;return(n=IS.call(this,t)||this).s_=e,n}function BS(t,e){var n=this;return(n=SS.call(this,t)||this).s_=e,n}function HS(){return null!==CS&&CS.apply(this,arguments)||this}function WS(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw xg()}}var KS=(Object.defineProperty(QS.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(QS.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),QS.prototype.f_=function(t){return new QS(Object.assign(Object.assign({},this.settings),t),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},QS.prototype.d_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.f_({path:e,n_:!1})).w_(t),e},QS.prototype.E_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.f_({path:t,n_:!1})).__(),t},QS.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},QS.prototype.t_=function(t){return oC(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},QS.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},QS.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},QS.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(WS(this.Zl)&&PS.test(t))throw this.t_('Document fields cannot begin and end with "__"')},QS),zS=(GS.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new KS({Zl:t,methodName:e,e_:n,path:ov.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},GS);function GS(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||YI(t)}function QS(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=o||[]}function YS(t,e,n,r,i,o){void 0===o&&(o={});var s,a,u=t.m_(o.merge||o.mergeFields?2:0,e,n,i);if(nC("Data must be an object, but it was:",u,r),r=tC(r,u),o.merge)s=new bm(u.Qe),a=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=h[l],p=void 0;if(f instanceof gS)p=f.Yl;else{if("string"!=typeof f)throw xg();p=iC(e,f,n)}if(!u.contains(p))throw new Eg(wg.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");sC(c,p)||c.push(p)}s=new bm(c),a=u.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,a=u.fieldTransforms;return new LS(new Km(r),s,a)}function XS(t,e,n,r){var i=t.m_(1,e,n);nC("Data must be an object, but it was:",i,r);var o=[],s=new zm;return Xg(r,(function(t,r){var a=iC(e,t,n);t=i.E_(a),r instanceof bS||r instanceof DS&&r.a_ instanceof bS?o.push(a):null!=(t=ZS(r,t))&&(o.push(a),s.set(a,t))})),r=new bm(o),new MS(s.Xe(),r,i.fieldTransforms)}function $S(t,e,n,r,i,o){var s=t.m_(1,e,n),a=[rC(e,r,n)],u=[i];if(o.length%2!=0)throw new Eg(wg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(rC(e,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=new zm,g=a.length-1;0<=g;--g)sC(p,a[g])||(h=u[g],f=s.E_(l=a[g]),h instanceof bS||h instanceof DS&&h.a_ instanceof bS?p.push(l):null!=(f=ZS(h,f))&&(p.push(l),d.set(l,f)));return i=new bm(p),new MS(d.Xe(),i,s.fieldTransforms)}function JS(t,e,n,r){return void 0===r&&(r=!1),ZS(n,t.m_(r?4:3,e))}function ZS(t,e){if(t instanceof DS&&(t=t.a_),eC(t))return nC("Unsupported field value:",e,t),tC(t,e);if(t instanceof mS)return function(t,e){if(!WS(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");(t=t.Xl(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ZS(o[i],e.T_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Py(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ev.fromDate(t);return{timestampValue:Ry(e.serializer,n)}}if(t instanceof ev){var r=new ev(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ry(e.serializer,r)}}if(t instanceof OS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ug)return{bytesValue:Ly(e.serializer,t.l)};if(t instanceof RS){if(!(r=t.c_).isEqual(n=e._))throw e.t_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fy(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+hS(t))}(t,e)}function tC(t,e){var n={};return $g(t)?e.path&&0<e.path.length&&e.Qe.push(e.path):Xg(t,(function(t,r){null!=(r=ZS(r,e.d_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function eC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ev||t instanceof OS||t instanceof Ug||t instanceof RS||t instanceof mS)}function nC(t,e,n){if(!eC(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw n=hS(n),e.t_("an object"===n?t+" a custom object":t+" "+n);var r}function rC(t,e,n){if(e instanceof gS)return e.Yl;if("string"==typeof e)return iC(t,e);throw oC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function iC(t,e,n){try{return function(e){if(0<=e.search(yS))throw new Eg(wg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(vS.bind.apply(vS,wo([void 0],e.split("."))))}catch(t){throw new Eg(wg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yl}catch(e){throw oC(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function oC(t,e,n,r,i){var o=r&&!r.P(),s=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new Eg(wg.INVALID_ARGUMENT,(e+=". ")+t+n)}function sC(t,e){return t.some((function(t){return t.isEqual(e)}))}var aC=(fC.prototype.y_=function(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:if(this.V_(),0<this.mutations.length)throw new Eg(wg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return r=Hy((n=t).serializer)+"/documents",i={documents:e.map((function(t){return Uy(n.serializer,t)}))},[4,n.Dc("BatchGetDocuments",r,i)];case 1:return i=a.sent(),o=new Map,i.forEach((function(t){var e;e=n.serializer,t="found"in(t=t)?function(t,e){Og(!!e.found);var n=qy(t,e.found.name);return t=My(e.found.updateTime),e=new Km({mapValue:{fields:e.found.fields}}),new tb(n,t,e,{})}(e,t):"missing"in t?function(t,e){return Og(!!e.missing),Og(!!e.readTime),t=qy(t,e.missing),e=My(e.readTime),new eb(t,e)}(e,t):xg(),o.set(t.key.toString(),t)})),s=[],[2,(e.forEach((function(t){Og(!!(t=o.get(t.toString()))),s.push(t)})),s)]}}))}))}(this.qc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof eb||t instanceof tb?n.p_(t):xg()})),e)]}}))}))},fC.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},fC.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},fC.prototype.delete=function(t){this.write([new Hm(t,this.Ge(t))]),this.g_.add(t.toString())},fC.prototype.commit=function(){return vo(this,void 0,void 0,(function(){var t,e=this;return yo(this,(function(n){switch(n.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=sv.H(n),e.mutations.push(new Wm(n,e.Ge(n)))})),[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:return r=Hy((n=t).serializer)+"/documents",i={writes:e.map((function(t){return zy(n.serializer,t)}))},[4,n.Sc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.qc,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},fC.prototype.p_=function(t){var e;if(t instanceof tb)e=t.version;else{if(!(t instanceof eb))throw xg();e=nv.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Eg(wg.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},fC.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?Tm.updateTime(e):Tm.ze()},fC.prototype.b_=function(t){var e=this.A_.get(t.toString());if(this.g_.has(t.toString())||!e)return Tm.exists(!0);if(e.isEqual(nv.min()))throw new Eg(wg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tm.updateTime(e)},fC.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},fC.prototype.V_=function(){},fC),uC=(hC.prototype.run=function(){this.S_()},hC.prototype.S_=function(){var t=this;this.ys.Pn((function(){return vo(t,void 0,void 0,(function(){var t,e,n=this;return yo(this,(function(r){return t=new aC(this.qc),(e=this.D_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.C_(t)}))}))})).catch((function(t){n.C_(t)})),[2]}))}))}))},hC.prototype.D_=function(t){try{var e=this.updateFunction(t);return!dv(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},hC.prototype.C_=function(t){var e=this;0<this.v_&&this.N_(t)?(--this.v_,this.cs.ws((function(){return e.S_(),Promise.resolve()}))):this.ls.reject(t)},hC.prototype.N_=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Cv(t))},hC),cC=(lC.prototype.getConfiguration=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}}))}))},lC.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then((function(){return e.x_(e.user)}))},lC.prototype.O_=function(){if(this.cs.ps)throw new Eg(wg.FAILED_PRECONDITION,"The client has already been terminated.")},lC.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new e_;return this.cs.bs((function(){return vo(t,void 0,void 0,(function(){var t;return yo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.ai(),e.resolve(),[3,6];case 5:return t=C_(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}}))}))})),e.promise},lC);function lC(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=P_.UNAUTHENTICATED,this.clientId=Dg.t(),this.x_=function(){},this.ui=new e_,this.credentials.oi((function(t){Cg("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()}))}function hC(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new n_(this.cs,"transaction_retry")}function fC(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}function pC(t,e){return vo(this,void 0,void 0,(function(){var n,r=this;return yo(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),Cg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return vo(r,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return[4,ME(e.Bc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.ha((function(){return t.terminate()})),t.M_=e,[2]}}))}))}function dC(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),[4,gC(t)];case 1:return n=i.sent(),Cg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return function(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return(n=t).cs.Fs(),Cg("RemoteStore","RemoteStore received new credentials"),r=dT(n),n.Wc.add(3),[4,aT(n)];case 1:return i.sent(),r&&n.Hc.set("Unknown"),[4,n.Uc.Gl(e)];case 2:return i.sent(),n.Wc.delete(3),[4,sT(n)];case 3:return i.sent(),[2]}}))}))}(e.ph,n)}))})),t.k_=e,[2]}}))}))}function gC(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return t.M_?[3,2]:(Cg("FirestoreClient","Using default OfflineComponentProvider"),[4,pC(t,new JI)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}}))}))}function vC(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return t.k_?[3,2]:(Cg("FirestoreClient","Using default OnlineComponentProvider"),[4,dC(t,new eS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}}))}))}function yC(t){return gC(t).then((function(t){return t.persistence}))}function mC(t){return gC(t).then((function(t){return t.Bc}))}function bC(t){return vC(t).then((function(t){return t.ph}))}function _C(t){return vC(t).then((function(t){return t.mu}))}function wC(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return[4,vC(t)];case 1:return e=r.sent(),[2,((n=e.bh).Us=(function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return n=mI(t),(o=n.Nh.get(e))?(n.Sh.Bu(o.targetId),r=o.view.yh(),[3,4]):[3,1];case 1:return[4,qE(n.Bc,gb(e))];case 2:return i=s.sent(),o=n.Sh.Bu(i.targetId),[4,tI(n,e,i.targetId,"current"===o)];case 3:r=s.sent(),n.Uh&&uT(n.ph,i),s.label=4;case 4:return[2,r]}}))}))}).bind(null,e.mu),n.Ws=(function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:return r=(n=t).Nh.get(e),1<(i=n.xh.get(r.targetId)).length?[2,(n.xh.set(r.targetId,i.filter((function(t){return!bb(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Uu(r.targetId),n.Sh.Ou(r.targetId)?[3,2]:[4,VE(n.Bc,r.targetId,!1).then((function(){n.Sh.Qu(r.targetId),cT(n.ph,r.targetId),uI(n,r.targetId)})).catch(zE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return uI(n,r.targetId),[4,VE(n.Bc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}).bind(null,e.mu),n)]}}))}))}function EC(t,e,n,r){var i=this,o=new nS(r),s=new D_(e,o,n);return t.cs.ws((function(){return vo(i,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return e=k_,[4,wC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Hl(),t.cs.ws((function(){return vo(i,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return e=x_,[4,wC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}function TC(t,e){var n=this,r=new e_;return t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var n;return yo(this,(function(i){switch(i.label){case 0:return n=eI,[4,_C(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function IC(t,e){var n=this,r=new nS(e);return t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.qs.add(e),e.next()},[4,wC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Hl(),t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.qs.delete(e)},[4,wC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}function SC(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var CC=(kC.prototype.U_=function(t){switch(py(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _y(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(wy(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw xg()}},kC.prototype.z_=function(t){var e=this,n={};return Xg(t.fields||{},(function(t,r){n[t]=e.U_(r)})),n},kC.prototype.j_=function(t){return new OS(_y(t.latitude),_y(t.longitude))},kC.prototype.G_=function(t){var e=this;return(t.values||[]).map((function(t){return e.U_(t)}))},kC.prototype.Q_=function(t){switch(this.L_){case"previous":var e=function t(e){return ly(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==e?null:this.U_(e);case"estimate":return this.K_(hy(t));default:return null}},kC.prototype.K_=function(t){return t=by(t),new ev(t.seconds,t.nanos)},kC.prototype.W_=function(t){var e=rv.q(t);return Og(em(e)),t=new zg(e.get(1),e.get(3)),e=new sv(e.N(5)),t.isEqual(this._)||Ag("Document "+e+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(e)},kC),AC=(NC.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},NC);function NC(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Eg(wg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eg(wg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,lS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function kC(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}function xC(t,e,n){var r=this,i=new e_;return t.cs.enqueue((function(){return vo(r,void 0,void 0,(function(){var r;return yo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,pC(t,n)];case 1:return o.sent(),[4,dC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(o=r=o.sent()).name?o.code===wg.FAILED_PRECONDITION||o.code===wg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function OC(t){if(t.Y_||t.J_)throw new Eg(wg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var DC="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",PC=(jC.prototype.enableIndexedDbPersistence=function(t,e){throw new Eg(wg.FAILED_PRECONDITION,DC)},jC.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new Eg(wg.FAILED_PRECONDITION,DC)},jC.prototype.clearIndexedDbPersistence=function(t){throw new Eg(wg.FAILED_PRECONDITION,DC)},jC),RC=(FC.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){OC(t);var n=UC(t),r=t.H_();return xC(n,t=new eS,new ZI(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},FC),LC=(Object.defineProperty(MC.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(MC.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(MC.prototype,"af",{get:function(){return this.cf||(this.cf=new zS(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),MC.prototype.settings=function(t){if(t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge,t=new AC(t),this.nf&&!this.rf.isEqual(t))throw new Eg(wg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");void 0!==(this.rf=t).credentials&&(this.if=function(t){if(!t)return new F_;switch(t.type){case"gapi":var e=t.client;return Og(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new q_(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Eg(wg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},MC.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&Ng("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},MC.prototype.enableNetwork=function(){return UC(this),function(t){var e=this;return t.cs.enqueue((function(){return vo(e,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return[4,yC(t)];case 1:return e=r.sent(),[4,bC(t)];case 2:return n=r.sent(),[2,(e.la(!0),(r=n).Wc.delete(0),sT(r))]}}))}))}))}(this.nf)},MC.prototype.disableNetwork=function(){return UC(this),function(t){var e=this;return t.cs.enqueue((function(){return vo(e,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return[4,yC(t)];case 1:return e=r.sent(),[4,bC(t)];case 2:return n=r.sent(),[2,(e.la(!1),function(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return(e=t).Wc.add(0),[4,aT(e)];case 1:return n.sent(),e.Hc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(this.nf)},MC.prototype.enablePersistence=function(t){if(this.nf)throw new Eg(wg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&lS("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},MC.prototype.clearPersistence=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){return[2,this.tf.clearIndexedDbPersistence(this)]}))}))},MC.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},MC.prototype.waitForPendingWrites=function(){return UC(this),function(t){var e=this,n=new e_;return t.cs.ws((function(){return vo(e,void 0,void 0,(function(){var e;return yo(this,(function(r){switch(r.label){case 0:return e=oI,[4,_C(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(this.nf)},MC.prototype.onSnapshotsInSync=function(t){return UC(this),SC(t)?IC(this.nf,t):IC(this.nf,t={next:t})},MC.sf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new Eg(wg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');if(!(t=t.options.projectId)||"string"!=typeof t)throw new Eg(wg.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new zg(t)},Object.defineProperty(MC.prototype,"app",{get:function(){if(!this.ef)throw new Eg(wg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),MC.prototype.collection=function(t){return uS("Firestore.collection","path",t),UC(this),new uA(rv.q(t),this,null)},MC.prototype.doc=function(t){return uS("Firestore.doc","path",t),UC(this),KC.uf(rv.q(t),this,null)},MC.prototype.collectionGroup=function(t){if(uS("Firestore.collectionGroup","collectionId",t),0<=t.indexOf("/"))throw new Eg(wg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return UC(this),new sA((t=t,new rb(rv.U(),t)),this,null)},MC.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new e_;return t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var n;return yo(this,(function(i){switch(i.label){case 0:return[4,vC(t).then((function(t){return t.qc}))];case 1:return n=i.sent(),new uC(t.cs,n,e,r).run(),[2]}}))}))})),r.promise}(UC(this),(function(n){return t(new HC(e,n))}))},MC.prototype.batch=function(){return UC(this),new WC(this)},MC.prototype.H_=function(){return this.rf},MC);function MC(t,e,n){var r=this;if(void 0===n&&(n=new PC),this.tf=n,this.ef=null,this.X_=new T_,this.INTERNAL={delete:function(){return vo(r,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return this.nf||qC(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options)this.ef=n=t,this.c_=MC.sf(n),this.Z_=n.name,this.if=new j_(e);else{if(!(t=t).projectId)throw new Eg(wg.INVALID_ARGUMENT,"Must provide projectId");this.c_=new zg(t.projectId,t.database),this.Z_="[DEFAULT]",this.if=new F_}this.rf=new AC({})}function FC(){this.enableMultiTabIndexedDbPersistence=(function(t){OC(t);var e=UC(t),n=t.H_();return xC(e,t=new eS,new tS(t,n.cacheSizeBytes))}).bind(null),this.clearIndexedDbPersistence=(function(t){var e=this;if(t.Y_&&!t.J_)throw new Eg(wg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new e_;return t.X_.bs((function(){return vo(e,void 0,void 0,(function(){var e;return yo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return i_.Ln()?[4,i_.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(PE(t.c_,t.Z_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}).bind(null)}function jC(){}function UC(t){return t.nf||qC(t),t.nf.O_(),t.nf}function qC(t){var e=t.H_();e=new Kg(t.c_,t.Z_,e.host,e.ssl,e.experimentalForceLongPolling,e.experimentalAutoDetectLongPolling),t.nf=new cC(t.if,t.X_,e)}var VC,BC,HC=(tA.prototype.get=function(t){var e=this,n=fA(0,t,this.hf);return this.lf.y_([n.u_]).then((function(t){if(!t||1!==t.length)return xg();if((t=t[0])instanceof eb)return new GC(e.hf,n.u_,null,!1,!1,n.h_);if(t instanceof tb)return new GC(e.hf,n.u_,t,!1,!1,n.h_);throw xg()}))},tA.prototype.set=function(t,e,n){return t=fA(0,t,this.hf),n=cS("Transaction.set",n),e=pA(t.h_,e,n),n=YS(this.hf.af,"Transaction.set",t.u_,e,null!==t.h_,n),this.lf.set(t.u_,n),this},tA.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return e="string"==typeof e||e instanceof vS?(r=fA(0,t,this.hf),$S(this.hf.af,"Transaction.update",r.u_,e,n,i)):(r=fA(0,t,this.hf),XS(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,e),this},tA.prototype.delete=function(t){return t=fA(0,t,this.hf),this.lf.delete(t.u_),this},tA),WC=(ZC.prototype.set=function(t,e,n){return this.df(),t=fA(0,t,this.hf),n=cS("WriteBatch.set",n),e=pA(t.h_,e,n),n=YS(this.hf.af,"WriteBatch.set",t.u_,e,null!==t.h_,n),this._f=this._f.concat(n.l_(t.u_,Tm.ze())),this},ZC.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return this.df(),e="string"==typeof e||e instanceof vS?(r=fA(0,t,this.hf),$S(this.hf.af,"WriteBatch.update",r.u_,e,n,i)):(r=fA(0,t,this.hf),XS(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(e.l_(r.u_,Tm.exists(!0))),this},ZC.prototype.delete=function(t){return this.df(),t=fA(0,t,this.hf),this._f=this._f.concat(new Hm(t.u_,Tm.ze())),this},ZC.prototype.commit=function(){return this.df(),this.ff=!0,0<this._f.length?TC(UC(this.hf),this._f):Promise.resolve()},ZC.prototype.df=function(){if(this.ff)throw new Eg(wg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},ZC),KC=(po(JC,BC=RS),JC.uf=function(t,e,n){if(t.length%2!=0)throw new Eg(wg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new JC(new sv(t),e,n)},Object.defineProperty(JC.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(JC.prototype,"parent",{get:function(){return new uA(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(JC.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),JC.prototype.collection=function(t){if(uS("DocumentReference.collection","path",t),!t)throw new Eg(wg.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");return t=rv.q(t),new uA(this.u_.path.child(t),this.firestore,null)},JC.prototype.isEqual=function(t){return t instanceof JC&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},JC.prototype.set=function(t,e){return e=cS("DocumentReference.set",e),t=pA(this.h_,t,e),e=YS(this.firestore.af,"DocumentReference.set",this.u_,t,null!==this.h_,e),TC(this.nf,e.l_(this.u_,Tm.ze()))},JC.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return t="string"==typeof t||t instanceof vS?$S(this.firestore.af,"DocumentReference.update",this.u_,t,e,n):XS(this.firestore.af,"DocumentReference.update",this.u_,t),TC(this.nf,t.l_(this.u_,Tm.exists(!0)))},JC.prototype.delete=function(){return TC(this.nf,[new Hm(this.u_,Tm.ze())])},JC.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||SC(e[i])||(r=e[i],i++);var o={includeMetadataChanges:r.includeMetadataChanges};SC(e[i])&&(e[i]=null===(r=(s=e[i]).next)||void 0===r?void 0:r.bind(s),e[i+1]=null===(r=s.error)||void 0===r?void 0:r.bind(s),e[i+2]=null===(r=s.complete)||void 0===r?void 0:r.bind(s));var s={next:function(n){e[i]&&e[i](t.wf(n))},error:e[i+1],complete:e[i+2]};return EC(this.nf,ub(this.u_.path),o,s)},JC.prototype.get=function(t){var e=this;return t&&"cache"===t.source?function(t,e){var n=this,r=new e_;return t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var n;return yo(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return vo(this,void 0,void 0,(function(){var r;return yo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(o=e,(s=t).persistence.runTransaction("read document","readonly",(function(t){return s.Ka.Mi(t,o)})))];case 1:return(r=i.sent())instanceof tb?n.resolve(r):r instanceof eb?n.resolve(null):n.reject(new Eg(wg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=C_(r=i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}var o,s}))}))},[4,mC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(this.nf,this.u_).then((function(t){return new GC(e.firestore,e.u_,t,!0,t instanceof tb&&t.Je,e.h_)})):function(t,e,n){var r=this;void 0===n&&(n={});var i=new e_;return t.cs.ws((function(){return vo(r,void 0,void 0,(function(){var r;return yo(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nS({next:function(o){e.ws((function(){return x_(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Eg(wg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Eg(wg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new D_(ub(n.path),o,{includeMetadataChanges:!0,Xs:!0});return k_(t,s)},[4,wC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(this.nf,this.u_,t).then((function(t){return e.wf(t)}))},JC.prototype.withConverter=function(t){return new JC(this.u_,this.firestore,t)},JC.prototype.wf=function(t){var e=t.docs.get(this.u_);return new GC(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},JC),zC=($C.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},$C),GC=(XC.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new QC(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new CC(this.hf.c_,t.serverTimestamps||"none",(function(t){return new KC(t,e.hf,null)}),(function(t){return new Wg(t)})).U_(this.Ef.rn())}},XC.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef&&null!==(t=this.Ef.data().field(rC("DocumentSnapshot.get",t,this.u_))))return new CC(this.hf.c_,e.serverTimestamps||"none",(function(t){return new KC(t,n.hf,n.h_)}),(function(t){return new Wg(t)})).U_(t)},Object.defineProperty(XC.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(XC.prototype,"ref",{get:function(){return new KC(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(XC.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(XC.prototype,"metadata",{get:function(){return new zC(this.If,this.Tf)},enumerable:!1,configurable:!0}),XC.prototype.isEqual=function(t){return t instanceof XC&&this.hf===t.hf&&this.Tf===t.Tf&&this.u_.isEqual(t.u_)&&(null===this.Ef?null===t.Ef:this.Ef.isEqual(t.Ef))&&this.h_===t.h_},XC),QC=(po(YC,VC=GC),YC.prototype.data=function(t){return VC.prototype.data.call(this,t)},YC);function YC(){return null!==VC&&VC.apply(this,arguments)||this}function XC(t,e,n,r,i,o){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=o}function $C(t,e){this.hasPendingWrites=t,this.fromCache=e}function JC(t,e,n){var r=this;return(r=BC.call(this,e.c_,t,n)||this).u_=t,r.firestore=e,r.h_=n,r.nf=UC(e),r}function ZC(t){this.hf=t,this._f=[],this.ff=!1}function tA(t,e){this.hf=t,this.lf=e}function eA(t,e,n){if("string"==typeof n){if(""===n)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(e)&&-1!==n.indexOf("/"))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(rv.q(n)),!sv.X(e))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ey(t,new sv(e))}if(n instanceof RS)return Ey(t,n.u_);throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hS(n)+".")}function nA(t,e){if(!Array.isArray(t)||0===t.length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function rA(t,e,n){if(!n.isEqual(e))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function iA(t){if(lb(t)&&0===t.on.length)throw new Eg(wg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oA,sA=(hA.prototype.where=function(t,e,n){return t=rC("Query.where",t),e=function(t,e,n,r,i,o){if(r.W()){if("array-contains"===i||"array-contains-any"===i)throw new Eg(wg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){nA(o,i);for(var s=[],a=0,u=o;a<u.length;a++)s.push(eA(n,t,u[a]));c={arrayValue:{values:s}}}else c=eA(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||nA(o,i),c=JS(e,"Query.where",o,"in"===i||"not-in"===i);var c=Sb.create(r,i,c);return function(t,e){if(e.hn()){var n=fb(t);if(null!==n&&!n.isEqual(e.field))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=hb(t))&&rA(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw new Eg(wg.INVALID_ARGUMENT,t===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,c),c}(this.mf,this.firestore.af,this.firestore.c_,t,e,n),new hA((e=(n=this.mf).filters.concat([e]),new rb(n.path,n.collectionGroup,n.on.slice(),e,n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.h_)},hA.prototype.orderBy=function(t,e){if(void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new Eg(wg.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var n;return t=rC("Query.orderBy",t),t=function(t,e,n){if(null!==t.startAt)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return n=e=new t_(e,n),null!==hb(t)||null!==(t=fb(t))&&rA(0,t,n.field),e}(this.mf,t,n),new hA((t=(n=this.mf).on.concat([t]),new rb(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.h_)},hA.prototype.limit=function(t){return fS("Query.limit",t),new hA(vb(this.mf,t,"F"),this.firestore,this.h_)},hA.prototype.limitToLast=function(t){return fS("Query.limitToLast",t),new hA(vb(this.mf,t,"L"),this.firestore,this.h_)},hA.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Af("Query.startAt",t,e,!0),new hA(yb(this.mf,t),this.firestore,this.h_)},hA.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Af("Query.startAfter",t,e,!1),new hA(yb(this.mf,t),this.firestore,this.h_)},hA.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Af("Query.endBefore",t,e,!0),new hA(mb(this.mf,t),this.firestore,this.h_)},hA.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Af("Query.endAt",t,e,!1),new hA(mb(this.mf,t),this.firestore,this.h_)},hA.prototype.isEqual=function(t){return t instanceof hA&&this.firestore===t.firestore&&bb(this.mf,t.mf)&&this.h_===t.h_},hA.prototype.withConverter=function(t){return new hA(this.mf,this.firestore,t)},hA.prototype.Af=function(t,e,n,r){return e instanceof GC?function(e,n,r,i){if(!r)throw new Eg(wg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],s=0,a=db(e);s<a.length;s++){var u=a[s];if(u.field.W())o.push(Ey(n,r.key));else{var c=r.field(u.field);if(ly(c))throw new Eg(wg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.B(),new Eg(wg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new Kb(o,i)}(this.mf,this.firestore.c_,e.Ef,r):(n=[e].concat(n),function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new Eg(wg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.W()){if("string"!=typeof c)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!pb(t)&&-1!==c.indexOf("/"))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rv.q(c));if(!sv.X(l))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new sv(l),a.push(Ey(e,l))}else c=JS(n,r,c),a.push(c)}return new Kb(a,o)}(this.mf,this.firestore.c_,this.firestore.af,t,n,r))},hA.prototype.onSnapshot=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={},o=0;"object"!=typeof n[o]||SC(n[o])||(i=n[o],o++),SC(n[o])&&(n[o]=null===(t=(s=n[o]).next)||void 0===t?void 0:t.bind(s),n[o+1]=null===(t=s.error)||void 0===t?void 0:t.bind(s),n[o+2]=null===(t=s.complete)||void 0===t?void 0:t.bind(s));var s={next:function(t){n[o]&&n[o](new aA(e.firestore,e.mf,t,e.h_))},error:n[o+1],complete:n[o+2]};return iA(this.mf),EC(UC(this.firestore),this.mf,i,s)},hA.prototype.get=function(t){var e=this;iA(this.mf);var n=UC(this.firestore);return(t&&"cache"===t.source?function(t,e){var n=this,r=new e_;return t.cs.ws((function(){return vo(n,void 0,void 0,(function(){var n;return yo(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,BE(t,e,!0)];case 1:return i=o.sent(),r=new VT(e,i.za),i=r.wh(i.documents),i=r.Di(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=C_(i=o.sent(),"Failed to execute query '"+e+" against cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,mC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.mf):function(t,e,n){var r=this;void 0===n&&(n={});var i=new e_;return t.cs.ws((function(){return vo(r,void 0,void 0,(function(){var r;return yo(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nS({next:function(n){e.ws((function(){return x_(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Eg(wg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new D_(n,o,{includeMetadataChanges:!0,Xs:!0});return k_(t,s)},[4,wC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(n,this.mf,t)).then((function(t){return new aA(e.firestore,e.mf,t,e.h_)}))},hA),aA=(Object.defineProperty(lA.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(lA.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(lA.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),lA.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach((function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))}))},Object.defineProperty(lA.prototype,"query",{get:function(){return new sA(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),lA.prototype.docChanges=function(t){if((t=!(!t||!t.includeMetadataChanges))&&this.Pf.jt)throw new Eg(wg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===t||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xg()}}(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Pf,t,this.Vf.bind(this)),this.yf=t),this.gf},lA.prototype.isEqual=function(t){return t instanceof lA&&this.hf===t.hf&&bb(this.Rf,t.Rf)&&this.Pf.isEqual(t.Pf)&&this.h_===t.h_},lA.prototype.Vf=function(t,e,n){return new QC(this.hf,t.key,t,e,n,this.h_)},lA),uA=(po(cA,oA=sA),Object.defineProperty(cA.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(cA.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new KC(new sv(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(cA.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),cA.prototype.doc=function(t){return 0===arguments.length&&(t=Dg.t()),uS("CollectionReference.doc","path",t),t=rv.q(t),KC.uf(this.mf.path.child(t),this.firestore,this.h_)},cA.prototype.add=function(t){t=this.h_?this.h_.toFirestore(t):t;var e=this.doc();return new KC(e.u_,this.firestore,null).set(t).then((function(){return e}))},cA.prototype.withConverter=function(t){return new cA(this.pf,this.firestore,t)},cA);function cA(t,e,n){var r=this;if(((r=oA.call(this,ub(t),e,n)||this).pf=t).length%2!=1)throw new Eg(wg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.B()+" has "+t.length);return r}function lA(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new zC(n.hasPendingWrites,n.fromCache)}function hA(t,e,n){this.mf=t,this.firestore=e,this.h_=n}function fA(t,e,n){if((e=function(t,e){if(t instanceof e)return t;if(e.name===t.constructor.name)throw new Eg(wg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=hS(t),new Eg(wg.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}(e,KC)).firestore!==n)throw new Eg(wg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function pA(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}po(yA,dA=DS),yA.serverTimestamp=function(){var t=new AS("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new yA(t)},yA.delete=function(){var t=new bS("deleteField");return t.Jl="FieldValue.delete",new yA(t)},yA.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new NS("arrayUnion",t)}).apply(void 0,t);return n.Jl="FieldValue.arrayUnion",new yA(n)},yA.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kS("arrayRemove",t)}).apply(void 0,t);return n.Jl="FieldValue.arrayRemove",new yA(n)},yA.increment=function(t){return(t=new xS("increment",t)).Jl="FieldValue.increment",new yA(t)},yA.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)};var dA,gA,vA={Firestore:LC,GeoPoint:OS,Timestamp:ev,Blob:Wg,Transaction:HC,WriteBatch:WC,DocumentReference:KC,DocumentSnapshot:GC,Query:sA,QueryDocumentSnapshot:QC,QuerySnapshot:aA,CollectionReference:uA,FieldPath:vS,FieldValue:Dr=yA,setLogLevel:function(t){Tg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function yA(){return null!==dA&&dA.apply(this,arguments)||this}(gA=Fs).INTERNAL.registerComponent(new cs("firestore",(function(t){return e=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal"),new LC(e,t,new RC);var e}),"PUBLIC").setServiceProps(Object.assign({},vA))),gA.registerVersion("@firebase/firestore","2.0.1");var mA,bA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_A=(po(wA,mA=Error),wA);function wA(t,e,n){return e=mA.call(this,e)||this,Object.setPrototypeOf(e,wA.prototype),e.code=t,e.details=n,e}var EA=(TA.prototype.getAuthToken=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},TA.prototype.getInstanceIdToken=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},TA.prototype.getContext=function(){return vo(this,void 0,void 0,(function(){var t,e;return yo(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},TA);function TA(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function IA(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var SA=(CA.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return IA(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},CA.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?IA(t,(function(t){return e.decode(t)})):t},CA);function CA(){}var AA,NA,kA,xA=(Object.defineProperty(OA.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),OA.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},OA.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},OA.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},OA.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},OA.prototype.postJSON=function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i;return yo(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},OA.prototype.call=function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o,s,a;return yo(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=u.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),c=a=n.timeout||7e4,h=new Promise((function(t,e){l=setTimeout((function(){e(new _A("deadline-exceeded","deadline-exceeded"))}),c)})),a=(s={timer:l,promise:h}).timer,s=s.promise,[4,Promise.race([DA(a,this.postJSON(r,i,o)),s,DA(a,this.cancelAllRequests)])];case 2:if(!(s=u.sent()))throw new _A("cancelled","Firebase Functions instance was deleted.");if(a=function(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!bA[a])return new _A("internal","internal");r=bA[a],i=a}"string"==typeof(a=s.message)&&(i=a),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new _A(r,i,o)}(s.status,s.json,this.serializer))throw a;if(!s.json)throw new _A("internal","Response is not valid JSON object.");if(void 0===(a=s.json.data)&&(a=s.json.result),void 0===a)throw new _A("internal","Response is missing data field.");return[2,{data:this.serializer.decode(a)}]}var c,l,h}))}))},OA);function OA(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new SA,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new EA(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function DA(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function PA(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function RA(t,e,n){var r,i=new Promise((function(i,o){PA(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function LA(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function MA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return RA(this[e],r,arguments)})}))}function FA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function jA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return(t=RA(this[e],r,arguments)).then((function(e){if(e)return new qA(e,t.request)}));var t})}))}function UA(t){this._index=t}function qA(t,e){this._cursor=t,this._request=e}function VA(t){this._store=t}function BA(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function HA(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new BA(n)}function WA(t){this._db=t}function KA(t,e,n){var r=(e=RA(indexedDB,"open",[t,e])).request;return r&&(r.onupgradeneeded=function(t){n&&n(new HA(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new WA(t)}))}function zA(t){return RA(indexedDB,"deleteDatabase",[t])}AA=Fs,NA=fetch.bind(self),kA={Functions:xA},AA.INTERNAL.registerComponent(new cs("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new xA(n,r,t,e,NA)}),"PUBLIC").setServiceProps(kA).setMultipleInstances(!0)),Fs.registerVersion("@firebase/functions","0.6.1"),LA(UA,"_index",["name","keyPath","multiEntry","unique"]),MA(UA,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),jA(UA,"_index",IDBIndex,["openCursor","openKeyCursor"]),LA(qA,"_cursor",["direction","key","primaryKey","value"]),MA(qA,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(qA.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),PA(e._request).then((function(t){if(t)return new qA(t,e._request)}))}))})})),VA.prototype.createIndex=function(){return new UA(this._store.createIndex.apply(this._store,arguments))},VA.prototype.index=function(){return new UA(this._store.index.apply(this._store,arguments))},LA(VA,"_store",["name","keyPath","indexNames","autoIncrement"]),MA(VA,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),jA(VA,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),FA(VA,"_store",IDBObjectStore,["deleteIndex"]),BA.prototype.objectStore=function(){return new VA(this._tx.objectStore.apply(this._tx,arguments))},LA(BA,"_tx",["objectStoreNames","mode"]),FA(BA,"_tx",IDBTransaction,["abort"]),HA.prototype.createObjectStore=function(){return new VA(this._db.createObjectStore.apply(this._db,arguments))},LA(HA,"_db",["name","version","objectStoreNames"]),FA(HA,"_db",IDBDatabase,["deleteObjectStore","close"]),WA.prototype.transaction=function(){return new BA(this._db.transaction.apply(this._db,arguments))},LA(WA,"_db",["name","version","objectStoreNames"]),FA(WA,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[VA,UA].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[UA,VA].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var GA="w:0.4.19",QA="FIS_v2",YA=((L={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',L["not-registered"]="Firebase Installation is not registered.",L["installation-not-found"]="Firebase Installation not found.",L["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',L["app-offline"]="Could not process request. Application offline.",L["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Vo("installations","Installations",Dr=L));function XA(t){return t instanceof Uo&&t.code.includes("request-failed")}function $A(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+(t=t.projectId)+"/installations"}function JA(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function ZA(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,YA.create("request-failed",{requestName:t,serverCode:(n=n.error).code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function tN(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function eN(t,e){return e=e.refreshToken,(t=tN(t)).append("Authorization",QA+" "+e),t}function nN(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function rN(t){return new Promise((function(e){setTimeout(e,t)}))}var iN=/^[cdef][\w-]{21}$/;function oN(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=function(t){return btoa(String.fromCharCode.apply(String,_o(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22),iN.test(t)?t:""}catch(t){return""}}function sN(t){return t.appName+"!"+t.appId}var aN=new Map;function uN(t,e){cN(t=sN(t),e),function(t,e){var n=hN();n&&n.postMessage({key:t,fid:e}),fN()}(t,e)}function cN(t,e){var n,r,i=aN.get(t);if(i)try{for(var o=mo(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var lN=null;function hN(){return!lN&&"BroadcastChannel"in self&&((lN=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){cN(t.data.key,t.data.fid)}),lN}function fN(){0===aN.size&&lN&&(lN.close(),lN=null)}var pN,dN="firebase-installations-store",gN=null;function vN(){return gN=gN||KA("firebase-installations-database",1,(function(t){0===t.oldVersion&&t.createObjectStore(dN)}))}function yN(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return n=sN(t),[4,vN()];case 1:return i=s.sent(),r=i.transaction(dN,"readwrite"),[4,(i=r.objectStore(dN)).get(n)];case 2:return o=s.sent(),[4,i.put(e,n)];case 3:return s.sent(),[4,r.complete];case 4:return s.sent(),o&&o.fid===e.fid||uN(t,e.fid),[2,e]}}))}))}function mN(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return e=sN(t),[4,vN()];case 1:return[4,(n=(n=r.sent()).transaction(dN,"readwrite")).objectStore(dN).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function bN(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return n=sN(t),[4,vN()];case 1:return i=a.sent(),r=i.transaction(dN,"readwrite"),[4,(i=r.objectStore(dN)).get(n)];case 2:return o=a.sent(),void 0!==(s=e(o))?[3,4]:[4,i.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,i.put(s,n)];case 5:a.sent(),a.label=6;case 6:return[4,r.complete];case 7:return a.sent(),!s||o&&o.fid===s.fid||uN(t,s.fid),[2,s]}}))}))}function _N(t){return vo(this,void 0,void 0,(function(){var e,n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,bN(t,(function(n){return n=EN(n||{fid:oN(),registrationStatus:0}),n=function(t,e){return 0!==e.registrationStatus?1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return vo(this,void 0,void 0,(function(){var e,n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,wN(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,rN(100)];case 3:return i.sent(),[4,wN(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,_N(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e}:navigator.onLine?(t=function(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return vo(this,void 0,void 0,(function(){var e,r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return e=$A(t),r=tN(t),s={fid:n,authVersion:QA,appId:t.appId,sdkVersion:GA},i={method:"POST",headers:r,body:JSON.stringify(s)},[4,nN((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:JA(s.authToken)}];case 3:return[4,ZA("Create Installation",o)];case 4:throw a.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,yN(t,n)];case 2:return XA(r=i.sent())&&409===r.customData.serverCode?[4,mN(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,yN(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:e,registrationPromise:t}):{installationEntry:e,registrationPromise:Promise.reject(YA.create("app-offline"))}}(t,n),e=n.registrationPromise,n.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function wN(t){return bN(t,(function(t){if(!t)throw YA.create("installation-not-found");return EN(t)}))}function EN(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function TN(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return vo(this,void 0,void 0,(function(){var t,i,o,s,a;return yo(this,(function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,$A(t)+"/"+e+"/authTokens:generate"}(n,e),i=eN(n,e),(a=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",a.getPlatformInfoString()),a={installation:{sdkVersion:GA}},o={method:"POST",headers:i,body:JSON.stringify(a)},[4,nN((function(){return fetch(t,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,JA(a=u.sent())];case 3:return[4,ZA("Generate Auth Token",s)];case 4:throw u.sent()}}))}))}function IN(t,e){return void 0===e&&(e=!1),vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:return[4,bN(t.appConfig,(function(r){if(!CN(r))throw YA.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i)){if(1===o.requestStatus)return n=function(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,SN(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,rN(100)];case 3:return r.sent(),[4,SN(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,IN(t,e)]:[2,n]}}))}))}(t,e),r;if(!navigator.onLine)throw YA.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=go(go({},i),{authToken:o}),n=function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,TN(t,e)];case 1:return n=o.sent(),i=go(go({},e),{authToken:n}),[4,yN(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!XA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,mN(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=go(go({},e),{authToken:{requestStatus:0}}),[4,yN(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function SN(t){return bN(t,(function(t){if(!CN(t))throw YA.create("not-registered");var e=t.authToken;return 1===(e=e).requestStatus&&e.requestTime+1e4<Date.now()?go(go({},t),{authToken:{requestStatus:0}}):t}))}function CN(t){return void 0!==t&&2===t.registrationStatus}function AN(t,e){return vo(this,void 0,void 0,(function(){var n,r,i;return yo(this,(function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,$A(t)+"/"+e}(t,e),i=eN(t,e),r={method:"DELETE",headers:i},[4,nN((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,ZA("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function NN(t){return YA.create("missing-app-config-values",{valueName:t})}(pN=Fs).INTERNAL.registerComponent(new cs("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw NN("App Configuration");if(!t.name)throw NN("App Name");try{for(var r=mo(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw NN(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return[4,_N(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||IN(t)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),vo(this,void 0,void 0,(function(){return yo(this,(function(n){switch(n.label){case 0:return[4,function(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return[4,_N(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,IN(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return[4,bN(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw YA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw YA.create("app-offline");case 3:return[4,AN(e,n)];case 4:return r.sent(),[4,mN(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){hN();var n=sN(t);(t=aN.get(n))||(t=new Set,aN.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=sN(t=n),(t=aN.get(i))&&(t.delete(r),0===t.size&&aN.delete(i),fN())}}(n,t)}}}),"PUBLIC")),pN.registerVersion("@firebase/installations","0.4.19"),(L={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',L["only-available-in-window"]="This method is available in a Window context.",L["only-available-in-sw"]="This method is available in a service worker context.",L["permission-default"]="The notification permission was not granted and dismissed instead.",L["permission-blocked"]="The notification permission was not granted and blocked instead.",L["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",L["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",L["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",L["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",L["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",L["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",L["token-update-no-token"]="FCM returned no token when updating the user to push.",L["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",L["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",L["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",L["invalid-vapid-key"]="The public VAPID key must be a string.",L["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var kN,xN=new Vo("messaging","Messaging",Dr=L),ON="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DN="FCM_MSG",PN="google.c.a.c_id";function RN(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,_o(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(L=kN=kN||{}).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked";var LN="fcm_token_details_db",MN="fcm_token_object_Store";function FN(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(LN))return[2,null];r.label=2;case 2:return e=null,[4,KA(LN,5,(function(r){return vo(n,void 0,void 0,(function(){var n,i,o;return yo(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(MN)?[4,(o=r.transaction.objectStore(MN)).index("fcmSenderId").get(t)]:[2];case 1:return n=s.sent(),[4,o.clear()];case 2:if(s.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:RN(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:RN(i.auth),p256dh:RN(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:RN(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,zA(LN)];case 4:return r.sent(),[4,zA("fcm_vapid_details_db")];case 5:return r.sent(),[4,zA("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var jN="firebase-messaging-store",UN=null;function qN(){return UN=UN||KA("firebase-messaging-database",1,(function(t){0===t.oldVersion&&t.createObjectStore(jN)}))}function VN(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return e=HN(t),[4,qN()];case 1:return[4,r.sent().transaction(jN).objectStore(jN).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,FN(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,BN(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function BN(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return n=HN(t),[4,qN()];case 1:return[4,(r=(r=i.sent()).transaction(jN,"readwrite")).objectStore(jN).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}}))}))}function HN(t){return t.appConfig.appId}function WN(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,zN(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(KN(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw xN.create("token-unsubscribe-failed",{errorInfo:r=n.error.message});return[3,6];case 5:throw r=i.sent(),xN.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function KN(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+(t=t.projectId)+"/registrations"}function zN(t){var e=t.appConfig,n=t.installations;return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function GN(t){var e={web:{endpoint:t.endpoint,auth:t.auth,p256dh:e=t.p256dh}};return(t=t.vapidKey)!==ON&&(e.web.applicationPubKey=t),e}function QN(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o;return yo(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw xN.create("permission-blocked");return[4,function(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}}))}))}(e,n)];case 1:return o=s.sent(),[4,VN(t)];case 2:return r=s.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:RN(o.getKey("auth")),p256dh:RN(o.getKey("p256dh"))},r?[3,3]:[2,XN(t,i)];case 3:if(c=(u=i).vapidKey===(a=r.subscriptionOptions).vapidKey,l=u.endpoint===a.endpoint,h=u.auth===a.auth,a=u.p256dh===a.p256dh,c&&l&&h&&a)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,WN(t,r.token)];case 5:return s.sent(),[3,7];case 6:return o=s.sent(),console.warn(o),[3,7];case 7:return[2,XN(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return vo(this,void 0,void 0,(function(){var r,i,o;return yo(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return[4,zN(t)];case 1:n=s.sent(),r=GN(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(KN(t.appConfig)+"/"+e.token,r)];case 3:return[4,s.sent().json()];case 4:return i=s.sent(),[3,6];case 5:throw o=s.sent(),xN.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw xN.create("token-update-failed",{errorInfo:o=i.error.message});if(!i.token)throw xN.create("token-update-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return r=s.sent(),i=go(go({},t),{token:r,createTime:Date.now()}),[4,BN(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,YN(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var a,u,c,l,h}))}))}function YN(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,VN(t)];case 1:return(n=r.sent())?[4,WN(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return e=HN(t),[4,qN()];case 1:return[4,(n=(n=r.sent()).transaction(jN,"readwrite")).objectStore(jN).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function XN(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,function(t,e){return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return[4,zN(t)];case 1:n=s.sent(),r=GN(e),r={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(KN(t.appConfig),r)];case 3:return[4,s.sent().json()];case 4:return i=s.sent(),[3,6];case 5:throw o=s.sent(),xN.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw xN.create("token-subscribe-failed",{errorInfo:o=i.error.message});if(!i.token)throw xN.create("token-subscribe-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,BN(t,n)];case 2:return r.sent(),[2,n.token]}}))}))}function $N(t){return"object"==typeof t&&t&&PN in t}function JN(t){return new Promise((function(e){setTimeout(e,t)}))}var ZN=(Object.defineProperty(tk.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),tk.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw xN.create("invalid-bg-handler");this.bgMessageHandler=t},tk.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},tk.prototype.getToken=function(){var t;return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,VN(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:ON,n.label=2;case 2:return[2,QN(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},tk.prototype.deleteToken=function(){return YN(this.firebaseDependencies,self.registration)},tk.prototype.requestPermission=function(){throw xN.create("only-available-in-window")},tk.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw xN.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw xN.create("invalid-vapid-key");this.vapidKey=t},tk.prototype.useServiceWorker=function(){throw xN.create("only-available-in-window")},tk.prototype.onMessage=function(){throw xN.create("only-available-in-window")},tk.prototype.onTokenRefresh=function(){throw xN.create("only-available-in-window")},tk.prototype.onPush=function(t){return vo(this,void 0,void 0,(function(){var e,n,r;return yo(this,(function(i){switch(i.label){case 0:return(r=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,ek()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=kN.PUSH_RECEIVED;try{for(var i=mo(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((a=go({},(o=r).notification)).data=((s={})[DN]=o,s),a))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n),(n=e.notification.body)&&(t.notification.body=n),(e=e.notification.image)&&(t.notification.image=e)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n),(e=e.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=e)}}(e,t),e}(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,JN(1e3)]);case 4:return i.sent(),[2]}var o,s,a}))}))},tk.prototype.onSubChange=function(t){var e;return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,YN(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,VN(this.firebaseDependencies)];case 3:return n=r.sent(),[4,YN(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,QN(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:ON)];case 5:return r.sent(),[2]}}))}))},tk.prototype.onNotificationClick=function(t){var e;return vo(this,void 0,void 0,(function(){var n,r,i,o,s;return yo(this,(function(a){switch(a.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[DN])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||($N(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return vo(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return yo(this,(function(u){switch(u.label){case 0:return[4,ek()];case 1:e=u.sent();try{for(n=mo(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(s=a.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return s=a.sent(),[4,JN(3e3)];case 3:return a.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=a.sent(),a.label=6;case 6:return s?(n.messageType=kN.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,s.postMessage(n)]):[2]}}))}))},tk);function tk(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function ek(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var nk=(Object.defineProperty(rk.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),rk.prototype.messageEventListener=function(t){return vo(this,void 0,void 0,(function(){var e,n;return yo(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===kN.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),$N(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},rk.prototype.getVapidKey=function(){return this.vapidKey},rk.prototype.getSwReg=function(){return this.swRegistration},rk.prototype.getToken=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw xN.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,QN(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},rk.prototype.updateVapidKey=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ON),[2]}))}))},rk.prototype.updateSwReg=function(t){return vo(this,void 0,void 0,(function(){return yo(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw xN.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},rk.prototype.registerDefaultSw=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=e.sent(),xN.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},rk.prototype.deleteToken=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,YN(this.firebaseDependencies,this.swRegistration)]}}))}))},rk.prototype.requestPermission=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw xN.create("denied"===t?"permission-blocked":"permission-default")}}))}))},rk.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw xN.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw xN.create("invalid-vapid-key");this.vapidKey=t},rk.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw xN.create("invalid-sw-registration");if(this.swRegistration)throw xN.create("use-sw-after-get-token");this.swRegistration=t},rk.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},rk.prototype.setBackgroundMessageHandler=function(){throw xN.create("only-available-in-sw")},rk.prototype.onBackgroundMessage=function(){throw xN.create("only-available-in-sw")},rk.prototype.onTokenRefresh=function(){return function(){}},rk.prototype.logEvent=function(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case kN.NOTIFICATION_CLICKED:return"notification_open";case kN.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[PN],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},rk);function rk(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function ik(t){return xN.create("missing-app-config-values",{valueName:t})}function ok(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Dr={isSupported:ok},Fs.INTERNAL.registerComponent(new cs("messaging",(function(t){var e=t.getProvider("app").getImmediate();if(t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw ik("App Configuration Object");if(!t.name)throw ik("App Name");var r=t.options;try{for(var i=mo(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw ik(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")},!ok())throw xN.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?ZN:nk)(t)}),"PUBLIC").setServiceProps(Dr));var sk,ak="firebasestorage.googleapis.com",uk=(po(ck,sk=Uo),ck.prototype.codeEquals=function(t){return fk(t)===this.code},Object.defineProperty(ck.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(ck.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),ck);function ck(t,e){return(e=sk.call(this,fk(t),"Firebase Storage: "+e)||this).customData={serverResponse:null},Object.setPrototypeOf(e,ck.prototype),e}var lk="canceled",hk="invalid-argument";function fk(t){return"storage/"+t}function pk(){return new uk("unknown","An unknown error occurred, please check the error payload for server response.")}function dk(){return new uk(lk,"User canceled the upload/download.")}function gk(){return new uk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vk(){return new uk("app-deleted","The Firebase app was deleted.")}function yk(t,e){return new uk("invalid-format","String does not match format '"+t+"': "+e)}function mk(t){throw new uk("internal-error","Internal error: "+t)}var bk={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_k=function(t,e){this.data=t,this.contentType=e||null};function wk(t,e){switch(t){case bk.RAW:return new _k(Ek(e));case bk.BASE64:case bk.BASE64URL:return new _k(Tk(t,e));case bk.DATA_URL:return new _k(function(t){return(t=new Sk(t)).base64?Tk(bk.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw yk(bk.DATA_URL,"Malformed data URL.")}return Ek(e)}(t.rest)}(e),new Sk(e).contentType)}throw pk()}function Ek(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Tk(t,e){switch(t){case bk.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw yk(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bk.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw yk(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw yk(t,"Invalid character found")}for(var o=new Uint8Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return o}var Ik,Sk=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw yk(bk.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(e=r).length>=(n=";base64").length&&e.substring(e.length-n.length)===n,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Ck="running",Ak="pausing",Nk="paused",kk="success",xk="canceling",Ok="canceled",Dk="error",Pk={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rk(t){switch(t){case Ck:case Ak:case xk:return Pk.RUNNING;case Nk:return Pk.PAUSED;case kk:return Pk.SUCCESS;case Ok:return Pk.CANCELED;case Dk:default:return Pk.ERROR}}function Lk(t){return null!=t}function Mk(t){return"string"==typeof t||t instanceof String}function Fk(t){return jk()&&t instanceof Blob}function jk(){return"undefined"!=typeof Blob}function Uk(t,e,n,r){if(r<e)throw new uk(hk,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n<r)throw new uk(hk,"Invalid value for '"+t+"'. Expected "+n+" or less.")}(L=Ik=Ik||{})[L.NO_ERROR=0]="NO_ERROR",L[L.NETWORK_ERROR=1]="NETWORK_ERROR",L[L.ABORT=2]="ABORT";var qk=(Vk.prototype.send=function(t,e,n,r){if(this.sent_)throw mk("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Lk(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Lk(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},Vk.prototype.getErrorCode=function(){if(!this.sent_)throw mk("cannot .getErrorCode() before sending");return this.errorCode_},Vk.prototype.getStatus=function(){if(!this.sent_)throw mk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}},Vk.prototype.getResponseText=function(){if(!this.sent_)throw mk("cannot .getResponseText() before sending");return this.xhr_.responseText},Vk.prototype.abort=function(){this.xhr_.abort()},Vk.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},Vk.prototype.addUploadProgressListener=function(t){Lk(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},Vk.prototype.removeUploadProgressListener=function(t){Lk(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},Vk);function Vk(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ik.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ik.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ik.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var Bk=(Hk.prototype.createXhrIo=function(){return new qk},Hk);function Hk(){}function Wk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(jk())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var Kk=(zk.prototype.size=function(){return this.size_},zk.prototype.type=function(){return this.type_},zk.prototype.slice=function(t,e){if(Fk(this.data_)){var n=this.data_;return null===(r=t,i=e,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new zk(i)}var r,i;return new zk(new Uint8Array(this.data_.buffer,t,e-t),!0)},zk.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(jk()){var n=t.map((function(t){return t instanceof zk?t.data_:t}));return new zk(Wk.apply(null,n))}n=t.map((function(t){return Mk(t)?wk(bk.RAW,t).data:t.data_}));var r=0;n.forEach((function(t){r+=t.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]})),new zk(i,!0)},zk.prototype.uploadData=function(){return this.data_},zk);function zk(t,e){var n=0,r="";Fk(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var Gk=(Object.defineProperty(Qk.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(Qk.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),Qk.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},Qk.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Qk.makeFromBucketSpec=function(t){var e;try{e=Qk.makeFromUrl(t)}catch(e){return new Qk(t,"")}if(""===e.path)return e;throw new uk("invalid-default-bucket","Invalid default bucket '"+t+"'.")},Qk.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=ak.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(t);if(c){e=new Qk(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw new uk("invalid-url","Invalid URL '"+(n=t)+"'.");return e},Qk);function Qk(t,e){this.bucket=t,this.path_=e}function Yk(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Xk(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $k(t){return"https://"+ak+"/v0"+t}function Jk(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function Zk(t,e){return e}var tx=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Zk},ex=null;function nx(t,e,n){return null===(e=Yk(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Gk(t.bucket,n=t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,e,n)}function rx(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var ix="prefixes",ox="items",sx=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ax(t){if(!t)throw pk()}function ux(t,e){return function(n,r){return ax(null!==(r=nx(t,r,e))),r}}function cx(t){return function(e,n){var r=401===e.getStatus()?new uk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new uk("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new uk("unauthorized","User does not have permission to access '"+(r=t.path)+"'."):n;return r.serverResponse=n.serverResponse,r}}function lx(t){var e=cx(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new uk("object-not-found","Object '"+(n=t.path)+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function hx(t,e,n){var r=$k(e.fullServerUrl()),i=t.maxOperationRetryTime;return(i=new sx(r,"GET",ux(t,n),i)).errorHandler=lx(e),i}function fx(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}var px=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function dx(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ax(!1)}return ax(!!n&&-1!==(e||["active"]).indexOf(n)),n}var gx=function(t,e,n){"function"==typeof t||Lk(e)||Lk(n)?(this.next=t,this.error=e||null,this.complete=n||null):(this.next=(t=t).next||null,this.error=t.error||null,this.complete=t.complete||null)},vx=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function yx(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var mx=(bx.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},bx.prototype.shouldDoResumable_=function(t){return 262144<t.size()},bx.prototype.start_=function(){this.state_===Ck&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},bx.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case Ck:t(n);break;case xk:e.transition_(Ok);break;case Ak:e.transition_(Nk)}}))},bx.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=fx(e,r,i);return i={name:s.fullPath},o=$k(o),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},n=rx(s,n),(t=new sx(o,"POST",(function(t){var e;dx(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ax(!1)}return ax(Mk(e)),e}),t=t.maxUploadRetryTime)).urlParams=i,t.headers=r,t.body=n,t.errorHandler=cx(e),t}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},bx.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){return(t=new sx(n,"POST",(function(t){var e=dx(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ax(!1)}n||ax(!1);var i=Number(n);return ax(!isNaN(i)),new px(i,r.size(),"final"===e)}),t=t.maxUploadRetryTime)).headers={"X-Goog-Upload-Command":"query"},t.errorHandler=cx(e),t}(t.service_,t.location_,e,t.blob_);n=t.service_.makeRequest(r,n),(t.request_=n).getPromise().then((function(e){t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},bx.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new px(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new px(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new uk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(s=r.slice(s=u.current,i=s+l)))throw gk();return(i=new sx(n,"POST",(function(t,n){var i=dx(t,["active","final"]),s=u.current+l,a=r.size();return n="final"===i?ux(e,o)(t,n):null,new px(s,a,"final"===i,n)}),i=e.maxUploadRetryTime)).headers=c,i.body=s.uploadData(),i.progressCallback=a||null,i.errorHandler=cx(t),i}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(i){return t.error_=i,void t.transition_(Dk)}i=t.service_.makeRequest(o,i),(t.request_=i).getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(kk)):t.completeTransitions_()}),t.errorHandler_)}))},bx.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},bx.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=hx(t.service_,t.location_,t.mappings_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(kk)}),t.metadataErrorHandler_)}))},bx.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=fx(e,r,i);if(i="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rx(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",null===(r=Kk.getBlob(i,r,a="\r\n--"+a+"--")))throw gk();return a={name:u.fullPath},u=$k(o),o=t.maxUploadRetryTime,(o=new sx(u,"POST",ux(t,n),o)).urlParams=a,o.headers=s,o.body=r.uploadData(),o.errorHandler=cx(e),o}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(kk)}),t.errorHandler_)}))},bx.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},bx.prototype.transition_=function(t){if(this.state_!==t)switch(t){case xk:case Ak:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Ck:var e=this.state_===Nk;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Nk:this.state_=t,this.notifyObservers_();break;case Ok:this.error_=dk(),this.state_=t,this.notifyObservers_();break;case Dk:case kk:this.state_=t,this.notifyObservers_()}},bx.prototype.completeTransitions_=function(){switch(this.state_){case Ak:this.transition_(Nk);break;case xk:this.transition_(Ok);break;case Ck:this.start_()}},Object.defineProperty(bx.prototype,"snapshot",{get:function(){var t=Rk(this.state_);return new vx(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),bx.prototype.on=function(t,e,n,r){var i=this,o=new gx(e,n,r);return this.addObserver_(o),function(){i.removeObserver_(o)}},bx.prototype.then=function(t,e){return this.promise_.then(t,e)},bx.prototype.catch=function(t){return this.then(null,t)},bx.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},bx.prototype.removeObserver_=function(t){-1!==(t=this.observers_.indexOf(t))&&this.observers_.splice(t,1)},bx.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},bx.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Rk(this.state_)){case Pk.SUCCESS:yx(this.resolve_.bind(null,this.snapshot))();break;case Pk.CANCELED:case Pk.ERROR:yx(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},bx.prototype.notifyObserver_=function(t){switch(Rk(this.state_)){case Pk.RUNNING:case Pk.PAUSED:t.next&&yx(t.next.bind(t,this.snapshot))();break;case Pk.SUCCESS:t.complete&&yx(t.complete.bind(t))();break;case Pk.CANCELED:case Pk.ERROR:t.error&&yx(t.error.bind(t,this.error_))();break;default:t.error&&yx(t.error.bind(t,this.error_))()}},bx.prototype.resume=function(){var t=this.state_===Nk||this.state_===Ak;return t&&this.transition_(Ck),t},bx.prototype.pause=function(){var t=this.state_===Ck;return t&&this.transition_(Ak),t},bx.prototype.cancel=function(){var t=this.state_===Ck||this.state_===Ak;return t&&this.transition_(xk),t},bx);function bx(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Ck,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(lk)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(Dk))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(lk)?s.completeTransitions_():(s.error_=t,s.transition_(Dk))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}var _x=(wx.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},wx.prototype.newRef=function(t,e){return new wx(t,e)},wx.prototype.mappings=function(){if(ex)return ex;var t=[];t.push(new tx("bucket")),t.push(new tx("generation")),t.push(new tx("metageneration")),t.push(new tx("name","fullPath",!0));var e=new tx("name");return e.xform=function(t,e){return!Mk(e=e)||e.length<2?e:Xk(e)},t.push(e),(e=new tx("size")).xform=function(t,e){return Lk(e)?Number(e):e},t.push(e),t.push(new tx("timeCreated")),t.push(new tx("updated")),t.push(new tx("md5Hash",null,!0)),t.push(new tx("cacheControl",null,!0)),t.push(new tx("contentDisposition",null,!0)),t.push(new tx("contentEncoding",null,!0)),t.push(new tx("contentLanguage",null,!0)),t.push(new tx("contentType",null,!0)),t.push(new tx("metadata","customMetadata",!0)),ex=t},wx.prototype.child=function(t){var e;return e=this.location.path,t=(t=t).split("/").filter((function(t){return 0<t.length})).join("/"),t=new Gk(this.location.bucket,t=0===e.length?t:e+"/"+t),this.newRef(this.service,t)},Object.defineProperty(wx.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);return null===t?null:(t=new Gk(this.location.bucket,t),this.newRef(this.service,t))},enumerable:!1,configurable:!0}),Object.defineProperty(wx.prototype,"root",{get:function(){var t=new Gk(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(wx.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(wx.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(wx.prototype,"name",{get:function(){return Xk(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(wx.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),wx.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new mx(this,this.service,this.location,this.mappings(),new Kk(t),e)},wx.prototype.putString=function(t,e,n){return void 0===e&&(e=bk.RAW),this.throwIfRoot_("putString"),t=wk(e,t),!Lk((n=Object.assign({},n)).contentType)&&Lk(t.contentType)&&(n.contentType=t.contentType),new mx(this,this.service,this.location,this.mappings(),new Kk(t.data,!0),n)},wx.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n,r,i=(i=t.service,r=$k((n=t.location).fullServerUrl()),(i=new sx(r,"DELETE",(function(t,e){}),i=i.maxOperationRetryTime)).successCodes=[200,204],i.errorHandler=lx(n),i);return t.service.makeRequest(i,e).getPromise()}))},wx.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},wx.prototype.listAllHelper=function(t,e){return vo(this,void 0,void 0,(function(){var n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,this.list(r={pageToken:e})];case 1:return n=i.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},wx.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&Uk("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r,i,o,s,a=(r=e.service,o=n.pageToken,a=n.maxResults,(s={}).prefix=(i=e.location).isRoot?"":i.path+"/",0<"/".length&&(s.delimiter="/"),o&&(s.pageToken=o),a&&(s.maxResults=a),o=$k(i.bucketOnlyServerUrl()),a=r.maxOperationRetryTime,(a=new sx(o,"GET",function(t,e){return function(n,r){return ax(null!==(r=function(t,e,n){return null===(n=Yk(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ix])for(var i=0,o=n[ix];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Gk(e,s));r.prefixes.push(a)}if(n[ox])for(var u=0,c=n[ox];u<c.length;u++)a=t.makeStorageReference(new Gk(e,c[u].name)),r.items.push(a);return r}(t,e,n)}(t,e,r))),r}}(r,i.bucket),a)).urlParams=s,a.errorHandler=cx(i),a);return e.service.makeRequest(a,t).getPromise()}))},wx.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=hx(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},wx.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r,i,o,s,a,u=(r=e.service,i=e.location,u=t,o=e.mappings(),s=$k(i.fullServerUrl()),a=rx(u,o),u=r.maxOperationRetryTime,(u=new sx(s,"PATCH",ux(r,o),u)).headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=lx(i),u);return e.service.makeRequest(u,n).getPromise()}))},wx.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n,r,i,o,s=(n=t.service,r=t.location,i=t.mappings(),o=$k(r.fullServerUrl()),s=n.maxOperationRetryTime,(s=new sx(o,"GET",function(t,e){return function(n,r){var i=nx(t,r,e);return ax(null!==i),function(t,e){if(null===(e=Yk(e)))return null;if(!Mk(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var n=encodeURIComponent;return e.split(",").map((function(e){var r=t.fullPath;return $k("/b/"+n(t.bucket)+"/o/"+n(r))+Jk({alt:"media",token:e})}))[0]}(i,r)}}(n,i),s)).errorHandler=lx(r),s);return t.service.makeRequest(s,e).getPromise().then((function(t){if(null===t)throw new uk("no-download-url","The given file does not have any download URLs.");return t}))}))},wx.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw new uk("invalid-root-operation","The operation '"+(t=t)+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},wx);function wx(t,e){this.service=t,this.location=e instanceof Gk?e:Gk.makeFromUrl(e)}var Ex=(Tx.prototype.getPromise=function(){return this.promise_},Tx.prototype.cancel=function(t){},Tx);function Tx(t){this.promise_=Promise.reject(t)}var Ix=(Sx.prototype.start_=function(){var t,e,n,r,i,o,s,a,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var s=c.callback_(o,o.getResponseText());void 0!==s?r(s):r()}catch(t){i(t)}else null!==o?((n=pk()).serverResponse=o.getResponseText(),i(c.errorCallback_?c.errorCallback_(o,n):n)):i(n=e.canceled?(c.appDelete_?vk:dk)():new uk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===s}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];a||(a=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a||(t||h()||o?f.call.apply(f,wo([null,t],e)):(r<64&&(r*=2),p(1===s?(s=2,0):1e3*(r+Math.random()))))}function g(t){u||(u=!0,a||(null!==i?(t||(s=2),clearTimeout(i),p(0)):t||(s=1)))}this.canceled_?l(0,new Cx(!1,null,!0)):this.backoffId_=(t=function(t,e){function n(t){var e=t.loaded;t=t.lengthComputable?t.total:-1,null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new Cx(!1,null,!0)):(e=c.pool_.createXhrIo(),c.pendingXhr_=e,null!==c.progressCallback_&&e.addUploadProgressListener(n),e.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(n),c.pendingXhr_=null;var r=e.getErrorCode()===Ik.NO_ERROR,i=e.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),t(!0,new Cx(i,e))):(e=e.getErrorCode()===Ik.ABORT,t(!1,new Cx(!1,null,e)))})))},e=l,n=this.timeout_,i=null,u=a=o=!(r=1),p(s=0),setTimeout((function(){g(o=!0)}),n),g)},Sx.prototype.getPromise=function(){return this.promise_},Sx.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},Sx.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t);return t=-1!==this.additionalRetryCodes_.indexOf(t),e||n||t},Sx);function Sx(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var Cx=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},Ax=(Nx.extractBucket_=function(t){return null==(t=null==t?void 0:t.storageBucket)?null:Gk.makeFromBucketSpec(t)},Nx.prototype.getAuthToken=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}}))}))},Nx.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},Nx.prototype.makeStorageReference=function(t){return new _x(this,t)},Nx.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Ex(vk());var r=function(t,e,n,r){var i=Jk(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return i=s,(e=e)&&(i["X-Firebase-GMPID"]=e),e=s,null!==(n=n)&&0<n.length&&(e.Authorization="Firebase "+n),(e=s)["X-Firebase-Storage-Version"]="webjs/"+(n=void 0!==Fs?Fs.SDK_VERSION:"AppManager"),new Ix(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},Nx.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new uk(hk,"Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new _x(this,this.bucket_);return null!=t?e.child(t):e},Nx.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new uk(hk,"Expected full URL but got a child path, use ref instead.");try{Gk.makeFromUrl(t)}catch(t){throw new uk(hk,"Expected valid full URL but got an invalid one.")}return new _x(this,t)},Object.defineProperty(Nx.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),Nx.prototype.setMaxUploadRetryTime=function(t){Uk("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(Nx.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),Nx.prototype.setMaxOperationRetryTime=function(t){Uk("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(Nx.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(Nx.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),Nx);function Nx(t,e,n,r){this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=e,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=n,this.bucket_=null!=r?Gk.makeFromBucketSpec(r):Nx.extractBucket_(null===(r=this.app_)||void 0===r?void 0:r.options),this.internals_=new Ox(this)}var kx,xx,Ox=(Dx.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},Dx);function Dx(t){this.service_=t}xx={TaskState:Pk,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:bk,Storage:Ax,Reference:_x},(kx=Fs).INTERNAL.registerComponent(new cs("storage",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),new Ax(n,t,new Bk,e)}),"PUBLIC").setServiceProps(xx).setMultipleInstances(!0)),kx.registerVersion("@firebase/storage","0.4.1");var Px,Rx,Lx="0.4.4",Mx="FB-PERF-TRACE-MEASURE",Fx="@firebase/performance/config",jx="@firebase/performance/configexpire",Ux=(Dr="Performance",(L={})["trace started"]="Trace {$traceName} was started before.",L["trace stopped"]="Trace {$traceName} is not running.",L["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",L["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",L["no window"]="Window is not available.",L["no app id"]="App id is not available.",L["no project id"]="Project id is not available.",L["no api key"]="Api key is not available.",L["invalid cc log"]="Attempted to queue invalid cc event",L["FB not default"]="Performance can only start when Firebase app instance is the default one.",L["RC response not ok"]="RC response is not ok",L["invalid attribute name"]="Attribute name {$attributeName} is invalid.",L["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",L["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",L["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Vo("performance",Dr,L=L)),qx=new Ts(Dr);qx.logLevel=ys.INFO;var Vx,Bx=(Hx.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},Hx.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},Hx.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},Hx.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},Hx.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},Hx.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},Hx.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Lo()||(qx.info("IndexedDB is not supported by current browswer"),!1):(qx.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},Hx.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},Hx.getInstance=function(){return void 0===Px&&(Px=new Hx(Rx)),Px},Hx);function Hx(t){if(!(this.window=t))throw Ux.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function Wx(t,e){var n=t.length-e.length;if(n<0||1<n)throw Ux.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var Kx,zx,Gx=(Qx.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Ux.create("no app id");return t},Qx.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Ux.create("no project id");return t},Qx.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Ux.create("no api key");return t},Qx.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},Qx.getInstance=function(){return void 0===Vx&&(Vx=new Qx),Vx},Qx);function Qx(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Wx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Wx("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Dr=zx=zx||{})[Dr.UNKNOWN=0]="UNKNOWN",Dr[Dr.VISIBLE=1]="VISIBLE",Dr[Dr.HIDDEN=2]="HIDDEN";var Yx=["firebase_","google_","ga_"],Xx=new RegExp("^[a-zA-Z]\\w*$");function $x(){switch(Bx.getInstance().document.visibilityState){case"visible":return zx.VISIBLE;case"hidden":return zx.HIDDEN;default:return zx.UNKNOWN}}function Jx(t){var e,n=function(){var t=Bx.getInstance().localStorage;if(t){var e=t.getItem(jx);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(Fx);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(tO(n),Promise.resolve()):(e=t,function(){var t=Gx.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Gx.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Gx.getInstance().getApiKey();return t=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Gx.getInstance().getAppId(),app_version:Lx,sdk_version:"0.0.1"})}),fetch(t).then((function(t){if(t.ok)return t.json();throw Ux.create("RC response not ok")}))})).catch((function(){qx.info(Zx)})).then(tO).then((function(t){var e=Bx.getInstance().localStorage;t&&e&&(e.setItem(Fx,JSON.stringify(t)),e.setItem(jx,String(Date.now()+60*Gx.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var Zx="Could not fetch config, will use default configs";function tO(t){if(!t)return t;var e=Gx.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=eO(e.tracesSamplingRate),e.logNetworkAfterSampling=eO(e.networkRequestsSamplingRate),t}function eO(t){return Math.random()<=t}var nO,rO=1;function iO(){return rO=2,nO=nO||function(){var t=Bx.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=Gx.getInstance().installationsService.getId()).then((function(t){Kx=t})),t;var t})).then(Jx).then(oO,oO)}function oO(){rO=3}var sO,aO=1e4,uO=3,cO=[],lO=!1;function hO(t,e){(sO=sO||function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw Ux.create("invalid cc log");cO=wo(cO,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}(dO))(t,e)}function fO(t){var e=Gx.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Bx.getInstance().requiredApisAvailable()&&(t.isAuto&&$x()!==zx.VISIBLE||(3===rO?pO(t):iO().then((function(){return pO(t)}),(function(){return pO(t)}))))}function pO(t){var e;!Kx||(e=Gx.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return hO(t,1)}),0)}function dO(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:gO(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:gO(),trace_metric:e},JSON.stringify(e)})(t)}function gO(){return{google_app_id:Gx.getInstance().getAppId(),app_instance_id:Kx,web_app_info:{sdk_version:Lx,page_url:Bx.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=Bx.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:$x(),effective_connection_type:function(){var t=Bx.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var vO=["_fp","_fcp","_fid"],yO=(mO.prototype.start=function(){if(1!==this.state)throw Ux.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},mO.prototype.stop=function(){if(2!==this.state)throw Ux.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),fO(this)},mO.prototype.record=function(t,e,n){if(t<=0)throw Ux.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Ux.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=go({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}fO(this)},mO.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},mO.prototype.putMetric=function(t,e){if(r=this.name,0===(n=t).length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<vO.indexOf(n))&&n.startsWith("_"))throw Ux.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&qx.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},mO.prototype.getMetric=function(t){return this.counters[t]||0},mO.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length||Yx.some((function(t){return n.startsWith(t)}))||!n.match(Xx)),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Ux.create("invalid attribute name",{attributeName:t});if(!i)throw Ux.create("invalid attribute value",{attributeValue:e})}},mO.prototype.getAttribute=function(t){return this.customAttributes[t]},mO.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},mO.prototype.getAttributes=function(){return go({},this.customAttributes)},mO.prototype.setStartTime=function(t){this.startTimeUs=t},mO.prototype.setDuration=function(t){this.durationUs=t},mO.prototype.calculateTraceMetrics=function(){var t;(t=(t=this.api.getEntriesByName(this.traceMeasure))&&t[0])&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},mO.createOobTrace=function(t,e,n){var r,i=Bx.getInstance().getUrl();i&&(r=new mO("_wt_"+i,!0),i=Math.floor(1e3*Bx.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find((function(t){return"first-paint"===t.name})))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find((function(t){return"first-contentful-paint"===t.name})))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),fO(r))},mO.createUserTimingTrace=function(t){fO(new mO(t,!1,t))},mO);function mO(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Bx.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||Mx+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function bO(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=Bx.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=Gx.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return hO(e,0)}),0)))}function _O(){Kx&&(setTimeout((function(){var t,e=Bx.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){yO.createOobTrace(n,r),t=void 0}),5e3),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),yO.createOobTrace(n,r,e))}))):yO.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=Bx.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)bO(n[e]);t.setupObserver("resource",bO)}),0),setTimeout((function(){for(var t=Bx.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)wO(n[e]);t.setupObserver("measure",wO)}),0))}function wO(t){(t=t.name).substring(0,Mx.length)!==Mx&&yO.createUserTimingTrace(t)}var EO,TO=(IO.prototype.trace=function(t){return new yO(t)},Object.defineProperty(IO.prototype,"instrumentationEnabled",{get:function(){return Gx.getInstance().instrumentationEnabled},set:function(t){Gx.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(IO.prototype,"dataCollectionEnabled",{get:function(){return Gx.getInstance().dataCollectionEnabled},set:function(t){Gx.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),IO);function IO(t){this.app=t,Bx.getInstance().requiredApisAvailable()&&Mo().then((function(t){t&&(lO||(function t(e){setTimeout((function(){if(0!==uO)return cO.length?void function(){var e=wo(cO);cO=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=Gx.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||qx.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=aO;isNaN(r)||(i=Math.max(r,i)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(cO=wo(n,cO),qx.info("Retry transport request later.")),uO=3,t(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Gx.getInstance().logSource,log_event:n},e).catch((function(){cO=wo(e,cO),uO--,qx.info("Tries left: "+uO+"."),t(aO)}))}():t(aO)}),e)}(5500),lO=!0),iO().then(_O,_O))})).catch((function(t){qx.info("Environment doesn't support IndexedDB: "+t)}))}(EO=Fs).INTERNAL.registerComponent(new cs("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw Ux.create("FB not default");if("undefined"==typeof window)throw Ux.create("no window");return Rx=window,Gx.getInstance().firebaseAppInstance=t,Gx.getInstance().installationsService=e,new TO(t)}(t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate())}),"PUBLIC")),EO.registerVersion("@firebase/performance","0.4.4");var SO,CO,AO="https://www.googletagmanager.com/gtag/js";(Dr=SO=SO||{}).EVENT="event",Dr.SET="set",Dr.CONFIG="config",(Dr=CO=CO||{}).ADD_SHIPPING_INFO="add_shipping_info",Dr.ADD_PAYMENT_INFO="add_payment_info",Dr.ADD_TO_CART="add_to_cart",Dr.ADD_TO_WISHLIST="add_to_wishlist",Dr.BEGIN_CHECKOUT="begin_checkout",Dr.CHECKOUT_PROGRESS="checkout_progress",Dr.EXCEPTION="exception",Dr.GENERATE_LEAD="generate_lead",Dr.LOGIN="login",Dr.PAGE_VIEW="page_view",Dr.PURCHASE="purchase",Dr.REFUND="refund",Dr.REMOVE_FROM_CART="remove_from_cart",Dr.SCREEN_VIEW="screen_view",Dr.SEARCH="search",Dr.SELECT_CONTENT="select_content",Dr.SELECT_ITEM="select_item",Dr.SELECT_PROMOTION="select_promotion",Dr.SET_CHECKOUT_OPTION="set_checkout_option",Dr.SHARE="share",Dr.SIGN_UP="sign_up",Dr.TIMING_COMPLETE="timing_complete",Dr.VIEW_CART="view_cart",Dr.VIEW_ITEM="view_item",Dr.VIEW_ITEM_LIST="view_item_list",Dr.VIEW_PROMOTION="view_promotion",Dr.VIEW_SEARCH_RESULTS="view_search_results";var NO=new Ts("@firebase/analytics");(Dr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Dr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Dr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Dr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Dr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Dr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Dr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var kO=new Vo("analytics","Analytics",Dr=Dr);function xO(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var OO=new(xO.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},xO.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},xO.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},xO);function DO(t){var e;return vo(this,void 0,void 0,(function(){var n,r,i,o;return yo(this,(function(s){switch(s.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=s.sent()).status||304===r.status)return[3,6];i="",s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.json()];case 3:return o=s.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return s.sent(),[3,5];case 5:throw kO.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}var PO=(RO.prototype.addEventListener=function(t){this.listeners.push(t)},RO.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},RO);function RO(){this.listeners=[]}var LO,MO,FO={},jO=[],UO={},qO="dataLayer",VO="gtag",BO=!1;var HO,WO="analytics";(HO=Fs).INTERNAL.registerComponent(new cs(WO,(function(t){return function(t,e){n=[],Po()&&n.push("This is a browser extension environment."),Fo()||n.push("Cookies are not available."),0<n.length&&(n=n.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=kO.create("invalid-analytics-context",{errorInfo:n}),NO.warn(n.message));var n,r,i,o,s,a,u=t.options.appId;if(!u)throw kO.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw kO.create("no-api-key");NO.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=FO[u])throw kO.create("already-exists",{id:u});return BO||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(AO))return r}}()||(s=qO,(a=document.createElement("script")).src=AO+"?l="+s,a.async=!0,document.head.appendChild(a)),i=qO,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,n=FO,s=jO,a=UO,r=qO,i=VO,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return vo(this,void 0,void 0,(function(){var a;return yo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==SO.EVENT?[3,2]:[4,function(t,e,n,r,i){return vo(this,void 0,void 0,(function(){var o,s,a,u,c,l;return yo(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),o=[],i&&i.send_to?(l=i.send_to,Array.isArray(l)||(l=[l]),[4,Promise.all(n)]):[3,2];case 1:for(s=h.sent(),a=function(t){var n;if(!(n=(n=s.find((function(e){return e.measurementId===t})))&&e[n.appId]))return o=[],"break";o.push(n)},u=0,c=l;u<c.length&&"break"!==a(c[u]);u++);h.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return h.sent(),t(SO.EVENT,r,i||{}),[3,5];case 4:return l=h.sent(),NO.error(l),[3,5];case 5:return[2]}}))}))}(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==SO.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return vo(this,void 0,void 0,(function(){var s,a;return yo(this,(function(u){switch(u.label){case 0:s=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(a=(a=u.sent()).find((function(t){return t.measurementId===i})))?[4,e[a.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return a=u.sent(),NO.error(a),[3,8];case 8:return t(SO.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(SO.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),NO.error(a),[3,7];case 7:return[2]}}))}))}}(o,n,s,a),i={gtagCore:o,wrappedGtag:window[i]},MO=i.wrappedGtag,LO=i.gtagCore,BO=!0),FO[u]=function(t,e,n,r,i){return vo(this,void 0,void 0,(function(){var o,s,a;return yo(this,(function(u){switch(u.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=OO),vo(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return yo(this,(function(u){if(r=(o=t.options).apiKey,i=o.measurementId,!(n=o.appId))throw kO.create("no-app-id");if(r)return o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new PO,setTimeout((function(){return vo(a,void 0,void 0,(function(){return yo(this,(function(t){return s.abort(),[2]}))}))}),6e4),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,s=n.backoffCount;return void 0===i&&(i=OO),vo(this,void 0,void 0,(function(){var n,a,u,c,l;return yo(this,(function(h){switch(h.label){case 0:n=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(f=r,p=o,new Promise((function(t,e){var n=Math.max(p-Date.now(),0),r=setTimeout(t,n);f.addEventListener((function(){clearTimeout(r),e(kO.create("fetch-throttle",{throttleEndTimeMillis:p}))}))})))];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),a)return NO.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:a}];throw c;case 4:return h.trys.push([4,6,,7]),[4,DO(e)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(function(t){if(t instanceof Uo&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(u=h.sent()))return c=503===Number(u.customData.httpStatus)?us(s,i.intervalMillis,30):us(s,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1},i.setThrottleMetadata(n,l),NO.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,l,r,i)];if(i.deleteThrottleMetadata(n),a)return NO.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:a}];throw u;case 7:return[2]}var f,p}))}))}({appId:n,apiKey:r,measurementId:i},o,s,e)];if(i)return[2,{measurementId:i,appId:n}];throw kO.create("no-api-key")}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&NO.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return NO.error(t)})),e.push(o),s=function(){return vo(this,void 0,void 0,(function(){var t;return yo(this,(function(e){switch(e.label){case 0:return Lo()?[3,1]:(NO.warn(kO.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Mo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),NO.warn(kO.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return a=u.sent(),o=a[0],s=a[1],i("js",new Date),(a={}).origin="firebase",a.update=!0,a=a,null!=s&&(a.firebase_id=s),i(SO.CONFIG,o.measurementId,a),[2,o.measurementId]}}))}))}(t,jO,UO,e,LO),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return vo(this,void 0,void 0,(function(){var o;return yo(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(SO.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),o=go(go({},r),{send_to:o}),t(SO.EVENT,n,o),s.label=3;case 3:return[2]}}))}))})(MO,FO[u],t,e,n).catch((function(t){return NO.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i;return yo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(SO.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(SO.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(MO,FO[u],t,e).catch((function(t){return NO.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i;return yo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(SO.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(SO.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(MO,FO[u],t,e).catch((function(t){return NO.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return vo(this,void 0,void 0,(function(){var i,o,s,a,u;return yo(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(SO.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(SO.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(MO,FO[u],t,e).catch((function(t){return NO.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return vo(this,void 0,void 0,(function(){var n;return yo(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(FO[u],t).catch((function(t){return NO.error(t)}))},INTERNAL:{delete:function(){return delete FO[u],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:function(t){if(BO)throw kO.create("already-initialized");t.dataLayerName&&(qO=t.dataLayerName),t.gtagName&&(VO=t.gtagName)},EventName:CO,isSupported:function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:if(Po())return[2,!1];if(!Fo())return[2,!1];if(!Lo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Mo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}})),HO.INTERNAL.registerComponent(new cs("analytics-internal",(function(t){try{return{logEvent:t.getProvider(WO).getImmediate().logEvent}}catch(t){throw kO.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),HO.registerVersion("@firebase/analytics","0.6.2");var KO=(zO.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+(e=n<=t)+"."),e},zO.prototype.fetch=function(t){return vo(this,void 0,void 0,(function(){var e,n,r;return yo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},zO);function zO(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}(Dr={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Dr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Dr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Dr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Dr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Dr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Dr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Dr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var GO=new Vo("remoteconfig","Remote Config",Dr=Dr),QO=(YO.prototype.fetch=function(t){return vo(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l;return yo(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===f&&(f=navigator),f.languages&&f.languages[0]||f.language)},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),GO.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,s=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),GO.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:a=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(a={}),304!==o&&200!==o)throw GO.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:s,config:a}]}var f}))}))},YO);function YO(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var XO=($O.prototype.addEventListener=function(t){this.listeners.push(t)},$O.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},$O);function $O(){this.listeners=[]}var JO=["1","true","t","yes","y","on"],ZO=(tD.prototype.asString=function(){return this._value},tD.prototype.asBoolean=function(){return"static"!==this._source&&0<=JO.indexOf(this._value.toLowerCase())},tD.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},tD.prototype.getSource=function(){return this._source},tD);function tD(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var eD=(nD.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ys.DEBUG;break;case"silent":this._logger.logLevel=ys.SILENT;break;default:this._logger.logLevel=ys.ERROR}},Object.defineProperty(nD.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(nD.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),nD.prototype.activate=function(){return vo(this,void 0,void 0,(function(){var t,e;return yo(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},nD.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},nD.prototype.fetch=function(){return vo(this,void 0,void 0,(function(){var t,e,n,r=this;return yo(this,(function(i){switch(i.label){case 0:t=new XO,setTimeout((function(){return vo(r,void 0,void 0,(function(){return yo(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof Uo&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o}))}))},nD.prototype.fetchAndActivate=function(){return vo(this,void 0,void 0,(function(){return yo(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},nD.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(go(go({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},nD.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},nD.prototype.getNumber=function(t){return this.getValue(t).asNumber()},nD.prototype.getString=function(t){return this.getValue(t).asString()},nD.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new ZO("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new ZO("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new ZO("static"))},nD);function nD(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function rD(t,e){return GO.create(e,{originalErrorMessage:(t=t.target.error||void 0)&&t.message})}var iD="app_namespace_store",oD=(sD.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},sD.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},sD.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},sD.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},sD.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},sD.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},sD.prototype.getActiveConfig=function(){return this.get("active_config")},sD.prototype.setActiveConfig=function(t){return this.set("active_config",t)},sD.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},sD.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},sD.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},sD.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},sD.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},sD.prototype.get=function(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([iD],"readonly").objectStore(iD),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(rD(t,"storage-get"))},a.onsuccess=function(t){r((t=t.target.result)?t.value:void 0)}}catch(o){i(GO.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},sD.prototype.set=function(t,e){return vo(this,void 0,void 0,(function(){var n,r=this;return yo(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([iD],"readwrite").objectStore(iD),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(rD(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(GO.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},sD.prototype.delete=function(t){return vo(this,void 0,void 0,(function(){var e,n=this;return yo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([iD],"readwrite").objectStore(iD),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(rD(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(r){i(GO.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},sD.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},sD);function sD(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(rD(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){0===t.oldVersion&&t.target.result.createObjectStore(iD,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var aD=(uD.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},uD.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},uD.prototype.getActiveConfig=function(){return this.activeConfig},uD.prototype.loadFromStorage=function(){return vo(this,void 0,void 0,(function(){var t,e,n;return yo(this,(function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},uD.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},uD.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},uD.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},uD);function uD(t){this.storage=t}var cD=(lD.prototype.fetch=function(t){return vo(this,void 0,void 0,(function(){var e;return yo(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},lD.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return vo(this,void 0,void 0,(function(){var e,i;return yo(this,(function(o){switch(o.label){case 0:return[4,(s=t.signal,a=n,new Promise((function(t,e){var n=Math.max(a-Date.now(),0),r=setTimeout(t,n);s.addEventListener((function(){clearTimeout(r),e(GO.create("fetch-throttle",{throttleEndTimeMillis:a}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof Uo&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+us(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var s,a}))}))},lD);function lD(t,e){this.client=t,this.storage=e}var hD,fD="@firebase/remote-config";return(hD=Fs).INTERNAL.registerComponent(new cs("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw GO.create("registration-window");var i=(a=n.options).projectId,o=a.apiKey,s=a.appId;if(!i)throw GO.create("registration-project-id");if(!o)throw GO.create("registration-api-key");if(!s)throw GO.create("registration-app-id");var a,u=new oD(s,n.name,e=e||"firebase");return t=new aD(u),(a=new Ts(fD)).logLevel=ys.ERROR,s=new QO(r,hD.SDK_VERSION,e,i,o,s),s=new cD(s,u),s=new KO(s,u,t,a),(a=new eD(n,s,t,u,a)).ensureInitialized(),a}),"PUBLIC").setMultipleInstances(!0)),hD.registerVersion(fD,"0.1.30"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Fs.registerVersion("firebase","8.0.1","cdn"),Fs}));